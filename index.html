<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>
   Twitch Versus Code
  </title>
<style>
   * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      font-family: system-ui, sans-serif;
      min-height: 100vh;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      color: white;
      overflow-x: hidden;
    }
    
    #main-nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      gap: 20px;
      padding: 20px;
      background: rgba(0,0,0,0.5);
      backdrop-filter: blur(10px);
      z-index: 200;
      border-bottom: 1px solid rgba(255,255,255,0.2);
    }
    
    .nav-btn {
      padding: 12px 30px;
      font-size: 1.1rem;
      background: rgba(255,255,255,0.15);
      border: 1px solid rgba(255,255,255,0.3);
      border-radius: 25px;
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .nav-btn:hover { background: rgba(52, 152, 219, 0.4); transform: scale(1.05); }
    .nav-btn.active { background: rgba(52, 152, 219, 0.6); }
    
    h1 {
      font-size: 3rem;
      text-align: center;
      margin-top: 100px;
      margin-bottom: 20px;
      text-shadow: 0 0 30px rgba(255, 200, 100, 0.5);
      z-index: 10;
      position: relative;
    }
    
    .content-section {
      display: none;
      flex-direction: column;
      align-items: center;
      min-height: 80vh;
      padding: 20px;
      position: relative;
    }
    
    .content-section.active { display: flex; }
    
    /* Espace Section */
    #sun-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }
    
    .planet-system {
      position: relative;
      width: 300px;
      height: 300px;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 5;
    }
    
    .planet {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: linear-gradient(135deg, #3498db 0%, #2980b9 50%, #1a5276 100%);
      box-shadow: inset -30px -30px 60px rgba(0,0,0,0.4),
                  inset 10px 10px 30px rgba(255,255,255,0.2),
                  0 0 60px rgba(52, 152, 219, 0.5);
      animation: float 4s ease-in-out infinite;
    }
    
    .moon-orbit {
      position: absolute;
      width: 280px;
      height: 280px;
      border-radius: 50%;
      animation: orbit 8s linear infinite;
    }
    
    .moon {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, #ecf0f1 0%, #bdc3c7 50%, #95a5a6 100%);
      box-shadow: inset -8px -8px 15px rgba(0,0,0,0.3),
                  0 0 20px rgba(236, 240, 241, 0.3);
    }
    
    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    }
    
    .star {
      position: absolute;
      width: 3px;
      height: 3px;
      background: white;
      border-radius: 50%;
      animation: twinkle 2s ease-in-out infinite;
    }
    
    /* Animaux Section */
    #elephant {
      font-size: 80px;
      animation: elephant-bounce 2s ease-in-out infinite;
      position: relative;
      filter: drop-shadow(0 0 20px rgba(150, 150, 150, 0.5));
    }
    
    .kitty-orbit, .dog-orbit {
      position: absolute;
      border-radius: 50%;
    }
    
    .kitty-orbit { width: 340px; height: 340px; }
    .dog-orbit { width: 380px; height: 380px; }
    
    .kitty, .dog {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
    }
    
    .kitty {
      font-size: 32px;
      filter: drop-shadow(0 0 10px rgba(255, 182, 193, 0.8));
      animation: kitty-wobble 0.5s ease-in-out infinite;
    }
    
    .dog {
      font-size: 28px;
      filter: drop-shadow(0 0 10px rgba(255, 200, 100, 0.8));
      animation: dog-wobble 0.3s ease-in-out infinite;
    }
    
    .kitty.escaping { animation: kitty-panic 0.15s ease-in-out infinite !important; }
    
    #scoreboard-animaux {
      background: rgba(255,255,255,0.15);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.3);
      border-radius: 15px;
      padding: 15px 25px;
      margin-top: 20px;
      font-size: 1.2rem;
    }
    
    #dogScore { font-weight: bold; color: #ffcc00; }
    
    .water-droplet {
      position: absolute;
      font-size: 20px;
      animation: water-drop 1.5s ease-out infinite;
      filter: drop-shadow(0 0 5px rgba(100, 200, 255, 0.8));
    }
    
    /* Jeux Section */
    #snake-game-container {
      position: relative;
      z-index: 100;
    }
    
    #snakeCanvas {
      border: 2px solid rgba(100,150,255,0.5);
      border-radius: 15px;
      background: radial-gradient(ellipse at center, #0a0a2e 0%, #000010 100%);
      box-shadow: 0 0 30px rgba(100,150,255,0.3);
    }
    
    #snakeScore { font-size: 1.3rem; color: #ffcc00; text-shadow: 0 0 10px rgba(255,200,0,0.8); }
    #spaceLevel { margin-left: 20px; color: #4ecdc4; }
    
    /* Music Toggle */
    #musicToggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      padding: 12px 20px;
      font-size: 1rem;
      background: rgba(255,255,255,0.15);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.3);
      border-radius: 25px;
      color: white;
      cursor: pointer;
      z-index: 100;
      transition: all 0.3s ease;
    }
    
    #musicToggle:hover { background: rgba(255,255,255,0.25); transform: scale(1.05); }
    
    /* Animations */
    @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
    @keyframes orbit { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    @keyframes twinkle { 0%, 100% { opacity: 0.5; } 50% { opacity: 1; } }
    @keyframes elephant-bounce { 0%, 100% { transform: translateY(0) rotate(-5deg); } 50% { transform: translateY(-10px) rotate(5deg); } }
    @keyframes water-drop { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-80px) scale(0.5); opacity: 0; } }
    @keyframes kitty-wobble { 0%, 100% { transform: translateX(-50%) rotate(-10deg); } 50% { transform: translateX(-50%) rotate(10deg); } }
    @keyframes dog-wobble { 0%, 100% { transform: translateX(-50%) rotate(-5deg) scaleX(1); } 50% { transform: translateX(-50%) rotate(5deg) scaleX(-1); } }
    @keyframes kitty-panic { 0%, 100% { transform: translateX(-50%) rotate(-20deg) scale(1.2); } 50% { transform: translateX(-50%) rotate(20deg) scale(1.2); } }
  </style>
</head>
<body>
<nav id="main-nav">
<button class="nav-btn active" data-section="espace">
    üåå Espace
   </button>
<button class="nav-btn" data-section="animaux">
    üêæ Animaux
   </button>
<button class="nav-btn" data-section="jeux">
    üéÆ Jeux
   </button>
</nav>
<h1>
   Twitch Versus Code
  </h1>
<section class="content-section active" id="section-espace">
<div id="sun-container">
</div>
<div class="planet-system">
<div class="planet">
</div>
<div class="moon-orbit">
<div class="moon">
</div>
</div>
</div>
<div class="stars" id="stars-container">
</div>
</section>
<section class="content-section" id="section-animaux">
<div id="elephant-container" style="margin-top: 50px;">
<div id="elephant">
     üêò
     <div id="water-spray" style="position: absolute; top: -30px; left: 50%; transform: translateX(-50%);">
</div>
</div>
</div>
<div class="planet-system" style="margin-top: 40px;">
<div class="planet">
</div>
<div class="kitty-orbit" id="kitty-orbit">
<div class="kitty">
      üê±
     </div>
</div>
<div class="dog-orbit" id="dog-orbit">
<div class="dog">
      üêï
     </div>
</div>
</div>
<div id="scoreboard-animaux">
<span>
     üêï Dog Score:
    </span>
<span id="dogScore">
     0
    </span>
</div>
</section>
<section class="content-section" id="section-jeux">
<div id="snake-game-container">
<canvas height="400" id="snakeCanvas" width="400">
</canvas>
<div style="color: white; text-align: center; margin-top: 15px;">
     üöÄ Pilote ton vaisseau avec les fl√®ches ! Collecte les ‚≠ê et √©vite les ‚òÑÔ∏è
     <br/>
<span id="snakeScore">
      Score: 0
     </span>
<span id="spaceLevel">
      Niveau: 1
     </span>
</div>
</div>
</section>
<audio id="bgMusic" loop="" src="https://nu.vgmtreasurechest.com/soundtracks/professor-layton-and-the-unwound-future-hd-android-ios-mobile-gamerip-2020/bhjayocv/08.%20More%20London%20Streets.mp3">
</audio>
<button id="musicToggle">
   ‚ñ∂Ô∏è Play
  </button>
<script>
   // Navigation - attendre que le DOM soit pr√™t
    document.addEventListener('DOMContentLoaded', function() {
      let activeSection = 'espace';
      
      document.querySelectorAll('.nav-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const section = btn.dataset.section;
          activeSection = section;
          document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
          document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
          document.getElementById('section-' + section).classList.add('active');
          btn.classList.add('active');
        });
      });
      
      // Stars
      const starsContainer = document.getElementById('stars-container');
      for(let i = 0; i < 50; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 100 + '%';
        star.style.animationDelay = Math.random() * 2 + 's';
        starsContainer.appendChild(star);
      }
      
      // Music
      const audio = document.getElementById('bgMusic');
      const musicBtn = document.getElementById('musicToggle');
      audio.volume = 0.5;
      
      musicBtn.addEventListener('click', () => {
        if(audio.paused) {
          audio.play();
          musicBtn.textContent = '‚è∏Ô∏è Pause';
        } else {
          audio.pause();
          musicBtn.textContent = '‚ñ∂Ô∏è Play';
        }
      });
      
      // Water spray
      const waterSpray = document.getElementById('water-spray');
      const MAX_DROPLETS = 10;
      
      setInterval(() => {
        if(activeSection !== 'animaux') return;
        
        while(waterSpray.children.length > MAX_DROPLETS) {
          waterSpray.removeChild(waterSpray.firstChild);
        }
        
        for(let i = 0; i < 2; i++) {
          const droplet = document.createElement('span');
          droplet.className = 'water-droplet';
          droplet.textContent = 'üíß';
          droplet.style.left = (Math.random() * 60 - 30) + 'px';
          droplet.style.animationDuration = (1 + Math.random() * 0.5) + 's';
          waterSpray.appendChild(droplet);
        }
      }, 500);
      
      // Cat & Dog chase
      (function() {
        const kittyOrbit = document.getElementById('kitty-orbit');
        const dogOrbit = document.getElementById('dog-orbit');
        const kitty = document.querySelector('.kitty');
        const dogScoreEl = document.getElementById('dogScore');
        
        let catAngle = 0, dogAngle = Math.PI;
        let catSpeed = 0.02, dogSpeed = 0.035;
        let dogScore = 0, catchCooldown = false;
        
        function update() {
          if(activeSection !== 'animaux') {
            requestAnimationFrame(update);
            return;
          }
          
          const diff = Math.abs(catAngle - dogAngle) % (Math.PI * 2);
          const normalizedDiff = Math.min(diff, Math.PI * 2 - diff);
          
          if(normalizedDiff < 0.3 && !catchCooldown) {
            dogScore++;
            dogScoreEl.textContent = dogScore;
            catAngle = dogAngle + Math.PI;
            catchCooldown = true;
            setTimeout(() => catchCooldown = false, 1000);
          }
          
          catSpeed = normalizedDiff < 0.8 ? 0.12 : 0.02;
          kitty.classList.toggle('escaping', normalizedDiff < 0.8);
          
          catAngle -= catSpeed;
          dogAngle -= dogSpeed;
          
          kittyOrbit.style.transform = `rotate(${catAngle}rad)`;
          dogOrbit.style.transform = `rotate(${dogAngle}rad)`;
          
          requestAnimationFrame(update);
        }
        update();
      })();
      
      // Snake Game
      (function() {
        const canvas = document.getElementById('snakeCanvas');
        const ctx = canvas.getContext('2d');
        const gridSize = 20, tileCount = 20;
        
        let snake = [{x: 10, y: 10}];
        let star = {x: 15, y: 15};
        let asteroids = [];
        let dx = 0, dy = 0;
        let score = 0, level = 1, gameSpeed = 120;
        
        function spawnAsteroids() {
          asteroids = [];
          for(let i = 0; i < Math.min(3 + level, 10); i++) {
            let pos;
            let attempts = 0;
            do {
              pos = {x: Math.floor(Math.random() * tileCount), y: Math.floor(Math.random() * tileCount)};
              attempts++;
            } while(isOccupied(pos.x, pos.y) && attempts < 50);
            if(attempts < 50) asteroids.push({...pos, rot: Math.random() * Math.PI * 2});
          }
        }
        
        function isOccupied(x, y) {
          if(star.x === x && star.y === y) return true;
          for(let s of snake) if(s.x === x && s.y === y) return true;
          for(let a of asteroids) if(a.x === x && a.y === y) return true;
          return false;
        }
        
        function placeStar() {
          let attempts = 0;
          do {
            star = {x: Math.floor(Math.random() * tileCount), y: Math.floor(Math.random() * tileCount)};
            attempts++;
          } while(isOccupied(star.x, star.y) && attempts < 50);
        }
        
        function draw() {
          ctx.fillStyle = 'rgba(5,5,20,0.3)';
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          
          asteroids.forEach(a => {
            a.rot += 0.02;
            ctx.save();
            ctx.translate(a.x * gridSize + gridSize/2, a.y * gridSize + gridSize/2);
            ctx.rotate(a.rot);
            ctx.fillStyle = '#666';
            ctx.beginPath();
            ctx.arc(0, 0, 8, 0, Math.PI * 2);
            ctx.fill();
            ctx.restore();
          });
          
          ctx.fillStyle = '#ffdd00';
          ctx.shadowColor = '#ffdd00';
          ctx.shadowBlur = 15;
          ctx.beginPath();
          ctx.arc(star.x * gridSize + gridSize/2, star.y * gridSize + gridSize/2, 8, 0, Math.PI * 2);
          ctx.fill();
          ctx.shadowBlur = 0;
          
          snake.forEach((seg, i) => {
            ctx.fillStyle = i === 0 ? '#4ecdc4' : `rgba(78,205,196,${Math.max(0.3, 1 - i * 0.05)})`;
            ctx.beginPath();
            ctx.arc(seg.x * gridSize + gridSize/2, seg.y * gridSize + gridSize/2, gridSize/2 - 2, 0, Math.PI * 2);
            ctx.fill();
          });
        }
        
        function move() {
          if(dx === 0 && dy === 0) return;
          
          const head = {x: snake[0].x + dx, y: snake[0].y + dy};
          if(head.x < 0) head.x = tileCount - 1;
          if(head.x >= tileCount) head.x = 0;
          if(head.y < 0) head.y = tileCount - 1;
          if(head.y >= tileCount) head.y = 0;
          
          for(let s of snake) if(head.x === s.x && head.y === s.y) { reset(); return; }
          for(let a of asteroids) if(head.x === a.x && head.y === a.y) { reset(); return; }
          
          snake.unshift(head);
          
          if(head.x === star.x && head.y === star.y) {
            score += 10 * level;
            document.getElementById('snakeScore').textContent = 'Score: ' + score;
            if(score % (50 * level) === 0) {
              level++;
              document.getElementById('spaceLevel').textContent = 'Niveau: ' + level;
              spawnAsteroids();
            }
            placeStar();
          } else {
            snake.pop();
          }
        }
        
        function reset() {
          snake = [{x: 10, y: 10}];
          dx = dy = 0;
          score = 0;
          level = 1;
          document.getElementById('snakeScore').textContent = 'Score: 0';
          document.getElementById('spaceLevel').textContent = 'Niveau: 1';
          placeStar();
          spawnAsteroids();
        }
        
        function gameLoop() {
          if(activeSection === 'jeux') {
            move();
          }
          draw();
        }
        
        document.addEventListener('keydown', e => {
          if(['ArrowUp','ArrowDown','ArrowLeft','ArrowRight'].includes(e.key)) e.preventDefault();
          if(e.key === 'ArrowUp' && dy !== 1) { dx = 0; dy = -1; }
          if(e.key === 'ArrowDown' && dy !== -1) { dx = 0; dy = 1; }
          if(e.key === 'ArrowLeft' && dx !== 1) { dx = -1; dy = 0; }
          if(e.key === 'ArrowRight' && dx !== -1) { dx = 1; dy = 0; }
        });
        
        placeStar();
        spawnAsteroids();
        setInterval(gameLoop, gameSpeed);
      })();
      
      // Auto-switch sections
      let sectionIndex = 0;
      const sections = ['espace', 'animaux', 'jeux'];
      setInterval(() => {
        sectionIndex = (sectionIndex + 1) % sections.length;
        document.querySelectorAll('.nav-btn')[sectionIndex].click();
      }, 30000);
    });
  </script>
</body>
</html>
