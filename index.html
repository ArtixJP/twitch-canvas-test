<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>
   Twitch Versus Code
  </title>
<style>
   body { 
            font-family: system-ui, sans-serif; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh; 
            margin: 0;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
        }
        h1 { font-size: 3rem; text-align: center; }

.solar-system {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
        }
        .planet {
            position: relative;
            width: 200px;
            height: 200px;
            animation: float 4s ease-in-out infinite;
        }
        .planet-body {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b6b 0%, #c44569 30%, #6a0572 70%, #240046 100%);
            box-shadow: 
                inset -30px -30px 60px rgba(0,0,0,0.6),
                inset 10px 10px 40px rgba(255,255,255,0.2),
                0 0 60px rgba(255,107,107,0.4);
            overflow: hidden;
        }
        .planet-body::before {
            content: '';
            position: absolute;
            width: 150%;
            height: 20px;
            background: rgba(255,200,150,0.3);
            top: 40%;
            left: -25%;
            transform: rotate(-5deg);
            filter: blur(8px);
        }
        .planet-body::after {
            content: '';
            position: absolute;
            width: 150%;
            height: 15px;
            background: rgba(200,100,150,0.4);
            top: 55%;
            left: -25%;
            transform: rotate(-5deg);
            filter: blur(6px);
        }
        .ring {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 280px;
            height: 60px;
            border: 8px solid transparent;
            border-top-color: rgba(255,220,180,0.6);
            border-radius: 50%;
            transform: translate(-50%, -50%) rotateX(75deg);
            animation: ringRotate 20s linear infinite;
        }
        .ring-2 {
            width: 320px;
            height: 70px;
            border-width: 4px;
            border-top-color: rgba(200,180,255,0.4);
            animation-duration: 25s;
            animation-direction: reverse;
        }
        .atmosphere {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, transparent 60%, rgba(255,150,100,0.2) 100%);
            animation: pulse 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(2deg); }
        }
        @keyframes ringRotate {
            from { transform: translate(-50%, -50%) rotateX(75deg) rotateZ(0deg); }
            to { transform: translate(-50%, -50%) rotateX(75deg) rotateZ(360deg); }
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        .star {
            position: absolute;
            width: 3px;
            height: 3px;
            background: white;
            border-radius: 50%;
            animation: twinkle 2s ease-in-out infinite;
        }

@keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.5); }
        }

.music-controls { display: flex; justify-content: center; }
.music-btn { background: linear-gradient(135deg, #6a0572 0%, #240046 100%); border: 2px solid rgba(255,220,180,0.6); border-radius: 50px; padding: 12px 28px; color: white; font-size: 1.1rem; cursor: pointer; display: flex; align-items: center; gap: 10px; transition: all 0.3s ease; box-shadow: 0 0 20px rgba(255,107,107,0.3); }
.music-btn:hover { transform: scale(1.1); box-shadow: 0 0 30px rgba(255,107,107,0.6); border-color: #ff6b6b; }
.music-btn:active { transform: scale(0.95); }
#btnIcon { font-size: 1.4rem; animation: bounce 1s ease-in-out infinite; }
@keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-3px); } }
.music-btn.paused #btnIcon { animation: none; }

.music-controls { margin-top: 2rem; display: flex; justify-content: center; }
.music-btn { background: linear-gradient(135deg, #6a0572 0%, #240046 100%); border: 2px solid rgba(255,220,180,0.6); border-radius: 50px; padding: 15px 30px; color: white; font-size: 1.1rem; cursor: pointer; display: flex; align-items: center; gap: 12px; transition: all 0.3s ease; box-shadow: 0 0 20px rgba(255,107,107,0.3); font-family: system-ui, sans-serif; }
.music-btn:hover { transform: scale(1.05); box-shadow: 0 0 40px rgba(255,107,107,0.6), 0 0 60px rgba(200,180,255,0.3); border-color: #ff6b6b; }
.music-btn:active { transform: scale(0.98); }
.music-btn.playing { background: linear-gradient(135deg, #c44569 0%, #ff6b6b 100%); animation: musicPulse 1s ease-in-out infinite; }
.music-btn.playing #btnIcon { animation: spin 2s linear infinite; }
@keyframes musicPulse { 0%, 100% { box-shadow: 0 0 20px rgba(255,107,107,0.5); } 50% { box-shadow: 0 0 40px rgba(255,107,107,0.8), 0 0 60px rgba(200,180,255,0.4); } }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
#btnIcon { font-size: 1.5rem; display: inline-block; }

.moon-orbit {
    position: absolute;
    width: 350px;
    height: 350px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    animation: orbitMoon 8s linear infinite;
    pointer-events: none;
}
.moon {
    position: absolute;
    width: 35px;
    height: 35px;
    top: -17px;
    left: 50%;
    transform: translateX(-50%);
}
.moon-surface {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: linear-gradient(135deg, #f5f5f5 0%, #c9c9c9 40%, #8a8a8a 70%, #5a5a5a 100%);
    box-shadow: 
        inset -8px -8px 15px rgba(0,0,0,0.4),
        inset 3px 3px 10px rgba(255,255,255,0.6);
    position: relative;
    overflow: hidden;
}
.moon-surface::before {
    content: '';
    position: absolute;
    width: 8px;
    height: 8px;
    background: rgba(100,100,100,0.5);
    border-radius: 50%;
    top: 25%;
    left: 20%;
}
.moon-surface::after {
    content: '';
    position: absolute;
    width: 12px;
    height: 12px;
    background: rgba(80,80,80,0.4);
    border-radius: 50%;
    top: 50%;
    left: 55%;
}
.moon-glow {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    border-radius: 50%;
    box-shadow: 0 0 20px rgba(255,255,255,0.5), 0 0 40px rgba(200,200,255,0.3);
    animation: moonPulse 2s ease-in-out infinite;
}
@keyframes orbitMoon {
    from { transform: translate(-50%, -50%) rotate(0deg); }
    to { transform: translate(-50%, -50%) rotate(360deg); }
}
@keyframes moonPulse {
    0%, 100% { box-shadow: 0 0 20px rgba(255,255,255,0.5), 0 0 40px rgba(200,200,255,0.3); }
    50% { box-shadow: 0 0 30px rgba(255,255,255,0.7), 0 0 60px rgba(200,200,255,0.5); }
}

.kitty-orbit {
    position: absolute;
    width: 450px;
    height: 450px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    animation: orbitKitty 12s linear infinite;
    pointer-events: none;
}
.space-kitty {
    position: absolute;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 2.5rem;
    filter: drop-shadow(0 0 10px rgba(255,182,193,0.8));
}
.kitty-body {
    animation: kittyBounce 0.5s ease-in-out infinite, kittyRotate 12s linear infinite reverse;
    display: inline-block;
}
.kitty-trail {
    position: absolute;
    top: 50%;
    left: 100%;
    width: 40px;
    height: 4px;
    background: linear-gradient(90deg, rgba(255,182,193,0.8), rgba(255,182,193,0));
    border-radius: 2px;
    transform: translateY(-50%);
    animation: trailPulse 1s ease-in-out infinite;
}
.kitty-sparkles {
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.8rem;
    animation: sparkleFloat 1.5s ease-in-out infinite;
    opacity: 0.8;
}
@keyframes orbitKitty {
    from { transform: translate(-50%, -50%) rotate(0deg); }
    to { transform: translate(-50%, -50%) rotate(-360deg); }
}
@keyframes kittyBounce {
    0%, 100% { transform: translateY(0) scale(1); }
    50% { transform: translateY(-8px) scale(1.1); }
}
@keyframes kittyRotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(-360deg); }
}
@keyframes trailPulse {
    0%, 100% { opacity: 0.6; width: 40px; }
    50% { opacity: 1; width: 60px; }
}
@keyframes sparkleFloat {
    0%, 100% { transform: translateX(-50%) translateY(0); opacity: 0.8; }
    50% { transform: translateX(-50%) translateY(-5px); opacity: 1; }
}

#sun-container {
  filter: drop-shadow(0 0 30px rgba(255,200,50,0.8)) drop-shadow(0 0 60px rgba(255,150,0,0.5)) drop-shadow(0 0 100px rgba(255,100,0,0.3));
}
#sun-container canvas {
  border-radius: 50%;
}
.solar-system {
  position: relative;
  padding-top: 200px;
}
.planet {
  box-shadow: -30px 0 50px rgba(0,0,0,0.6), -50px 0 80px rgba(0,0,0,0.4);
}
.planet-body {
  background: linear-gradient(100deg, #ff8c6b 0%, #c44569 20%, #6a0572 50%, #240046 80%, #0a0015 100%) !important;
}
.light-rays {
  position: absolute;
  top: -150px;
  left: 50%;
  transform: translateX(-50%);
  width: 600px;
  height: 600px;
  background: radial-gradient(ellipse at center, rgba(255,220,100,0.15) 0%, transparent 70%);
  pointer-events: none;
  animation: rayPulse 4s ease-in-out infinite;
}
@keyframes rayPulse {
  0%, 100% { opacity: 0.8; transform: translateX(-50%) scale(1); }
  50% { opacity: 1; transform: translateX(-50%) scale(1.1); }
}

.doggy-orbit {
    position: absolute;
    width: 450px;
    height: 450px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
}
.space-doggy {
    position: absolute;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 2.2rem;
    filter: drop-shadow(0 0 10px rgba(255,200,100,0.8));
    transition: filter 0.3s;
}
.doggy-body {
    animation: doggyBounce 0.3s ease-in-out infinite;
    display: inline-block;
}
.doggy-trail {
    position: absolute;
    top: 50%;
    right: 100%;
    width: 50px;
    height: 6px;
    background: linear-gradient(270deg, rgba(255,180,100,0.9), rgba(255,150,50,0));
    border-radius: 3px;
    transform: translateY(-50%);
    animation: dogTrailPulse 0.5s ease-in-out infinite;
}
.doggy-drool {
    position: absolute;
    top: -5px;
    left: 100%;
    font-size: 0.9rem;
    animation: droolFloat 0.8s ease-in-out infinite;
    opacity: 0.9;
}
.space-doggy.excited {
    filter: drop-shadow(0 0 20px rgba(255,100,50,1)) drop-shadow(0 0 40px rgba(255,50,0,0.6));
}
.space-doggy.excited .doggy-trail {
    width: 80px;
    background: linear-gradient(270deg, rgba(255,100,50,1), rgba(255,50,0,0));
}
.kitty-orbit.escaping .space-kitty {
    filter: drop-shadow(0 0 20px rgba(100,255,255,1)) drop-shadow(0 0 40px rgba(0,255,200,0.6));
}
.kitty-orbit.escaping .kitty-trail {
    width: 100px !important;
    background: linear-gradient(90deg, rgba(100,255,255,0.9), rgba(0,255,200,0)) !important;
}
@keyframes doggyBounce {
    0%, 100% { transform: translateY(0) scale(1) scaleX(-1); }
    50% { transform: translateY(-5px) scale(1.05) scaleX(-1); }
}
@keyframes dogTrailPulse {
    0%, 100% { opacity: 0.7; width: 50px; }
    50% { opacity: 1; width: 70px; }
}
@keyframes droolFloat {
    0%, 100% { transform: translateY(0) rotate(-10deg); opacity: 0.9; }
    50% { transform: translateY(-3px) rotate(10deg); opacity: 1; }
}

.score-container { text-align: center; }
.score-board { display: flex; justify-content: center; align-items: center; gap: 2rem; font-size: 1.8rem; margin-top: 1rem; padding: 15px 30px; background: rgba(0,0,0,0.4); border-radius: 50px; border: 2px solid rgba(255,220,180,0.4); }
.dog-score, .cat-score { display: flex; align-items: center; gap: 8px; }
.dog-score span, .cat-score span { font-weight: bold; min-width: 30px; }
#dogScore { color: #ffcc00; text-shadow: 0 0 10px rgba(255,200,0,0.8); }
#catScore { color: #ff88cc; text-shadow: 0 0 10px rgba(255,136,204,0.8); }
.vs { color: rgba(255,255,255,0.5); font-size: 1rem; font-weight: bold; }
.catch-flash { animation: catchFlash 0.5s ease-out; }
@keyframes catchFlash { 0% { transform: scale(1); } 50% { transform: scale(1.5); color: #00ff00; text-shadow: 0 0 30px #00ff00; } 100% { transform: scale(1); } }
.caught-effect { position: fixed; pointer-events: none; font-size: 3rem; animation: caughtPop 1s ease-out forwards; z-index: 1000; }
@keyframes caughtPop { 0% { transform: scale(0) rotate(0deg); opacity: 1; } 50% { transform: scale(1.5) rotate(180deg); opacity: 1; } 100% { transform: scale(2) rotate(360deg) translateY(-50px); opacity: 0; } }
.respawn-kitty { animation: respawnFlash 0.5s ease-out; }
@keyframes respawnFlash { 0%, 100% { filter: drop-shadow(0 0 10px rgba(255,182,193,0.8)); } 50% { filter: drop-shadow(0 0 30px rgba(0,255,255,1)) drop-shadow(0 0 50px rgba(255,255,255,1)); } }

.planet-body.color-shift-1 { background: linear-gradient(100deg, #00ff88 0%, #00c9a7 20%, #0066ff 50%, #1a0066 80%, #0a0015 100%) !important; }
.planet-body.color-shift-2 { background: linear-gradient(100deg, #ff00ff 0%, #8800ff 20%, #0044ff 50%, #001133 80%, #0a0015 100%) !important; }
.planet-body.color-shift-3 { background: linear-gradient(100deg, #ffff00 0%, #ff8800 20%, #ff0044 50%, #440022 80%, #0a0015 100%) !important; }
.planet-body.color-shift-4 { background: linear-gradient(100deg, #00ffff 0%, #00aaff 20%, #0055aa 50%, #002244 80%, #0a0015 100%) !important; }
.planet-body.color-shift-5 { background: linear-gradient(100deg, #ff6b6b 0%, #feca57 20%, #48dbfb 50%, #1dd1a1 80%, #0a0015 100%) !important; }
.planet-color-flash { animation: planetFlash 0.6s ease-out !important; }
@keyframes planetFlash { 0% { filter: brightness(1); } 30% { filter: brightness(2.5) saturate(1.5); } 100% { filter: brightness(1); } }
.ring.ring-shift-1 { border-top-color: rgba(0,255,136,0.7) !important; }
.ring.ring-shift-2 { border-top-color: rgba(255,0,255,0.7) !important; }
.ring.ring-shift-3 { border-top-color: rgba(255,255,0,0.7) !important; }
.ring.ring-shift-4 { border-top-color: rgba(0,255,255,0.7) !important; }
.ring.ring-shift-5 { border-top-color: rgba(255,107,107,0.7) !important; }

.game-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 100; }
#gameCanvas { width: 100%; height: 100%; pointer-events: auto; cursor: crosshair; }
.game-ui { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 101; display: flex; gap: 20px; align-items: center; }
.game-stat { background: rgba(0,0,0,0.7); padding: 10px 20px; border-radius: 25px; border: 2px solid rgba(255,220,180,0.6); font-size: 1.2rem; display: flex; align-items: center; gap: 8px; }
.health-bar { width: 150px; height: 20px; background: rgba(0,0,0,0.5); border-radius: 10px; overflow: hidden; border: 2px solid #ff6b6b; }
.health-fill { height: 100%; background: linear-gradient(90deg, #ff6b6b, #ff8888); transition: width 0.3s ease; }
.combo-display { color: #ffcc00; text-shadow: 0 0 10px rgba(255,200,0,0.8); font-weight: bold; }
.game-over-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 200; opacity: 0; pointer-events: none; transition: opacity 0.5s; }
.game-over-screen.active { opacity: 1; pointer-events: auto; }
.game-over-screen h2 { font-size: 4rem; color: #ff6b6b; text-shadow: 0 0 30px rgba(255,107,107,0.8); margin-bottom: 20px; }
.game-over-screen .final-score { font-size: 2rem; color: #ffcc00; margin-bottom: 30px; }
.restart-btn { background: linear-gradient(135deg, #6a0572 0%, #240046 100%); border: 2px solid #ff6b6b; border-radius: 50px; padding: 15px 40px; color: white; font-size: 1.3rem; cursor: pointer; transition: all 0.3s; }
.restart-btn:hover { transform: scale(1.1); box-shadow: 0 0 30px rgba(255,107,107,0.6); }
.explosion { position: fixed; pointer-events: none; font-size: 2rem; animation: explode 0.5s ease-out forwards; z-index: 150; }
@keyframes explode { 0% { transform: scale(0) rotate(0deg); opacity: 1; } 100% { transform: scale(2) rotate(180deg); opacity: 0; } }
.power-up { position: absolute; font-size: 1.5rem; animation: powerFloat 2s ease-in-out infinite; cursor: pointer; }
@keyframes powerFloat { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
.shield-active { box-shadow: 0 0 50px rgba(0,200,255,0.8), inset 0 0 30px rgba(0,200,255,0.3); }
.wave-announcement { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 3rem; color: #ffcc00; text-shadow: 0 0 30px rgba(255,200,0,0.8); animation: waveAnnounce 2s ease-out forwards; z-index: 160; pointer-events: none; }
@keyframes waveAnnounce { 0% { transform: translate(-50%, -50%) scale(0); opacity: 0; } 20% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; } 80% { transform: translate(-50%, -50%) scale(1); opacity: 1; } 100% { transform: translate(-50%, -50%) scale(1.5); opacity: 0; } }

@keyframes elephantBob { 0%, 100% { transform: translateY(0) rotate(-5deg); } 50% { transform: translateY(-15px) rotate(5deg); } } #elephant { text-shadow: 0 0 30px rgba(100,180,255,0.6), 0 0 60px rgba(50,100,200,0.4); } .water-drop { position: absolute; width: 8px; height: 12px; background: linear-gradient(180deg, rgba(100,200,255,0.9), rgba(50,150,255,0.6)); border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%; animation: waterFall 1.5s ease-in forwards; pointer-events: none; } @keyframes waterFall { 0% { opacity: 1; transform: scale(1); } 100% { opacity: 0; transform: scale(0.5) translateY(100px); } } .splash { position: absolute; font-size: 1.5rem; animation: splashPop 0.8s ease-out forwards; pointer-events: none; } @keyframes splashPop { 0% { transform: scale(0); opacity: 1; } 50% { transform: scale(1.5); opacity: 1; } 100% { transform: scale(2) translateY(-20px); opacity: 0; } }

.auto-menu { position: fixed; top: 20px; right: 20px; z-index: 1000; background: rgba(0,0,0,0.8); border-radius: 20px; padding: 15px; border: 2px solid rgba(255,220,180,0.4); display: flex; flex-direction: column; gap: 8px; backdrop-filter: blur(10px); } .menu-item { background: rgba(255,255,255,0.1); border: none; color: white; padding: 12px 20px; border-radius: 12px; cursor: pointer; font-size: 1rem; transition: all 0.3s ease; text-align: left; } .menu-item:hover { background: rgba(255,255,255,0.2); transform: translateX(-5px); } .menu-item.active { background: linear-gradient(135deg, #6a0572 0%, #c44569 100%); box-shadow: 0 0 20px rgba(255,107,107,0.5); transform: translateX(-10px) scale(1.05); } .timer-bar { width: 100%; height: 4px; background: rgba(255,255,255,0.2); border-radius: 2px; margin-top: 10px; overflow: hidden; } .timer-fill { height: 100%; width: 100%; background: linear-gradient(90deg, #ff6b6b, #ffcc00, #00ff88); border-radius: 2px; animation: timerCountdown 30s linear infinite; } @keyframes timerCountdown { from { width: 100%; } to { width: 0%; } } .menu-transition { animation: sectionPulse 0.5s ease-out; } @keyframes sectionPulse { 0% { filter: brightness(1); } 50% { filter: brightness(1.5) hue-rotate(20deg); } 100% { filter: brightness(1); } } .section-indicator { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 4rem; pointer-events: none; z-index: 999; animation: indicatorPop 1s ease-out forwards; opacity: 0; } @keyframes indicatorPop { 0% { transform: translate(-50%, -50%) scale(0); opacity: 0; } 30% { transform: translate(-50%, -50%) scale(1.3); opacity: 1; } 70% { transform: translate(-50%, -50%) scale(1); opacity: 1; } 100% { transform: translate(-50%, -50%) scale(1.5); opacity: 0; } }
  </style>
</head>
<body>
<nav class="auto-menu" id="autoMenu">
<div class="menu-indicator">
</div>
<button class="menu-item active" data-section="space">
    üåå Space
   </button>
<button class="menu-item" data-section="animals">
    üêæ Animals
   </button>
<button class="menu-item" data-section="music">
    üéµ Music
   </button>
<button class="menu-item" data-section="game">
    üéÆ Game
   </button>
<div class="timer-bar">
<div class="timer-fill" id="timerFill">
</div>
</div>
</nav>
<div class="stars">
<div class="star" style="top:10%;left:15%;animation-delay:0s;">
</div>
<div class="star" style="top:20%;left:80%;animation-delay:0.5s;">
</div>
<div class="star" style="top:60%;left:10%;animation-delay:1s;">
</div>
<div class="star" style="top:80%;left:70%;animation-delay:1.5s;">
</div>
<div class="star" style="top:30%;left:50%;animation-delay:0.3s;">
</div>
<div class="star" style="top:70%;left:30%;animation-delay:0.8s;">
</div>
<div class="star" style="top:15%;left:60%;animation-delay:1.2s;">
</div>
<div class="star" style="top:85%;left:90%;animation-delay:0.2s;">
</div>
</div>
<div class="solar-system">
<div class="light-rays">
</div>
<div id="sun-container" style="position: absolute; top: -150px; left: 50%; transform: translateX(-50%); width: 400px; height: 400px; z-index: 0;">
</div>
<div class="planet">
<div class="planet-body">
</div>
<div class="ring">
</div>
<div class="ring ring-2">
</div>
<div class="atmosphere">
</div>
<div class="moon-orbit">
<div class="moon">
<div class="moon-surface">
</div>
<div class="moon-glow">
</div>
</div>
</div>
<div class="kitty-orbit">
<div class="space-kitty">
<div class="kitty-body">
       üê±
      </div>
<div class="kitty-trail">
</div>
<div class="kitty-sparkles">
       ‚ú®
      </div>
</div>
</div>
<div class="doggy-orbit" id="doggyOrbit">
<div class="space-doggy" id="spaceDoggy">
<div class="doggy-body" id="doggyBody">
       üêï
      </div>
<div class="doggy-trail">
</div>
<div class="doggy-drool">
       üí®
      </div>
</div>
</div>
</div>
<div class="score-container">
<h1>
     Hello World
    </h1>
<div class="score-board">
<span class="dog-score">
      üêï
      <span id="dogScore">
       0
      </span>
</span>
<span class="vs">
      VS
     </span>
<span class="cat-score">
      üê±
      <span id="catScore">
       0
      </span>
</span>
</div>
</div>
<div class="music-controls">
<audio id="bgMusic" loop="">
<source src="https://nu.vgmtreasurechest.com/soundtracks/professor-layton-and-the-unwound-future-hd-android-ios-mobile-gamerip-2020/bhjayocv/08.%20More%20London%20Streets.mp3" type="audio/mpeg"/>
</audio>
<button class="music-btn paused" id="musicToggle" onclick="toggleMusic()">
<span id="btnIcon">
      üéµ
     </span>
<span id="btnText">
      Play Music
     </span>
</button>
</div>
<div id="elephantContainer" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 50; pointer-events: none;">
<div id="elephant" style="font-size: 8rem; filter: drop-shadow(0 0 20px rgba(100,150,255,0.8)); animation: elephantBob 2s ease-in-out infinite;">
     üêò
    </div>
<canvas id="waterCanvas" style="position: absolute; top: -200px; left: -200px; width: 500px; height: 500px; pointer-events: none;">
</canvas>
</div>
</div>
<script>
   const audio = document.getElementById('bgMusic');
const btn = document.getElementById('musicToggle');
const icon = document.getElementById('btnIcon');
const text = document.getElementById('btnText');

// Autoplay au chargement
window.addEventListener('load', () => {
  // Tentative d'autoplay
  const playPromise = audio.play();
  
  if (playPromise !== undefined) {
    playPromise.then(() => {
      // Autoplay r√©ussi!
      icon.textContent = 'üé∂';
      text.textContent = 'Pause';
      btn.classList.remove('paused');
      btn.classList.add('playing');
    }).catch(() => {
      // Autoplay bloqu√© par le navigateur
      icon.textContent = 'üéµ';
      text.textContent = 'Play Music';
      btn.classList.add('paused');
      btn.classList.remove('playing');
    });
  }
});

// Interaction utilisateur pour contourner le blocage
document.body.addEventListener('click', function autoplayOnce() {
  if (audio.paused) {
    audio.play().then(() => {
      icon.textContent = 'üé∂';
      text.textContent = 'Pause';
      btn.classList.remove('paused');
      btn.classList.add('playing');
    });
  }
  document.body.removeEventListener('click', autoplayOnce);
}, { once: true });

function toggleMusic() {
  if (audio.paused) {
    audio.play().then(() => {
      icon.textContent = 'üé∂';
      text.textContent = 'Pause';
      btn.classList.remove('paused');
      btn.classList.add('playing');
    }).catch(e => console.log('Playback failed:', e));
  } else {
    audio.pause();
    icon.textContent = 'üéµ';
    text.textContent = 'Play Music';
    btn.classList.add('paused');
    btn.classList.remove('playing');
  }
}
  </script>
<script>
   const audio = document.getElementById('bgMusic');
const btn = document.getElementById('musicToggle');
const icon = document.getElementById('btnIcon');
const text = document.getElementById('btnText');

function toggleMusic() {
  if (audio.paused) {
    audio.play().then(() => {
      icon.textContent = 'üé∂';
      text.textContent = 'Pause';
      btn.classList.remove('paused');
      btn.classList.add('playing');
    }).catch(e => console.log('Playback failed:', e));
  } else {
    audio.pause();
    icon.textContent = 'üéµ';
    text.textContent = 'Play Music';
    btn.classList.add('paused');
    btn.classList.remove('playing');
  }
}
  </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js">
</script>
<script>
   (function() {
  const container = document.getElementById('sun-container');
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
  camera.position.z = 5;
  
  const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
  renderer.setSize(400, 400);
  renderer.setClearColor(0x000000, 0);
  container.appendChild(renderer.domElement);
  
  // Sun core
  const sunGeometry = new THREE.SphereGeometry(1.5, 64, 64);
  const sunMaterial = new THREE.MeshBasicMaterial({
    color: 0xffdd00,
  });
  const sun = new THREE.Mesh(sunGeometry, sunMaterial);
  scene.add(sun);
  
  // Corona glow layers
  const coronaGeometry = new THREE.SphereGeometry(1.7, 32, 32);
  const coronaMaterial = new THREE.ShaderMaterial({
    uniforms: {
      time: { value: 0 },
      color1: { value: new THREE.Color(0xffaa00) },
      color2: { value: new THREE.Color(0xff4400) }
    },
    vertexShader: `
      varying vec3 vNormal;
      varying vec2 vUv;
      void main() {
        vNormal = normalize(normalMatrix * normal);
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }
    `,
    fragmentShader: `
      uniform float time;
      uniform vec3 color1;
      uniform vec3 color2;
      varying vec3 vNormal;
      varying vec2 vUv;
      void main() {
        float intensity = pow(0.7 - dot(vNormal, vec3(0.0, 0.0, 1.0)), 2.0);
        float pulse = 0.8 + 0.2 * sin(time * 3.0);
        vec3 color = mix(color1, color2, sin(time + vUv.y * 5.0) * 0.5 + 0.5);
        gl_FragColor = vec4(color, intensity * pulse);
      }
    `,
    transparent: true,
    blending: THREE.AdditiveBlending,
    side: THREE.BackSide
  });
  const corona = new THREE.Mesh(coronaGeometry, coronaMaterial);
  scene.add(corona);
  
  // Outer glow
  const glowGeometry = new THREE.SphereGeometry(2.2, 32, 32);
  const glowMaterial = new THREE.ShaderMaterial({
    uniforms: { time: { value: 0 } },
    vertexShader: `
      varying vec3 vNormal;
      void main() {
        vNormal = normalize(normalMatrix * normal);
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }
    `,
    fragmentShader: `
      uniform float time;
      varying vec3 vNormal;
      void main() {
        float intensity = pow(0.5 - dot(vNormal, vec3(0.0, 0.0, 1.0)), 3.0);
        float flicker = 0.7 + 0.3 * sin(time * 5.0) * sin(time * 3.7);
        gl_FragColor = vec4(1.0, 0.6, 0.1, intensity * flicker * 0.5);
      }
    `,
    transparent: true,
    blending: THREE.AdditiveBlending,
    side: THREE.BackSide
  });
  const glow = new THREE.Mesh(glowGeometry, glowMaterial);
  scene.add(glow);
  
  // Solar flares particles
  const flareCount = 100;
  const flareGeometry = new THREE.BufferGeometry();
  const flarePositions = new Float32Array(flareCount * 3);
  const flareSizes = new Float32Array(flareCount);
  for(let i = 0; i < flareCount; i++) {
    const theta = Math.random() * Math.PI * 2;
    const phi = Math.random() * Math.PI;
    const r = 1.5 + Math.random() * 0.8;
    flarePositions[i*3] = r * Math.sin(phi) * Math.cos(theta);
    flarePositions[i*3+1] = r * Math.sin(phi) * Math.sin(theta);
    flarePositions[i*3+2] = r * Math.cos(phi);
    flareSizes[i] = Math.random() * 10 + 5;
  }
  flareGeometry.setAttribute('position', new THREE.BufferAttribute(flarePositions, 3));
  flareGeometry.setAttribute('size', new THREE.BufferAttribute(flareSizes, 1));
  const flareMaterial = new THREE.PointsMaterial({
    color: 0xffcc00,
    size: 0.1,
    transparent: true,
    opacity: 0.8,
    blending: THREE.AdditiveBlending
  });
  const flares = new THREE.Points(flareGeometry, flareMaterial);
  scene.add(flares);
  
  // Point light for scene illumination
  const sunLight = new THREE.PointLight(0xffdd44, 2, 100);
  sunLight.position.set(0, 0, 0);
  scene.add(sunLight);
  
  let time = 0;
  function animate() {
    requestAnimationFrame(animate);
    time += 0.016;
    
    coronaMaterial.uniforms.time.value = time;
    glowMaterial.uniforms.time.value = time;
    
    sun.rotation.y += 0.002;
    corona.rotation.y -= 0.001;
    flares.rotation.y += 0.003;
    flares.rotation.x += 0.001;
    
    renderer.render(scene, camera);
  }
  animate();
})();
  </script>
<script>
   (function() {
    const kittyOrbit = document.querySelector('.kitty-orbit');
    const doggyOrbit = document.getElementById('doggyOrbit');
    const spaceDoggy = document.getElementById('spaceDoggy');
    
    let kittyAngle = 0;
    let doggyAngle = Math.PI; // Start opposite side
    let kittySpeed = 0.008; // Normal cat speed
    let doggySpeed = 0.012; // Dog is faster normally
    const normalKittySpeed = 0.008;
    const normalDoggySpeed = 0.012;
    const excitedDoggySpeed = 0.02;
    const escapeKittySpeed = 0.04;
    const dangerDistance = 0.8; // radians
    
    // Remove CSS animation from kitty
    kittyOrbit.style.animation = 'none';
    doggyOrbit.style.animation = 'none';
    
    function getAngleDiff(a1, a2) {
        let diff = Math.abs(a1 - a2) % (Math.PI * 2);
        if (diff > Math.PI) diff = Math.PI * 2 - diff;
        return diff;
    }
    
    function animate() {
        const distance = getAngleDiff(kittyAngle, doggyAngle);
        
        // Dog behavior
        if (distance < dangerDistance * 1.5) {
            doggySpeed = excitedDoggySpeed;
            spaceDoggy.classList.add('excited');
        } else {
            doggySpeed = normalDoggySpeed;
            spaceDoggy.classList.remove('excited');
        }
        
        // Cat behavior - escape when dog is close!
        if (distance < dangerDistance) {
            kittySpeed = escapeKittySpeed;
            kittyOrbit.classList.add('escaping');
        } else {
            kittySpeed = normalKittySpeed;
            kittyOrbit.classList.remove('escaping');
        }
        
        // Update positions (cat goes counter-clockwise, dog chases clockwise direction)
        kittyAngle -= kittySpeed;
        
        // Dog chases in the shorter direction
        let diff = kittyAngle - doggyAngle;
        while (diff > Math.PI) diff -= Math.PI * 2;
        while (diff < -Math.PI) diff += Math.PI * 2;
        doggyAngle += (diff > 0 ? 1 : -1) * doggySpeed;
        
        // Apply transforms
        kittyOrbit.style.transform = `translate(-50%, -50%) rotate(${kittyAngle}rad)`;
        doggyOrbit.style.transform = `translate(-50%, -50%) rotate(${doggyAngle}rad)`;
        
        // Counter-rotate the emojis so they stay upright-ish
        const kittyBody = kittyOrbit.querySelector('.kitty-body');
        const doggyBody = document.getElementById('doggyBody');
        kittyBody.style.transform = `rotate(${-kittyAngle}rad)`;
        doggyBody.style.transform = `scaleX(-1) rotate(${-doggyAngle}rad)`;
        
        requestAnimationFrame(animate);
    }
    
    animate();
})();
  </script>
<script>
   (function() {
    // Override the chase animation with scoring
    const kittyOrbit = document.querySelector('.kitty-orbit');
    const doggyOrbit = document.getElementById('doggyOrbit');
    const spaceDoggy = document.getElementById('spaceDoggy');
    const spaceKitty = document.querySelector('.space-kitty');
    
    let dogScore = 0;
    let kittyAngle = 0;
    let doggyAngle = Math.PI;
    let kittySpeed = 0.008;
    let doggySpeed = 0.012;
    const normalKittySpeed = 0.008;
    const normalDoggySpeed = 0.012;
    const excitedDoggySpeed = 0.025;
    const escapeKittySpeed = 0.045;
    const dangerDistance = 0.8;
    const catchDistance = 0.25;
    let catchCooldown = false;
    
    kittyOrbit.style.animation = 'none';
    doggyOrbit.style.animation = 'none';
    
    function getAngleDiff(a1, a2) {
        let diff = Math.abs(a1 - a2) % (Math.PI * 2);
        if (diff > Math.PI) diff = Math.PI * 2 - diff;
        return diff;
    }
    
    function createCatchEffect(x, y) {
        const effect = document.createElement('div');
        effect.className = 'caught-effect';
        effect.textContent = 'üí•';
        effect.style.left = x + 'px';
        effect.style.top = y + 'px';
        document.body.appendChild(effect);
        setTimeout(() => effect.remove(), 1000);
    }
    
    function dogCatchesCat() {
        if (catchCooldown) return;
        catchCooldown = true;
        
        dogScore++;
        const scoreEl = document.getElementById('dogScore');
        scoreEl.textContent = dogScore;
        scoreEl.classList.add('catch-flash');
        setTimeout(() => scoreEl.classList.remove('catch-flash'), 500);
        
        // Get kitty position for effect
        const kittyRect = spaceKitty.getBoundingClientRect();
        createCatchEffect(kittyRect.left + kittyRect.width/2, kittyRect.top + kittyRect.height/2);
        
        // Respawn kitty on opposite side
        kittyAngle = doggyAngle + Math.PI;
        spaceKitty.classList.add('respawn-kitty');
        setTimeout(() => spaceKitty.classList.remove('respawn-kitty'), 500);
        
        // Cooldown to prevent rapid scoring
        setTimeout(() => { catchCooldown = false; }, 1500);
    }
    
    function animateChase() {
        const distance = getAngleDiff(kittyAngle, doggyAngle);
        
        // Check for catch!
        if (distance < catchDistance && !catchCooldown) {
            dogCatchesCat();
        }
        
        // Dog behavior
        if (distance < dangerDistance * 1.5) {
            doggySpeed = excitedDoggySpeed;
            spaceDoggy.classList.add('excited');
        } else {
            doggySpeed = normalDoggySpeed;
            spaceDoggy.classList.remove('excited');
        }
        
        // Cat behavior
        if (distance < dangerDistance) {
            kittySpeed = escapeKittySpeed;
            kittyOrbit.classList.add('escaping');
        } else {
            kittySpeed = normalKittySpeed;
            kittyOrbit.classList.remove('escaping');
        }
        
        kittyAngle -= kittySpeed;
        
        let diff = kittyAngle - doggyAngle;
        while (diff > Math.PI) diff -= Math.PI * 2;
        while (diff < -Math.PI) diff += Math.PI * 2;
        doggyAngle += (diff > 0 ? 1 : -1) * doggySpeed;
        
        kittyOrbit.style.transform = `translate(-50%, -50%) rotate(${kittyAngle}rad)`;
        doggyOrbit.style.transform = `translate(-50%, -50%) rotate(${doggyAngle}rad)`;
        
        const kittyBody = kittyOrbit.querySelector('.kitty-body');
        const doggyBody = document.getElementById('doggyBody');
        kittyBody.style.transform = `rotate(${-kittyAngle}rad)`;
        doggyBody.style.transform = `scaleX(-1) rotate(${-doggyAngle}rad)`;
        
        requestAnimationFrame(animateChase);
    }
    
    animateChase();
})();
  </script>
<script>
   (function() {
    const planetBody = document.querySelector('.planet-body');
    const rings = document.querySelectorAll('.ring');
    let colorIndex = 0;
    const totalColors = 5;
    
    // Store original dogCatchesCat and extend it
    const originalCatch = window.dogCatchesCat;
    
    window.changePlanetColor = function() {
        colorIndex = (colorIndex % totalColors) + 1;
        
        // Remove all previous color classes
        for(let i = 1; i <= totalColors; i++) {
            planetBody.classList.remove('color-shift-' + i);
            rings.forEach(ring => ring.classList.remove('ring-shift-' + i));
        }
        
        // Add new color class
        planetBody.classList.add('color-shift-' + colorIndex);
        rings.forEach(ring => ring.classList.add('ring-shift-' + colorIndex));
        
        // Flash effect
        planetBody.classList.add('planet-color-flash');
        setTimeout(() => planetBody.classList.remove('planet-color-flash'), 600);
    };
    
    // Hook into the existing catch mechanism by overriding createCatchEffect
    const originalCreateCatchEffect = window.createCatchEffect;
    window.createCatchEffect = function(x, y) {
        if (originalCreateCatchEffect) originalCreateCatchEffect(x, y);
        window.changePlanetColor();
    };
})();
  </script>
<script>
   // Re-implement chase with planet color change integrated
(function() {
    const kittyOrbit = document.querySelector('.kitty-orbit');
    const doggyOrbit = document.getElementById('doggyOrbit');
    const spaceDoggy = document.getElementById('spaceDoggy');
    const spaceKitty = document.querySelector('.space-kitty');
    const planetBody = document.querySelector('.planet-body');
    const rings = document.querySelectorAll('.ring');
    
    let dogScore = parseInt(document.getElementById('dogScore').textContent) || 0;
    let kittyAngle = 0;
    let doggyAngle = Math.PI;
    let kittySpeed = 0.008;
    let doggySpeed = 0.012;
    const normalKittySpeed = 0.008;
    const normalDoggySpeed = 0.012;
    const excitedDoggySpeed = 0.025;
    const escapeKittySpeed = 0.045;
    const dangerDistance = 0.8;
    const catchDistance = 0.25;
    let catchCooldown = false;
    let colorIndex = 0;
    const totalColors = 5;
    
    kittyOrbit.style.animation = 'none';
    doggyOrbit.style.animation = 'none';
    
    function getAngleDiff(a1, a2) {
        let diff = Math.abs(a1 - a2) % (Math.PI * 2);
        if (diff > Math.PI) diff = Math.PI * 2 - diff;
        return diff;
    }
    
    function changePlanetColor() {
        colorIndex = (colorIndex % totalColors) + 1;
        for(let i = 1; i <= totalColors; i++) {
            planetBody.classList.remove('color-shift-' + i);
            rings.forEach(ring => ring.classList.remove('ring-shift-' + i));
        }
        planetBody.classList.add('color-shift-' + colorIndex);
        rings.forEach(ring => ring.classList.add('ring-shift-' + colorIndex));
        planetBody.classList.add('planet-color-flash');
        setTimeout(() => planetBody.classList.remove('planet-color-flash'), 600);
    }
    
    function createCatchEffect(x, y) {
        const effect = document.createElement('div');
        effect.className = 'caught-effect';
        effect.textContent = 'üí•';
        effect.style.left = x + 'px';
        effect.style.top = y + 'px';
        document.body.appendChild(effect);
        setTimeout(() => effect.remove(), 1000);
    }
    
    function dogCatchesCat() {
        if (catchCooldown) return;
        catchCooldown = true;
        
        dogScore++;
        const scoreEl = document.getElementById('dogScore');
        scoreEl.textContent = dogScore;
        scoreEl.classList.add('catch-flash');
        setTimeout(() => scoreEl.classList.remove('catch-flash'), 500);
        
        const kittyRect = spaceKitty.getBoundingClientRect();
        createCatchEffect(kittyRect.left + kittyRect.width/2, kittyRect.top + kittyRect.height/2);
        
        // CHANGE PLANET COLOR!
        changePlanetColor();
        
        kittyAngle = doggyAngle + Math.PI;
        spaceKitty.classList.add('respawn-kitty');
        setTimeout(() => spaceKitty.classList.remove('respawn-kitty'), 500);
        
        setTimeout(() => { catchCooldown = false; }, 1500);
    }
    
    function animateChase2() {
        const distance = getAngleDiff(kittyAngle, doggyAngle);
        
        if (distance < catchDistance && !catchCooldown) {
            dogCatchesCat();
        }
        
        if (distance < dangerDistance * 1.5) {
            doggySpeed = excitedDoggySpeed;
            spaceDoggy.classList.add('excited');
        } else {
            doggySpeed = normalDoggySpeed;
            spaceDoggy.classList.remove('excited');
        }
        
        if (distance < dangerDistance) {
            kittySpeed = escapeKittySpeed;
            kittyOrbit.classList.add('escaping');
        } else {
            kittySpeed = normalKittySpeed;
            kittyOrbit.classList.remove('escaping');
        }
        
        kittyAngle -= kittySpeed;
        
        let diff = kittyAngle - doggyAngle;
        while (diff > Math.PI) diff -= Math.PI * 2;
        while (diff < -Math.PI) diff += Math.PI * 2;
        doggyAngle += (diff > 0 ? 1 : -1) * doggySpeed;
        
        kittyOrbit.style.transform = `translate(-50%, -50%) rotate(${kittyAngle}rad)`;
        doggyOrbit.style.transform = `translate(-50%, -50%) rotate(${doggyAngle}rad)`;
        
        const kittyBody = kittyOrbit.querySelector('.kitty-body');
        const doggyBody = document.getElementById('doggyBody');
        kittyBody.style.transform = `rotate(${-kittyAngle}rad)`;
        doggyBody.style.transform = `scaleX(-1) rotate(${-doggyAngle}rad)`;
        
        requestAnimationFrame(animateChase2);
    }
    
    animateChase2();
})();
  </script>
<div class="game-container">
<canvas id="gameCanvas">
</canvas>
</div>
<div class="game-ui">
<div class="game-stat">
    üõ°Ô∏è
    <div class="health-bar">
<div class="health-fill" id="healthFill" style="width: 100%;">
</div>
</div>
</div>
<div class="game-stat">
    üíé
    <span id="gameScore">
     0
    </span>
</div>
<div class="game-stat combo-display">
    üî•
    <span id="comboCount">
     x1
    </span>
</div>
<div class="game-stat">
    üåä Wave
    <span id="waveNum">
     1
    </span>
</div>
</div>
<div class="game-over-screen" id="gameOverScreen">
<h2>
    üí• GAME OVER üí•
   </h2>
<div class="final-score">
    Final Score:
    <span id="finalScore">
     0
    </span>
</div>
<div class="final-score">
    Waves Survived:
    <span id="finalWaves">
     0
    </span>
</div>
<button class="restart-btn" onclick="restartGame()">
    üöÄ Play Again
   </button>
</div>
<script>
   (function() {
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    
    function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);
    
    // Game state
    let gameState = {
        score: 0,
        health: 100,
        combo: 1,
        comboTimer: 0,
        wave: 1,
        asteroids: [],
        particles: [],
        powerUps: [],
        shieldActive: false,
        shieldTimer: 0,
        gameOver: false,
        waveTimer: 0,
        asteroidsPerWave: 5,
        spawnRate: 120,
        spawnCounter: 0
    };
    
    // Planet center (approximate)
    const getPlanetCenter = () => ({
        x: canvas.width / 2,
        y: canvas.height / 2 + 50
    });
    
    class Asteroid {
        constructor() {
            const angle = Math.random() * Math.PI * 2;
            const distance = Math.max(canvas.width, canvas.height);
            const center = getPlanetCenter();
            
            this.x = center.x + Math.cos(angle) * distance;
            this.y = center.y + Math.sin(angle) * distance;
            this.size = 20 + Math.random() * 30;
            this.speed = 1 + Math.random() * 2 + gameState.wave * 0.3;
            this.rotation = 0;
            this.rotSpeed = (Math.random() - 0.5) * 0.1;
            this.health = Math.ceil(this.size / 15);
            this.maxHealth = this.health;
            
            // Move toward planet
            const dx = center.x - this.x;
            const dy = center.y - this.y;
            const dist = Math.sqrt(dx*dx + dy*dy);
            this.vx = (dx / dist) * this.speed;
            this.vy = (dy / dist) * this.speed;
            
            // Random color
            this.hue = Math.random() * 60 + 10;
        }
        
        update() {
            this.x += this.vx;
            this.y += this.vy;
            this.rotation += this.rotSpeed;
        }
        
        draw() {
            ctx.save();
            ctx.translate(this.x, this.y);
            ctx.rotate(this.rotation);
            
            // Asteroid body
            ctx.beginPath();
            const points = 8;
            for(let i = 0; i < points; i++) {
                const angle = (i / points) * Math.PI * 2;
                const r = this.size * (0.7 + Math.sin(i * 3) * 0.3);
                const px = Math.cos(angle) * r;
                const py = Math.sin(angle) * r;
                if(i === 0) ctx.moveTo(px, py);
                else ctx.lineTo(px, py);
            }
            ctx.closePath();
            
            const gradient = ctx.createRadialGradient(0, 0, 0, 0, 0, this.size);
            gradient.addColorStop(0, `hsl(${this.hue}, 50%, 50%)`);
            gradient.addColorStop(1, `hsl(${this.hue}, 60%, 20%)`);
            ctx.fillStyle = gradient;
            ctx.fill();
            ctx.strokeStyle = `hsl(${this.hue}, 40%, 30%)`;
            ctx.lineWidth = 2;
            ctx.stroke();
            
            // Health indicator
            if(this.health < this.maxHealth) {
                ctx.fillStyle = 'rgba(255,0,0,0.5)';
                ctx.fillRect(-this.size/2, -this.size - 10, this.size * (this.health/this.maxHealth), 5);
            }
            
            ctx.restore();
        }
        
        hit() {
            this.health--;
            return this.health <= 0;
        }
        
        distToCenter() {
            const center = getPlanetCenter();
            const dx = center.x - this.x;
            const dy = center.y - this.y;
            return Math.sqrt(dx*dx + dy*dy);
        }
    }
    
    class Particle {
        constructor(x, y, color) {
            this.x = x;
            this.y = y;
            this.vx = (Math.random() - 0.5) * 10;
            this.vy = (Math.random() - 0.5) * 10;
            this.life = 1;
            this.decay = 0.02 + Math.random() * 0.02;
            this.size = 3 + Math.random() * 5;
            this.color = color || `hsl(${Math.random()*60+10}, 100%, 60%)`;
        }
        
        update() {
            this.x += this.vx;
            this.y += this.vy;
            this.vx *= 0.98;
            this.vy *= 0.98;
            this.life -= this.decay;
        }
        
        draw() {
            ctx.globalAlpha = this.life;
            ctx.fillStyle = this.color;
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.size * this.life, 0, Math.PI * 2);
            ctx.fill();
            ctx.globalAlpha = 1;
        }
    }
    
    class PowerUp {
        constructor(x, y) {
            this.x = x;
            this.y = y;
            this.type = Math.random() < 0.5 ? 'shield' : 'heal';
            this.size = 25;
            this.life = 300;
            this.bobOffset = Math.random() * Math.PI * 2;
        }
        
        update() {
            this.life--;
            this.bobOffset += 0.1;
        }
        
        draw() {
            const bobY = Math.sin(this.bobOffset) * 5;
            ctx.font = '30px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(this.type === 'shield' ? 'üõ°Ô∏è' : '‚ù§Ô∏è', this.x, this.y + bobY);
            
            // Glow
            ctx.beginPath();
            ctx.arc(this.x, this.y + bobY, this.size, 0, Math.PI * 2);
            ctx.strokeStyle = this.type === 'shield' ? 'rgba(0,200,255,0.5)' : 'rgba(255,100,100,0.5)';
            ctx.lineWidth = 3;
            ctx.stroke();
        }
    }
    
    function spawnAsteroid() {
        gameState.asteroids.push(new Asteroid());
    }
    
    function createExplosion(x, y, count = 15) {
        for(let i = 0; i < count; i++) {
            gameState.particles.push(new Particle(x, y));
        }
        
        // Visual effect
        const effect = document.createElement('div');
        effect.className = 'explosion';
        effect.textContent = 'üí•';
        effect.style.left = x + 'px';
        effect.style.top = y + 'px';
        document.body.appendChild(effect);
        setTimeout(() => effect.remove(), 500);
    }
    
    function announceWave(num) {
        const ann = document.createElement('div');
        ann.className = 'wave-announcement';
        ann.textContent = `üåä WAVE ${num} üåä`;
        document.body.appendChild(ann);
        setTimeout(() => ann.remove(), 2000);
    }
    
    function updateUI() {
        document.getElementById('healthFill').style.width = gameState.health + '%';
        document.getElementById('gameScore').textContent = gameState.score;
        document.getElementById('comboCount').textContent = 'x' + gameState.combo;
        document.getElementById('waveNum').textContent = gameState.wave;
    }
    
    function gameLoop() {
        if(gameState.gameOver) return;
        
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        // Spawn asteroids
        gameState.spawnCounter++;
        if(gameState.spawnCounter >= gameState.spawnRate) {
            spawnAsteroid();
            gameState.spawnCounter = 0;
        }
        
        // Wave progression
        gameState.waveTimer++;
        if(gameState.waveTimer >= 600) { // New wave every 10 seconds
            gameState.wave++;
            gameState.waveTimer = 0;
            gameState.spawnRate = Math.max(30, 120 - gameState.wave * 10);
            announceWave(gameState.wave);
        }
        
        // Combo decay
        gameState.comboTimer--;
        if(gameState.comboTimer <= 0 && gameState.combo > 1) {
            gameState.combo = 1;
        }
        
        // Shield timer
        if(gameState.shieldActive) {
            gameState.shieldTimer--;
            if(gameState.shieldTimer <= 0) {
                gameState.shieldActive = false;
                document.querySelector('.planet')?.classList.remove('shield-active');
            }
        }
        
        // Update and draw asteroids
        const center = getPlanetCenter();
        for(let i = gameState.asteroids.length - 1; i >= 0; i--) {
            const ast = gameState.asteroids[i];
            ast.update();
            ast.draw();
            
            // Check if hit planet
            if(ast.distToCenter() < 120) {
                if(!gameState.shieldActive) {
                    gameState.health -= 10;
                    gameState.combo = 1;
                    createExplosion(ast.x, ast.y, 20);
                }
                gameState.asteroids.splice(i, 1);
                
                if(gameState.health <= 0) {
                    endGame();
                }
            }
        }
        
        // Update and draw particles
        for(let i = gameState.particles.length - 1; i >= 0; i--) {
            const p = gameState.particles[i];
            p.update();
            p.draw();
            if(p.life <= 0) gameState.particles.splice(i, 1);
        }
        
        // Update and draw power-ups
        for(let i = gameState.powerUps.length - 1; i >= 0; i--) {
            const pu = gameState.powerUps[i];
            pu.update();
            pu.draw();
            if(pu.life <= 0) gameState.powerUps.splice(i, 1);
        }
        
        // Draw crosshair at planet center (target indicator)
        ctx.strokeStyle = 'rgba(255,255,255,0.2)';
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.arc(center.x, center.y, 120, 0, Math.PI * 2);
        ctx.stroke();
        
        updateUI();
        requestAnimationFrame(gameLoop);
    }
    
    function endGame() {
        gameState.gameOver = true;
        document.getElementById('finalScore').textContent = gameState.score;
        document.getElementById('finalWaves').textContent = gameState.wave;
        document.getElementById('gameOverScreen').classList.add('active');
    }
    
    window.restartGame = function() {
        gameState = {
            score: 0,
            health: 100,
            combo: 1,
            comboTimer: 0,
            wave: 1,
            asteroids: [],
            particles: [],
            powerUps: [],
            shieldActive: false,
            shieldTimer: 0,
            gameOver: false,
            waveTimer: 0,
            asteroidsPerWave: 5,
            spawnRate: 120,
            spawnCounter: 0
        };
        document.getElementById('gameOverScreen').classList.remove('active');
        gameLoop();
    };
    
    // Click to destroy asteroids
    canvas.addEventListener('click', (e) => {
        if(gameState.gameOver) return;
        
        const rect = canvas.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        
        // Check power-ups first
        for(let i = gameState.powerUps.length - 1; i >= 0; i--) {
            const pu = gameState.powerUps[i];
            const dx = x - pu.x;
            const dy = y - pu.y;
            if(Math.sqrt(dx*dx + dy*dy) < pu.size) {
                if(pu.type === 'shield') {
                    gameState.shieldActive = true;
                    gameState.shieldTimer = 300;
                    document.querySelector('.planet')?.classList.add('shield-active');
                } else {
                    gameState.health = Math.min(100, gameState.health + 25);
                }
                gameState.powerUps.splice(i, 1);
                return;
            }
        }
        
        // Check asteroids
        for(let i = gameState.asteroids.length - 1; i >= 0; i--) {
            const ast = gameState.asteroids[i];
            const dx = x - ast.x;
            const dy = y - ast.y;
            if(Math.sqrt(dx*dx + dy*dy) < ast.size) {
                if(ast.hit()) {
                    // Destroyed!
                    const points = Math.ceil(ast.maxHealth * 10 * gameState.combo);
                    gameState.score += points;
                    gameState.combo = Math.min(10, gameState.combo + 1);
                    gameState.comboTimer = 120;
                    
                    createExplosion(ast.x, ast.y, 25);
                    
                    // Chance to spawn power-up
                    if(Math.random() < 0.15) {
                        gameState.powerUps.push(new PowerUp(ast.x, ast.y));
                    }
                    
                    gameState.asteroids.splice(i, 1);
                } else {
                    // Just damaged
                    createExplosion(ast.x, ast.y, 5);
                }
                return;
            }
        }
    });
    
    // Start game
    announceWave(1);
    gameLoop();
})();
  </script>
<script>
   (function(){const canvas=document.getElementById('waterCanvas');if(!canvas)return;const ctx=canvas.getContext('2d');canvas.width=500;canvas.height=500;const particles=[];const elephant=document.getElementById('elephant');class WaterParticle{constructor(){this.x=250;this.y=200;const angle=-Math.PI/2+((Math.random()-0.5)*1.2);const speed=8+Math.random()*6;this.vx=Math.cos(angle)*speed;this.vy=Math.sin(angle)*speed;this.gravity=0.3;this.life=1;this.size=4+Math.random()*4;this.hue=190+Math.random()*30}update(){this.x+=this.vx;this.y+=this.vy;this.vy+=this.gravity;this.vx*=0.99;this.life-=0.015;this.size*=0.99}draw(){ctx.globalAlpha=this.life;ctx.beginPath();ctx.arc(this.x,this.y,this.size,0,Math.PI*2);const gradient=ctx.createRadialGradient(this.x,this.y,0,this.x,this.y,this.size);gradient.addColorStop(0,'rgba(200,240,255,0.9)');gradient.addColorStop(0.5,`hsla(${this.hue},80%,60%,0.7)`);gradient.addColorStop(1,'rgba(50,150,255,0.3)');ctx.fillStyle=gradient;ctx.fill();ctx.globalAlpha=1}}let sprayTimer=0;function animate(){ctx.clearRect(0,0,500,500);sprayTimer++;if(sprayTimer%3===0){for(let i=0;i<5;i++){particles.push(new WaterParticle())}}for(let i=particles.length-1;i>=0;i--){const p=particles[i];p.update();p.draw();if(p.life<=0||p.y>500){particles.splice(i,1)}}requestAnimationFrame(animate)}animate();setInterval(()=>{const splash=document.createElement('div');splash.className='splash';splash.textContent=['üíß','üí¶','üåä'][Math.floor(Math.random()*3)];splash.style.position='fixed';splash.style.left=(Math.random()*window.innerWidth)+'px';splash.style.top=(Math.random()*window.innerHeight*0.7+100)+'px';splash.style.zIndex='60';document.body.appendChild(splash);setTimeout(()=>splash.remove(),800)},500)})();
  </script>
<script>
   (function(){const sections=['space','animals','music','game'];const icons={'space':'üåå','animals':'üêæ','music':'üéµ','game':'üéÆ'};let currentIndex=0;const menuItems=document.querySelectorAll('.menu-item');const timerFill=document.getElementById('timerFill');function showSectionIndicator(section){const indicator=document.createElement('div');indicator.className='section-indicator';indicator.textContent=icons[section]+' '+section.toUpperCase();document.body.appendChild(indicator);setTimeout(()=>indicator.remove(),1000)}function highlightSection(section){switch(section){case'space':document.querySelector('.solar-system')?.classList.add('menu-transition');setTimeout(()=>document.querySelector('.solar-system')?.classList.remove('menu-transition'),500);break;case'animals':document.querySelector('.kitty-orbit')?.classList.add('menu-transition');document.querySelector('#doggyOrbit')?.classList.add('menu-transition');document.querySelector('#elephantContainer')?.classList.add('menu-transition');setTimeout(()=>{document.querySelector('.kitty-orbit')?.classList.remove('menu-transition');document.querySelector('#doggyOrbit')?.classList.remove('menu-transition');document.querySelector('#elephantContainer')?.classList.remove('menu-transition')},500);break;case'music':document.querySelector('.music-controls')?.classList.add('menu-transition');setTimeout(()=>document.querySelector('.music-controls')?.classList.remove('menu-transition'),500);break;case'game':document.querySelector('.game-ui')?.classList.add('menu-transition');setTimeout(()=>document.querySelector('.game-ui')?.classList.remove('menu-transition'),500);break}}function cycleToNext(){currentIndex=(currentIndex+1)%sections.length;const nextSection=sections[currentIndex];menuItems.forEach((item,i)=>{item.classList.toggle('active',i===currentIndex)});showSectionIndicator(nextSection);highlightSection(nextSection);timerFill.style.animation='none';timerFill.offsetHeight;timerFill.style.animation='timerCountdown 30s linear infinite'}menuItems.forEach((item,i)=>{item.addEventListener('click',()=>{currentIndex=i;menuItems.forEach((m,j)=>m.classList.toggle('active',j===i));showSectionIndicator(sections[i]);highlightSection(sections[i]);timerFill.style.animation='none';timerFill.offsetHeight;timerFill.style.animation='timerCountdown 30s linear infinite'})});setInterval(cycleToNext,30000)})();
  </script>
</body>
</html>
