<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twitch Versus Code</title>
    <style>
        body { 
            font-family: system-ui, sans-serif; 
            display: flex; 
            flex-direction: column;
            justify-content: center; 
            align-items: center; 
            min-height: 100vh; 
            margin: 0;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            overflow: hidden;
        }
        h1 { font-size: 3rem; text-align: center; margin-bottom: 2rem; }
        
        #sun-container {
            position: fixed;
            top: 30px;
            right: 50px;
            width: 150px;
            height: 150px;
            z-index: 10;
            filter: drop-shadow(0 0 30px rgba(255, 200, 50, 0.8)) drop-shadow(0 0 60px rgba(255, 150, 0, 0.5));
        }
        
        #sun-container canvas {
            border-radius: 50%;
        }
        
        /* Sun light effect on page */
        body::before {
            content: '';
            position: fixed;
            top: -50px;
            right: -50px;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(255, 220, 100, 0.15) 0%, rgba(255, 180, 50, 0.05) 40%, transparent 70%);
            pointer-events: none;
            z-index: 1;
        }
        
        .planet-container {
            position: relative;
            width: 200px;
            height: 200px;
            perspective: 1000px;
        }
        
        .planet {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4a90a4 0%, #2d5a6b 30%, #1a3a4a 70%, #0d1f2a 100%);
            box-shadow: 
                inset -30px -30px 60px rgba(0,0,0,0.6),
                inset 10px 10px 40px rgba(255,255,255,0.1),
                0 0 60px rgba(74, 144, 164, 0.4),
                0 0 100px rgba(74, 144, 164, 0.2);
            animation: rotate 20s linear infinite;
            position: relative;
            overflow: hidden;
        }
        
        .planet::before {
            content: '';
            position: absolute;
            top: 10%;
            left: 15%;
            width: 70%;
            height: 20%;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            filter: blur(10px);
        }
        
        .planet::after {
            content: '';
            position: absolute;
            top: 40%;
            left: 5%;
            width: 90%;
            height: 15%;
            background: rgba(100, 180, 200, 0.3);
            border-radius: 50%;
            filter: blur(8px);
        }
        
        .ring {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 320px;
            height: 80px;
            border: 8px solid rgba(200, 180, 150, 0.4);
            border-radius: 50%;
            transform: translate(-50%, -50%) rotateX(75deg);
            box-shadow: 
                0 0 20px rgba(200, 180, 150, 0.3),
                inset 0 0 20px rgba(200, 180, 150, 0.2);
            animation: ringRotate 20s linear infinite;
        }
        
        .moon-orbit {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300px;
            height: 300px;
            transform: translate(-50%, -50%);
            animation: orbitMoon 8s linear infinite;
            pointer-events: none;
        }
        
        .moon {
            position: absolute;
            top: -20px;
            left: 50%;
            width: 40px;
            height: 40px;
            margin-left: -20px;
            border-radius: 50%;
            background: linear-gradient(135deg, #e8e8e8 0%, #c0c0c0 30%, #888888 70%, #555555 100%);
            box-shadow: 
                inset -8px -8px 20px rgba(0,0,0,0.4),
                inset 3px 3px 10px rgba(255,255,255,0.3),
                0 0 20px rgba(200, 200, 200, 0.3);
        }
        
        .moon::before {
            content: '';
            position: absolute;
            top: 8px;
            left: 6px;
            width: 8px;
            height: 8px;
            background: rgba(100,100,100,0.5);
            border-radius: 50%;
        }
        
        .dog-orbit {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 320px;
            height: 320px;
            transform: translate(-50%, -50%);
            pointer-events: none;
        }
        
        .dog {
            position: absolute;
            top: -30px;
            left: 50%;
            margin-left: -20px;
            font-size: 35px;
            filter: drop-shadow(0 0 10px rgba(255, 200, 100, 0.6));
            transition: transform 0.1s;
        }
        
        .kitty-orbit {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 260px;
            height: 260px;
            transform: translate(-50%, -50%);
            /* animation controlled by JS */
            pointer-events: none;
        }
        
        .kitty {
            position: absolute;
            top: -25px;
            left: 50%;
            margin-left: -20px;
            font-size: 35px;
            filter: drop-shadow(0 0 10px rgba(255, 182, 193, 0.6));
            animation: kittyBounce 0.5s ease-in-out infinite;
            transition: filter 0.3s ease;
        }
        
        @keyframes orbitKitty {
            from { transform: translate(-50%, -50%) rotateZ(180deg); }
            to { transform: translate(-50%, -50%) rotateZ(540deg); }
        }
        
        @keyframes kittyBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        
        @keyframes kittyRotate {
            from { transform: rotateZ(0deg); }
            to { transform: rotateZ(360deg); }
        }
        
        .moon::after {
            content: '';
            position: absolute;
            top: 18px;
            left: 20px;
            width: 12px;
            height: 10px;
            background: rgba(100,100,100,0.4);
            border-radius: 50%;
        }
        
        @keyframes orbitMoon {
            from { transform: translate(-50%, -50%) rotateZ(0deg); }
            to { transform: translate(-50%, -50%) rotateZ(360deg); }
        }
        
        .ring::before {
            content: '';
            position: absolute;
            top: -15px;
            left: -15px;
            right: -15px;
            bottom: -15px;
            border: 4px solid rgba(180, 160, 130, 0.2);
            border-radius: 50%;
        }
        
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 2s ease-in-out infinite;
        }
        
        
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes ringRotate {
            from { transform: translate(-50%, -50%) rotateX(75deg) rotateZ(0deg); }
            to { transform: translate(-50%, -50%) rotateX(75deg) rotateZ(360deg); }
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        .music-player {
            margin-bottom: 2rem;
            text-align: center;
        }
        
        #playPauseBtn {
            background: linear-gradient(135deg, #8b5a2b 0%, #d4a574 50%, #8b5a2b 100%);
            border: 3px solid #f4e4bc;
            border-radius: 25px;
            padding: 12px 28px;
            font-size: 1.1rem;
            color: #3d2914;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(139, 90, 43, 0.5), inset 0 2px 4px rgba(255,255,255,0.3);
            transition: all 0.3s ease;
            font-family: Georgia, serif;
        }
        
        #playPauseBtn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(212, 165, 116, 0.6), inset 0 2px 4px rgba(255,255,255,0.4);
        }
        
        #playPauseBtn:active {
            transform: scale(0.98);
        }
        
        .music-title {
            font-size: 0.9rem;
            color: #d4a574;
            margin-top: 10px;
            font-style: italic;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    
    
    <div id="sun-container"></div>
    <h1>Hello World</h1>
    
    <div class="music-player">
        <button id="playPauseBtn" onclick="toggleMusic()">
            <span id="playIcon">‚ñ∂Ô∏è</span> Play Music
        </button>
        <audio id="bgMusic" loop>
            <source src="https://nu.vgmtreasurechest.com/soundtracks/professor-layton-and-the-unwound-future-hd-android-ios-mobile-gamerip-2020/bhjayocv/08.%20More%20London%20Streets.mp3" type="audio/mpeg">
        </audio>
        <p class="music-title">üé© Professor Layton - More London Streets</p>
    </div>
    <div class="planet-container">
        <div class="planet"></div>
        <div class="ring"></div>
        <div class="moon-orbit">
            <div class="moon"></div>
        </div>
        <div class="kitty-orbit" id="kittyOrbit">
            <div class="kitty" id="kitty">üê±</div>
        </div>
        <div class="dog-orbit" id="dogOrbit">
            <div class="dog" id="dog">üêï</div>
        </div>
    </div>
    <script>
        const starsContainer = document.getElementById('stars');
        for (let i = 0; i < 100; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.animationDelay = Math.random() * 2 + 's';
            star.style.width = Math.random() * 2 + 1 + 'px';
            star.style.height = star.style.width;
            starsContainer.appendChild(star);
        }
        
        const bgMusic = document.getElementById('bgMusic');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const playIcon = document.getElementById('playIcon');
        let isPlaying = false;
        
        // Auto-play music on page load
        window.addEventListener('load', function() {
            bgMusic.play().then(() => {
                isPlaying = true;
                playPauseBtn.innerHTML = '<span id="playIcon">‚è∏Ô∏è</span> Pause Music';
            }).catch(e => {
                console.log('Autoplay blocked by browser, click to play');
            });
        });
        
        function toggleMusic() {
            if (isPlaying) {
                bgMusic.pause();
                playIcon.textContent = '‚ñ∂Ô∏è';
                playPauseBtn.innerHTML = '<span id="playIcon">‚ñ∂Ô∏è</span> Play Music';
            } else {
                bgMusic.play();
                playIcon.textContent = '‚è∏Ô∏è';
                playPauseBtn.innerHTML = '<span id="playIcon">‚è∏Ô∏è</span> Pause Music';
            }
            isPlaying = !isPlaying;
        }
        
        
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // Three.js Sun with lighting effects
        const sunContainer = document.getElementById('sun-container');
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(150, 150);
        renderer.shadowMap.enabled = true;
        renderer.shadowMap.type = THREE.PCFSoftShadowMap;
        sunContainer.appendChild(renderer.domElement);
        
        // Sun sphere with glowing material
        const sunGeometry = new THREE.SphereGeometry(2, 64, 64);
        const sunMaterial = new THREE.MeshBasicMaterial({
            color: 0xffdd00
        });
        const sun = new THREE.Mesh(sunGeometry, sunMaterial);
        sun.castShadow = true;
        scene.add(sun);
        
        // Glow effect using sprite
        const spriteMaterial = new THREE.SpriteMaterial({
            map: createGlowTexture(),
            color: 0xffaa00,
            transparent: true,
            blending: THREE.AdditiveBlending
        });
        const glowSprite = new THREE.Sprite(spriteMaterial);
        glowSprite.scale.set(8, 8, 1);
        sun.add(glowSprite);
        
        // Point light emanating from sun
        const sunLight = new THREE.PointLight(0xffdd44, 2, 100);
        sunLight.castShadow = true;
        sunLight.shadow.mapSize.width = 512;
        sunLight.shadow.mapSize.height = 512;
        sun.add(sunLight);
        
        // Corona/flare particles
        const coronaGeometry = new THREE.BufferGeometry();
        const coronaCount = 200;
        const coronaPositions = new Float32Array(coronaCount * 3);
        for(let i = 0; i < coronaCount * 3; i += 3) {
            const theta = Math.random() * Math.PI * 2;
            const phi = Math.random() * Math.PI;
            const r = 2.2 + Math.random() * 0.8;
            coronaPositions[i] = r * Math.sin(phi) * Math.cos(theta);
            coronaPositions[i+1] = r * Math.sin(phi) * Math.sin(theta);
            coronaPositions[i+2] = r * Math.cos(phi);
        }
        coronaGeometry.setAttribute('position', new THREE.BufferAttribute(coronaPositions, 3));
        const coronaMaterial = new THREE.PointsMaterial({
            color: 0xffaa00,
            size: 0.15,
            transparent: true,
            opacity: 0.8,
            blending: THREE.AdditiveBlending
        });
        const corona = new THREE.Points(coronaGeometry, coronaMaterial);
        sun.add(corona);
        
        camera.position.z = 6;
        
        function createGlowTexture() {
            const canvas = document.createElement('canvas');
            canvas.width = 256;
            canvas.height = 256;
            const ctx = canvas.getContext('2d');
            const gradient = ctx.createRadialGradient(128, 128, 0, 128, 128, 128);
            gradient.addColorStop(0, 'rgba(255, 255, 200, 1)');
            gradient.addColorStop(0.2, 'rgba(255, 200, 100, 0.8)');
            gradient.addColorStop(0.5, 'rgba(255, 150, 50, 0.4)');
            gradient.addColorStop(1, 'rgba(255, 100, 0, 0)');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, 256, 256);
            const texture = new THREE.CanvasTexture(canvas);
            return texture;
        }
        
        function animateSun() {
            requestAnimationFrame(animateSun);
            sun.rotation.y += 0.005;
            corona.rotation.y -= 0.003;
            corona.rotation.x += 0.002;
            // Pulsing glow
            const pulse = 1 + Math.sin(Date.now() * 0.002) * 0.1;
            glowSprite.scale.set(8 * pulse, 8 * pulse, 1);
            renderer.render(scene, camera);
        }
        animateSun();
    </script>
    <script>
        // Dog chases cat with dynamic speed!
        let catAngle = 180;
        let dogAngle = 0;
        let catSpeed = 1.2; // degrees per frame
        let dogSpeed = 1.8; // dog is faster base speed
        const catNormalSpeed = 1.2;
        const catEscapeSpeed = 4.5;
        const dangerDistance = 60; // degrees
        
        const kittyOrbit = document.getElementById('kittyOrbit');
        const dogOrbit = document.getElementById('dogOrbit');
        const kitty = document.getElementById('kitty');
        const dog = document.getElementById('dog');
        
        function getAngleDifference(a1, a2) {
            let diff = Math.abs(a1 - a2) % 360;
            return diff > 180 ? 360 - diff : diff;
        }
        
        function animateChase() {
            // Calculate distance between cat and dog
            const distance = getAngleDifference(catAngle, dogAngle);
            
            // Cat speeds up when dog is close!
            if (distance < dangerDistance) {
                catSpeed = catEscapeSpeed;
                kitty.style.filter = 'drop-shadow(0 0 20px rgba(255, 50, 50, 0.9))';
                kitty.textContent = 'üôÄ';
                dog.textContent = 'üêï‚Äçü¶∫';
            } else {
                catSpeed = catNormalSpeed;
                kitty.style.filter = 'drop-shadow(0 0 10px rgba(255, 182, 193, 0.6))';
                kitty.textContent = 'üê±';
                dog.textContent = 'üêï';
            }
            
            // Update positions
            catAngle = (catAngle + catSpeed) % 360;
            dogAngle = (dogAngle + dogSpeed) % 360;
            
            // Apply rotations
            kittyOrbit.style.transform = `translate(-50%, -50%) rotateZ(${catAngle}deg)`;
            kitty.style.transform = `rotateZ(${-catAngle}deg)`;
            
            dogOrbit.style.transform = `translate(-50%, -50%) rotateZ(${dogAngle}deg)`;
            dog.style.transform = `rotateZ(${-dogAngle}deg) ${distance < dangerDistance ? 'scale(1.2)' : 'scale(1)'}`;
            
            requestAnimationFrame(animateChase);
        }
        
        animateChase();
    </script>
</body>
</html>