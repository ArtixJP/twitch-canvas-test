<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Twitch Versus Code</title>
<style>body { font-family: system-ui, sans-serif; display: flex; flex-direction: column; justify-content: center; align-items: center; min-height: 100vh; margin: 0; background: linear-gradient(135deg, #0a0a1a 0%, #0d1b2a 50%, #1a1a2e 100%); color: white; overflow: hidden; position: relative; } h1 { font-size: 3rem; text-align: center; z-index: 10; text-shadow: 0 0 20px rgba(100, 200, 255, 0.5); margin-bottom: 50px; } .planet-container { position: relative; width: 300px; height: 300px; display: flex; justify-content: center; align-items: center; } .planet { width: 200px; height: 200px; border-radius: 50%; position: relative; background: linear-gradient(135deg, #4a90a4 0%, #2d5a6b 30%, #1a3a4a 70%, #0d1f2a 100%); box-shadow: inset -30px -30px 60px rgba(0,0,0,0.6), inset 10px 10px 40px rgba(255,255,255,0.1), 0 0 60px rgba(74, 144, 164, 0.4), 0 0 120px rgba(74, 144, 164, 0.2); animation: rotate 20s linear infinite; z-index: 5; } .planet-surface { position: absolute; width: 100%; height: 100%; border-radius: 50%; background: repeating-linear-gradient( 0deg, transparent 0px, transparent 8px, rgba(255,255,255,0.03) 8px, rgba(255,255,255,0.03) 16px ); } .atmosphere { position: absolute; width: 110%; height: 110%; top: -5%; left: -5%; border-radius: 50%; background: radial-gradient(circle at 30% 30%, rgba(100, 200, 255, 0.2) 0%, transparent 50%); animation: glow 4s ease-in-out infinite alternate; } .ring { position: absolute; width: 350px; height: 80px; border: 3px solid rgba(200, 180, 150, 0.4); border-radius: 50%; transform: rotateX(75deg) rotateZ(-15deg); box-shadow: 0 0 20px rgba(200, 180, 150, 0.2); z-index: 4; } .ring-2 { width: 380px; height: 90px; border-color: rgba(180, 160, 130, 0.25); } .moon-orbit { position: absolute; width: 400px; height: 400px; border-radius: 50%; animation: orbitMoon 8s linear infinite; z-index: 10; } .moon { position: absolute; top: 0; left: 50%; transform: translateX(-50%); width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #e8e8e8 0%, #c0c0c0 40%, #808080 70%, #505050 100%); box-shadow: inset -8px -8px 20px rgba(0,0,0,0.4), inset 3px 3px 10px rgba(255,255,255,0.3), 0 0 20px rgba(200, 200, 200, 0.3), 0 0 40px rgba(200, 200, 200, 0.15); } .moon::before { content: ''; position: absolute; width: 8px; height: 8px; background: rgba(80, 80, 80, 0.5); border-radius: 50%; top: 10px; left: 8px; box-shadow: 12px 5px 0 4px rgba(80, 80, 80, 0.4), 5px 18px 0 2px rgba(80, 80, 80, 0.3), 20px 15px 0 3px rgba(80, 80, 80, 0.35); } .kitty-orbit { position: absolute; width: 320px; height: 320px; border-radius: 50%; animation: orbitKitty 12s linear infinite; z-index: 15; } .kitty { position: absolute; top: 0; left: 50%; transform: translateX(-50%); font-size: 2.5rem; filter: drop-shadow(0 0 10px rgba(255, 182, 193, 0.8)); animation: kittyBounce 1s ease-in-out infinite, kittyRotate 12s linear infinite reverse; cursor: pointer; transition: transform 0.2s; } .kitty:hover { transform: translateX(-50%) scale(1.3); } .kitty-sparkle { position: absolute; font-size: 1rem; top: -10px; right: -15px; animation: sparkle 0.8s ease-in-out infinite; } @keyframes orbitKitty { from { transform: rotate(180deg); } to { transform: rotate(540deg); } } @keyframes kittyBounce { 0%, 100% { margin-top: 0; } 50% { margin-top: -8px; } } @keyframes kittyRotate { from { transform: translateX(-50%) rotate(0deg); } to { transform: translateX(-50%) rotate(-360deg); } } @keyframes sparkle { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.3; transform: scale(0.5); } } .stars { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; background-image: radial-gradient(2px 2px at 20px 30px, white, transparent), radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.8), transparent), radial-gradient(1px 1px at 90px 40px, white, transparent), radial-gradient(2px 2px at 160px 120px, rgba(255,255,255,0.9), transparent), radial-gradient(1px 1px at 230px 80px, white, transparent), radial-gradient(2px 2px at 300px 150px, rgba(255,255,255,0.7), transparent), radial-gradient(1px 1px at 400px 60px, white, transparent), radial-gradient(2px 2px at 500px 200px, rgba(255,255,255,0.8), transparent), radial-gradient(1px 1px at 600px 100px, white, transparent), radial-gradient(2px 2px at 700px 250px, white, transparent), radial-gradient(1px 1px at 800px 50px, rgba(255,255,255,0.9), transparent), radial-gradient(2px 2px at 150px 300px, white, transparent), radial-gradient(1px 1px at 350px 400px, rgba(255,255,255,0.8), transparent), radial-gradient(2px 2px at 550px 350px, white, transparent), radial-gradient(1px 1px at 750px 450px, rgba(255,255,255,0.7), transparent); background-size: 900px 500px; animation: twinkle 8s ease-in-out infinite; } #musicToggle { position: fixed; bottom: 30px; right: 30px; z-index: 100; padding: 12px 24px; font-size: 1rem; font-weight: bold; background: linear-gradient(135deg, rgba(74, 144, 164, 0.8) 0%, rgba(45, 90, 107, 0.9) 100%); border: 2px solid rgba(100, 200, 255, 0.5); border-radius: 50px; color: white; cursor: pointer; box-shadow: 0 0 20px rgba(74, 144, 164, 0.4), 0 4px 15px rgba(0,0,0,0.3); transition: all 0.3s ease; backdrop-filter: blur(10px); } #musicToggle:hover { transform: scale(1.05); box-shadow: 0 0 30px rgba(74, 144, 164, 0.6), 0 6px 20px rgba(0,0,0,0.4); background: linear-gradient(135deg, rgba(100, 180, 200, 0.9) 0%, rgba(60, 110, 130, 0.95) 100%); } #musicToggle.paused { background: linear-gradient(135deg, rgba(150, 100, 164, 0.8) 0%, rgba(100, 60, 107, 0.9) 100%); border-color: rgba(200, 150, 255, 0.5); box-shadow: 0 0 20px rgba(150, 100, 164, 0.4), 0 4px 15px rgba(0,0,0,0.3); } @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } } @keyframes glow { from { opacity: 0.5; } to { opacity: 1; } } @keyframes twinkle { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } } @keyframes orbitMoon { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
.doggy-orbit { position: absolute; width: 340px; height: 340px; border-radius: 50%; animation: orbitDoggy 6s linear infinite; z-index: 14; } .doggy { position: absolute; top: 0; left: 50%; transform: translateX(-50%); font-size: 2.2rem; filter: drop-shadow(0 0 10px rgba(255, 200, 100, 0.8)); animation: doggyBounce 0.4s ease-in-out infinite; cursor: pointer; transition: transform 0.2s; } .doggy:hover { transform: translateX(-50%) scale(1.3); } .doggy-trail { position: absolute; font-size: 1rem; top: 5px; right: -20px; opacity: 0.7; animation: trailFade 0.3s ease-in-out infinite; } @keyframes orbitDoggy { from { transform: rotate(0deg); } to { transform: rotate(360deg); } } @keyframes doggyBounce { 0%, 100% { margin-top: 0; } 50% { margin-top: -5px; } } @keyframes trailFade { 0%, 100% { opacity: 0.7; transform: scale(1); } 50% { opacity: 0.3; transform: scale(0.7); } } .kitty-orbit.escaping { animation-duration: 2s !important; } .kitty-orbit.escaping .kitty { animation: kittyPanic 0.2s ease-in-out infinite, kittyRotate 2s linear infinite reverse !important; } .kitty.scared::after { content: 'üò±'; position: absolute; font-size: 0.8rem; top: -15px; left: 50%; transform: translateX(-50%); } @keyframes kittyPanic { 0%, 100% { margin-top: 0; transform: translateX(-50%) rotate(-5deg); } 25% { margin-top: -12px; transform: translateX(-45%) rotate(5deg); } 50% { margin-top: -6px; transform: translateX(-55%) rotate(-3deg); } 75% { margin-top: -15px; transform: translateX(-50%) rotate(3deg); } } .doggy-orbit.chasing { animation-duration: 4s !important; } .doggy.excited::before { content: 'üî•'; position: absolute; font-size: 0.7rem; top: -10px; right: 0; animation: fireFlicker 0.15s infinite; } @keyframes fireFlicker { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
#catchAlert.show { transform: translate(-50%, -50%) scale(1); opacity: 1; }
#scoreBoard { animation: scorePulse 2s ease-in-out infinite; }
@keyframes scorePulse { 0%, 100% { box-shadow: 0 0 30px rgba(255, 150, 50, 0.5), 0 5px 20px rgba(0,0,0,0.4); } 50% { box-shadow: 0 0 40px rgba(255, 150, 50, 0.7), 0 5px 25px rgba(0,0,0,0.5); } }
#dogScore.scored { animation: scoreUp 0.5s ease-out; }
@keyframes scoreUp { 0% { transform: scale(1); } 50% { transform: scale(1.5); color: #ffff00; } 100% { transform: scale(1); } }
.planet.caught { animation: planetColorChange 1.5s ease-out !important; }
@keyframes planetColorChange { 0% { background: linear-gradient(135deg, #ff6b6b 0%, #feca57 30%, #48dbfb 70%, #ff9ff3 100%); box-shadow: inset -30px -30px 60px rgba(0,0,0,0.6), inset 30px 20px 40px rgba(255, 220, 100, 0.3), 0 0 80px rgba(255, 107, 107, 0.6), 0 0 150px rgba(254, 202, 87, 0.4); } 50% { background: linear-gradient(135deg, #a29bfe 0%, #fd79a8 30%, #00b894 70%, #fdcb6e 100%); box-shadow: inset -30px -30px 60px rgba(0,0,0,0.6), inset 30px 20px 40px rgba(255, 220, 100, 0.3), 0 0 100px rgba(162, 155, 254, 0.7), 0 0 180px rgba(253, 121, 168, 0.5); } 100% { background: linear-gradient(135deg, #4a90a4 0%, #2d5a6b 30%, #1a3a4a 70%, #0d1f2a 100%); box-shadow: inset -30px -30px 60px rgba(0,0,0,0.6), inset 30px 20px 40px rgba(255, 220, 100, 0.15), 0 0 60px rgba(74, 144, 164, 0.4), 0 0 120px rgba(74, 144, 164, 0.2), -25px 20px 40px rgba(0, 0, 0, 0.9); } }
.atmosphere.caught { animation: atmosphereGlow 1.5s ease-out !important; }
@keyframes atmosphereGlow { 0%, 50% { background: radial-gradient(circle at 30% 30%, rgba(255, 150, 200, 0.5) 0%, transparent 50%); transform: scale(1.1); } 100% { background: radial-gradient(circle at 30% 30%, rgba(100, 200, 255, 0.2) 0%, transparent 50%); transform: scale(1); } }
.ring.caught { animation: ringFlash 1.5s ease-out !important; }
@keyframes ringFlash { 0% { border-color: rgba(255, 200, 100, 0.8); box-shadow: 0 0 40px rgba(255, 200, 100, 0.6); } 50% { border-color: rgba(255, 150, 200, 0.7); box-shadow: 0 0 50px rgba(255, 150, 200, 0.5); } 100% { border-color: rgba(200, 180, 150, 0.4); box-shadow: 0 0 20px rgba(200, 180, 150, 0.2); } }</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script></head>
<body><div id="scoreBoard" style="position: fixed; top: 20px; left: 20px; z-index: 100; background: linear-gradient(135deg, rgba(255, 150, 50, 0.9) 0%, rgba(200, 100, 30, 0.95) 100%); padding: 15px 25px; border-radius: 20px; border: 3px solid rgba(255, 200, 100, 0.6); box-shadow: 0 0 30px rgba(255, 150, 50, 0.5), 0 5px 20px rgba(0,0,0,0.4); backdrop-filter: blur(10px);"><div style="display: flex; align-items: center; gap: 15px;"><span style="font-size: 2rem;">üêï</span><div><div style="font-size: 0.8rem; opacity: 0.8; text-transform: uppercase; letter-spacing: 2px;">Dog Score</div><div id="dogScore" style="font-size: 2.5rem; font-weight: bold; text-shadow: 0 0 10px rgba(255,255,255,0.5);">0</div></div></div></div><div id="catchAlert" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); z-index: 200; background: radial-gradient(circle, rgba(255, 200, 50, 0.95) 0%, rgba(255, 150, 30, 0.9) 100%); padding: 30px 50px; border-radius: 30px; box-shadow: 0 0 60px rgba(255, 200, 50, 0.8), 0 10px 40px rgba(0,0,0,0.5); text-align: center; transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.3s; opacity: 0;"><div style="font-size: 3rem; margin-bottom: 10px;">üêï caught üê±!</div><div style="font-size: 1.5rem;">+1 Point!</div></div><div id="startOverlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(10, 10, 26, 0.95); display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 1000; cursor: pointer; transition: opacity 0.5s ease;"><h2 style="font-size: 2.5rem; color: white; text-shadow: 0 0 30px rgba(100, 200, 255, 0.8); margin-bottom: 20px;">üöÄ Enter Space</h2><p style="color: rgba(255,255,255,0.7); font-size: 1.2rem;">Click anywhere to begin your journey</p><div style="margin-top: 30px; animation: pulse 2s infinite;"><span style="font-size: 3rem;">üéµ</span></div></div><style>@keyframes pulse { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.2); opacity: 0.7; } }</style>
<h1>Welcome to Space</h1>
<div id="sunContainer" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none;"></div><div class="planet-container"><div class="planet"><div class="planet-surface"></div><div class="atmosphere"></div></div><div class="ring"></div><div class="ring ring-2"></div><div class="moon-orbit"><div class="moon"></div></div><div class="kitty-orbit"><div class="kitty">üê±<span class="kitty-sparkle">‚ú®</span></div></div><div class="doggy-orbit"><div class="doggy">üêï<span class="doggy-trail">üí®</span></div></div></div><div class="stars" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; background-image: radial-gradient(2px 2px at 20px 30px, white, transparent), radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.8), transparent), radial-gradient(1px 1px at 90px 40px, white, transparent), radial-gradient(2px 2px at 160px 120px, rgba(255,255,255,0.9), transparent), radial-gradient(1px 1px at 230px 80px, white, transparent), radial-gradient(2px 2px at 300px 150px, rgba(255,255,255,0.7), transparent), radial-gradient(1px 1px at 400px 60px, white, transparent), radial-gradient(2px 2px at 500px 200px, rgba(255,255,255,0.8), transparent), radial-gradient(1px 1px at 600px 100px, white, transparent), radial-gradient(2px 2px at 700px 250px, white, transparent), radial-gradient(1px 1px at 800px 50px, rgba(255,255,255,0.9), transparent), radial-gradient(1px 1px at 350px 400px, rgba(255,255,255,0.8), transparent), radial-gradient(2px 2px at 550px 350px, white, transparent), radial-gradient(1px 1px at 750px 450px, rgba(255,255,255,0.7), transparent); background-size: 900px 500px; animation: twinkle 8s ease-in-out infinite;"></div><script>function toggleMusic() { const audio = document.getElementById('bgMusic'); const btn = document.getElementById('musicToggle'); if (audio.paused) { audio.play(); btn.innerHTML = 'üéµ Pause'; btn.classList.remove('paused'); } else { audio.pause(); btn.innerHTML = 'üéµ Play'; btn.classList.add('paused'); } } function startExperience() { const overlay = document.getElementById('startOverlay'); const audio = document.getElementById('bgMusic'); const btn = document.getElementById('musicToggle'); audio.volume = 0.5; audio.play().then(function() { btn.innerHTML = 'üéµ Pause'; btn.classList.remove('paused'); }).catch(function(e) { console.log('Autoplay failed:', e); btn.innerHTML = 'üéµ Play'; btn.classList.add('paused'); }); overlay.style.opacity = '0'; setTimeout(function() { overlay.style.display = 'none'; }, 500); } document.addEventListener('DOMContentLoaded', function() { const overlay = document.getElementById('startOverlay'); overlay.addEventListener('click', startExperience); const btn = document.getElementById('musicToggle'); btn.innerHTML = 'üéµ Play'; btn.classList.add('paused'); });</script><audio autoplay="" id="bgMusic" loop=""><source src="https://nu.vgmtreasurechest.com/soundtracks/professor-layton-and-the-unwound-future-hd-android-ios-mobile-gamerip-2020/bhjayocv/08.%20More%20London%20Streets.mp3" type="audio/mpeg"/></audio><button id="musicToggle" onclick="toggleMusic()">üéµ Pause</button><script>
(function() {
  const container = document.getElementById('sunContainer');
  
  // Scene setup
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
  const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
  renderer.setSize(window.innerWidth, window.innerHeight);
  renderer.shadowMap.enabled = true;
  renderer.shadowMap.type = THREE.PCFSoftShadowMap;
  container.appendChild(renderer.domElement);
  
  // Sun geometry
  const sunGeometry = new THREE.SphereGeometry(2, 64, 64);
  
  // Sun material with glow
  const sunMaterial = new THREE.MeshBasicMaterial({
    color: 0xffdd00,
    transparent: true
  });
  
  const sun = new THREE.Mesh(sunGeometry, sunMaterial);
  sun.position.set(-8, 5, -10);
  scene.add(sun);
  
  // Corona/Glow layers
  const coronaGeometry = new THREE.SphereGeometry(2.3, 64, 64);
  const coronaMaterial = new THREE.MeshBasicMaterial({
    color: 0xffaa00,
    transparent: true,
    opacity: 0.4
  });
  const corona = new THREE.Mesh(coronaGeometry, coronaMaterial);
  corona.position.copy(sun.position);
  scene.add(corona);
  
  const outerGlowGeometry = new THREE.SphereGeometry(3, 64, 64);
  const outerGlowMaterial = new THREE.MeshBasicMaterial({
    color: 0xff6600,
    transparent: true,
    opacity: 0.2
  });
  const outerGlow = new THREE.Mesh(outerGlowGeometry, outerGlowMaterial);
  outerGlow.position.copy(sun.position);
  scene.add(outerGlow);
  
  // Point light from sun
  const sunLight = new THREE.PointLight(0xffdd88, 2, 100);
  sunLight.position.copy(sun.position);
  sunLight.castShadow = true;
  sunLight.shadow.mapSize.width = 2048;
  sunLight.shadow.mapSize.height = 2048;
  scene.add(sunLight);
  
  // Ambient light
  const ambientLight = new THREE.AmbientLight(0x222244, 0.5);
  scene.add(ambientLight);
  
  // Sun rays (volumetric effect)
  const rayCount = 12;
  const rays = [];
  for (let i = 0; i < rayCount; i++) {
    const rayGeometry = new THREE.ConeGeometry(0.1, 8, 8);
    const rayMaterial = new THREE.MeshBasicMaterial({
      color: 0xffee88,
      transparent: true,
      opacity: 0.15
    });
    const ray = new THREE.Mesh(rayGeometry, rayMaterial);
    ray.position.copy(sun.position);
    ray.rotation.z = (i / rayCount) * Math.PI * 2;
    ray.rotation.x = Math.PI / 2;
    rays.push(ray);
    scene.add(ray);
  }
  
  camera.position.z = 15;
  
  // Animation
  let time = 0;
  function animate() {
    requestAnimationFrame(animate);
    time += 0.01;
    
    // Pulsing glow
    const pulse = Math.sin(time * 2) * 0.1 + 1;
    corona.scale.set(pulse, pulse, pulse);
    outerGlow.scale.set(pulse * 1.1, pulse * 1.1, pulse * 1.1);
    
    // Rotate rays
    rays.forEach((ray, i) => {
      ray.rotation.z = (i / rayCount) * Math.PI * 2 + time * 0.2;
      ray.material.opacity = 0.1 + Math.sin(time * 3 + i) * 0.05;
    });
    
    // Light intensity variation
    sunLight.intensity = 1.5 + Math.sin(time * 1.5) * 0.3;
    
    renderer.render(scene, camera);
  }
  animate();
  
  // Handle resize
  window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
})();
</script><style>
  .planet-container {
    filter: drop-shadow(-20px 15px 30px rgba(0, 0, 0, 0.8));
  }
  .planet {
    box-shadow: 
      inset -30px -30px 60px rgba(0,0,0,0.6), 
      inset 30px 20px 40px rgba(255, 220, 100, 0.15),
      0 0 60px rgba(74, 144, 164, 0.4), 
      0 0 120px rgba(74, 144, 164, 0.2),
      -25px 20px 40px rgba(0, 0, 0, 0.9);
  }
  .moon {
    box-shadow: 
      inset -8px -8px 20px rgba(0,0,0,0.4), 
      inset 8px 5px 15px rgba(255, 220, 100, 0.25),
      0 0 20px rgba(200, 200, 200, 0.3), 
      -10px 8px 15px rgba(0, 0, 0, 0.8);
  }
  #sunContainer canvas {
    position: fixed;
    top: 0;
    left: 0;
  }
</style><script>
(function() {
  const kittyOrbit = document.querySelector('.kitty-orbit');
  const kitty = document.querySelector('.kitty');
  let doggyOrbit, doggy;
  
  // Wait for elements to be added
  setTimeout(() => {
    doggyOrbit = document.querySelector('.doggy-orbit');
    doggy = document.querySelector('.doggy');
    if (!doggyOrbit || !doggy) return;
    
    let isEscaping = false;
    let escapeTimeout = null;
    
    function getOrbitAngle(element) {
      const style = window.getComputedStyle(element);
      const transform = style.transform;
      if (transform === 'none') return 0;
      const values = transform.split('(')[1].split(')')[0].split(',');
      const a = parseFloat(values[0]);
      const b = parseFloat(values[1]);
      return Math.atan2(b, a) * (180 / Math.PI);
    }
    
    function normalizeAngle(angle) {
      while (angle < 0) angle += 360;
      while (angle >= 360) angle -= 360;
      return angle;
    }
    
    function checkProximity() {
      const kittyAngle = normalizeAngle(getOrbitAngle(kittyOrbit));
      const doggyAngle = normalizeAngle(getOrbitAngle(doggyOrbit));
      
      let angleDiff = Math.abs(kittyAngle - doggyAngle);
      if (angleDiff > 180) angleDiff = 360 - angleDiff;
      
      const closeThreshold = 45;
      const safeThreshold = 120;
      
      if (angleDiff < closeThreshold && !isEscaping) {
        // Dog is close! Cat escapes!
        isEscaping = true;
        kittyOrbit.classList.add('escaping');
        kitty.classList.add('scared');
        doggyOrbit.classList.add('chasing');
        doggy.classList.add('excited');
        
        if (escapeTimeout) clearTimeout(escapeTimeout);
      } else if (angleDiff > safeThreshold && isEscaping) {
        // Cat is safe, slow down
        escapeTimeout = setTimeout(() => {
          isEscaping = false;
          kittyOrbit.classList.remove('escaping');
          kitty.classList.remove('scared');
          doggyOrbit.classList.remove('chasing');
          doggy.classList.remove('excited');
        }, 500);
      }
    }
    
    // Check proximity every 100ms
    setInterval(checkProximity, 100);
  }, 100);
})();
</script><script>
(function() {
  let dogScore = 0;
  let canScore = true;
  const cooldownTime = 3000; // 3 seconds before dog can score again
  
  function updateScore() {
    const scoreEl = document.getElementById('dogScore');
    const alertEl = document.getElementById('catchAlert');
    
    dogScore++;
    scoreEl.textContent = dogScore;
    scoreEl.classList.add('scored');
    setTimeout(() => scoreEl.classList.remove('scored'), 500);
    
    // Show catch alert
    alertEl.classList.add('show');
    setTimeout(() => alertEl.classList.remove('show'), 1500);
    
    // Cooldown
    canScore = false;
    setTimeout(() => canScore = true, cooldownTime);
  }
  
  function getOrbitAngle(element) {
    const style = window.getComputedStyle(element);
    const transform = style.transform;
    if (transform === 'none') return 0;
    const values = transform.split('(')[1].split(')')[0].split(',');
    const a = parseFloat(values[0]);
    const b = parseFloat(values[1]);
    return Math.atan2(b, a) * (180 / Math.PI);
  }
  
  function normalizeAngle(angle) {
    while (angle < 0) angle += 360;
    while (angle >= 360) angle -= 360;
    return angle;
  }
  
  function checkCatch() {
    const kittyOrbit = document.querySelector('.kitty-orbit');
    const doggyOrbit = document.querySelector('.doggy-orbit');
    if (!kittyOrbit || !doggyOrbit) return;
    
    const kittyAngle = normalizeAngle(getOrbitAngle(kittyOrbit));
    const doggyAngle = normalizeAngle(getOrbitAngle(doggyOrbit));
    
    let angleDiff = Math.abs(kittyAngle - doggyAngle);
    if (angleDiff > 180) angleDiff = 360 - angleDiff;
    
    const catchThreshold = 15; // Very close = caught!
    
    if (angleDiff < catchThreshold && canScore) {
      updateScore();
    }
  }
  
  // Check for catches every 50ms
  setInterval(checkCatch, 50);
})();
</script><script>
(function() {
  function triggerPlanetColorChange() {
    const planet = document.querySelector('.planet');
    const atmosphere = document.querySelector('.atmosphere');
    const rings = document.querySelectorAll('.ring');
    
    if (planet) {
      planet.classList.remove('caught');
      void planet.offsetWidth; // Force reflow
      planet.classList.add('caught');
      setTimeout(() => planet.classList.remove('caught'), 1500);
    }
    
    if (atmosphere) {
      atmosphere.classList.remove('caught');
      void atmosphere.offsetWidth;
      atmosphere.classList.add('caught');
      setTimeout(() => atmosphere.classList.remove('caught'), 1500);
    }
    
    rings.forEach(ring => {
      ring.classList.remove('caught');
      void ring.offsetWidth;
      ring.classList.add('caught');
      setTimeout(() => ring.classList.remove('caught'), 1500);
    });
  }
  
  // Override the catch detection to also trigger planet color change
  const originalAlertShow = document.getElementById('catchAlert');
  const observer = new MutationObserver(function(mutations) {
    mutations.forEach(function(mutation) {
      if (mutation.attributeName === 'class') {
        const alert = mutation.target;
        if (alert.classList.contains('show')) {
          triggerPlanetColorChange();
        }
      }
    });
  });
  
  if (originalAlertShow) {
    observer.observe(originalAlertShow, { attributes: true });
  }
})();
</script><div id="gameContainer" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 50; pointer-events: none;"><canvas id="gameCanvas" style="width: 100%; height: 100%; pointer-events: auto;"></canvas></div><div id="gameUI" style="position: fixed; top: 20px; right: 20px; z-index: 100; background: linear-gradient(135deg, rgba(100, 50, 200, 0.9) 0%, rgba(60, 30, 120, 0.95) 100%); padding: 15px 25px; border-radius: 20px; border: 3px solid rgba(180, 150, 255, 0.6); box-shadow: 0 0 30px rgba(150, 100, 255, 0.5), 0 5px 20px rgba(0,0,0,0.4); backdrop-filter: blur(10px);"><div style="display: flex; align-items: center; gap: 15px;"><span style="font-size: 2rem;">üöÄ</span><div><div style="font-size: 0.8rem; opacity: 0.8; text-transform: uppercase; letter-spacing: 2px;">Asteroids Destroyed</div><div id="asteroidScore" style="font-size: 2.5rem; font-weight: bold; text-shadow: 0 0 10px rgba(255,255,255,0.5);">0</div></div></div></div><div id="gameControls" style="position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); z-index: 100; background: rgba(0,0,0,0.7); padding: 10px 20px; border-radius: 15px; font-size: 0.9rem; color: rgba(255,255,255,0.8); text-align: center;">üéÆ <strong>Arrow Keys</strong> to move | <strong>Spacebar</strong> to shoot | Protect the planet!</div><script>(function(){const canvas=document.getElementById('gameCanvas');const ctx=canvas.getContext('2d');let width=canvas.width=window.innerWidth;let height=canvas.height=window.innerHeight;const centerX=width/2;const centerY=height/2;let asteroidScore=0;const ship={x:width/2,y:height-150,width:40,height:50,speed:8,dx:0,dy:0};const bullets=[];const asteroids=[];const particles=[];const keys={};let gameActive=true;function resizeCanvas(){width=canvas.width=window.innerWidth;height=canvas.height=window.innerHeight;ship.x=Math.min(ship.x,width-ship.width);ship.y=Math.min(ship.y,height-ship.height);}window.addEventListener('resize',resizeCanvas);document.addEventListener('keydown',(e)=>{keys[e.code]=true;if(e.code==='Space'){e.preventDefault();shoot();}});document.addEventListener('keyup',(e)=>{keys[e.code]=false;});function shoot(){bullets.push({x:ship.x+ship.width/2,y:ship.y,speed:12,radius:4});}function spawnAsteroid(){const side=Math.floor(Math.random()*4);let x,y,dx,dy;const speed=2+Math.random()*2;switch(side){case 0:x=Math.random()*width;y=-50;dx=(centerX-x)*0.002;dy=speed;break;case 1:x=width+50;y=Math.random()*height;dx=-speed;dy=(centerY-y)*0.002;break;case 2:x=Math.random()*width;y=height+50;dx=(centerX-x)*0.002;dy=-speed;break;case 3:x=-50;y=Math.random()*height;dx=speed;dy=(centerY-y)*0.002;break;}asteroids.push({x,y,dx,dy,radius:20+Math.random()*30,rotation:0,rotationSpeed:(Math.random()-0.5)*0.1,vertices:generateAsteroidVertices()});}function generateAsteroidVertices(){const vertices=[];const numVertices=8+Math.floor(Math.random()*5);for(let i=0;i<numVertices;i++){const angle=(i/numVertices)*Math.PI*2;const radius=0.7+Math.random()*0.3;vertices.push({angle,radius});}return vertices;}function createExplosion(x,y,color){for(let i=0;i<15;i++){const angle=Math.random()*Math.PI*2;const speed=2+Math.random()*4;particles.push({x,y,dx:Math.cos(angle)*speed,dy:Math.sin(angle)*speed,radius:2+Math.random()*3,life:1,color:color||`hsl(${Math.random()*60+10}, 100%, 60%)`});}}function updateShip(){if(keys['ArrowLeft']||keys['KeyA'])ship.dx=-ship.speed;else if(keys['ArrowRight']||keys['KeyD'])ship.dx=ship.speed;else ship.dx=0;if(keys['ArrowUp']||keys['KeyW'])ship.dy=-ship.speed;else if(keys['ArrowDown']||keys['KeyS'])ship.dy=ship.speed;else ship.dy=0;ship.x+=ship.dx;ship.y+=ship.dy;ship.x=Math.max(0,Math.min(width-ship.width,ship.x));ship.y=Math.max(height/2,Math.min(height-ship.height,ship.y));}function updateBullets(){for(let i=bullets.length-1;i>=0;i--){bullets[i].y-=bullets[i].speed;if(bullets[i].y<-10){bullets.splice(i,1);}}}function updateAsteroids(){for(let i=asteroids.length-1;i>=0;i--){const a=asteroids[i];a.x+=a.dx;a.y+=a.dy;a.rotation+=a.rotationSpeed;const distToCenter=Math.sqrt((a.x-centerX)**2+(a.y-centerY)**2);if(distToCenter<120){createExplosion(a.x,a.y,'#ff6b6b');asteroids.splice(i,1);const planet=document.querySelector('.planet');if(planet){planet.style.animation='none';planet.offsetHeight;planet.style.animation='planetHit 0.5s ease-out';}}else if(a.x<-100||a.x>width+100||a.y<-100||a.y>height+100){asteroids.splice(i,1);}}}function updateParticles(){for(let i=particles.length-1;i>=0;i--){const p=particles[i];p.x+=p.dx;p.y+=p.dy;p.life-=0.02;p.dx*=0.98;p.dy*=0.98;if(p.life<=0){particles.splice(i,1);}}}function checkCollisions(){for(let i=bullets.length-1;i>=0;i--){for(let j=asteroids.length-1;j>=0;j--){const b=bullets[i];const a=asteroids[j];if(b&&a){const dist=Math.sqrt((b.x-a.x)**2+(b.y-a.y)**2);if(dist<a.radius+b.radius){createExplosion(a.x,a.y);asteroids.splice(j,1);bullets.splice(i,1);asteroidScore++;document.getElementById('asteroidScore').textContent=asteroidScore;break;}}}}}function drawShip(){ctx.save();ctx.translate(ship.x+ship.width/2,ship.y+ship.height/2);ctx.fillStyle='#00ffff';ctx.shadowColor='#00ffff';ctx.shadowBlur=20;ctx.beginPath();ctx.moveTo(0,-ship.height/2);ctx.lineTo(-ship.width/2,ship.height/2);ctx.lineTo(0,ship.height/3);ctx.lineTo(ship.width/2,ship.height/2);ctx.closePath();ctx.fill();ctx.fillStyle='#ff6600';ctx.shadowColor='#ff6600';ctx.beginPath();ctx.moveTo(-8,ship.height/2);ctx.lineTo(0,ship.height/2+15+Math.random()*10);ctx.lineTo(8,ship.height/2);ctx.closePath();ctx.fill();ctx.restore();}function drawBullets(){ctx.fillStyle='#ffff00';ctx.shadowColor='#ffff00';ctx.shadowBlur=15;bullets.forEach(b=>{ctx.beginPath();ctx.arc(b.x,b.y,b.radius,0,Math.PI*2);ctx.fill();});}function drawAsteroids(){asteroids.forEach(a=>{ctx.save();ctx.translate(a.x,a.y);ctx.rotate(a.rotation);ctx.fillStyle='#8b7355';ctx.strokeStyle='#a08060';ctx.lineWidth=2;ctx.shadowColor='#000';ctx.shadowBlur=10;ctx.beginPath();a.vertices.forEach((v,i)=>{const x=Math.cos(v.angle)*a.radius*v.radius;const y=Math.sin(v.angle)*a.radius*v.radius;if(i===0)ctx.moveTo(x,y);else ctx.lineTo(x,y);});ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();});}function drawParticles(){particles.forEach(p=>{ctx.globalAlpha=p.life;ctx.fillStyle=p.color;ctx.beginPath();ctx.arc(p.x,p.y,p.radius*p.life,0,Math.PI*2);ctx.fill();});ctx.globalAlpha=1;}function gameLoop(){ctx.clearRect(0,0,width,height);updateShip();updateBullets();updateAsteroids();updateParticles();checkCollisions();drawParticles();drawAsteroids();drawBullets();drawShip();requestAnimationFrame(gameLoop);}setInterval(spawnAsteroid,1500);gameLoop();})();</script><style>@keyframes planetHit{0%{filter:brightness(2) saturate(0.5);}100%{filter:brightness(1) saturate(1);}}.planet{transition:filter 0.1s;}#asteroidScore{animation:scorePulse 2s ease-in-out infinite;}#gameUI{animation:uiGlow 3s ease-in-out infinite;}@keyframes uiGlow{0%,100%{box-shadow:0 0 30px rgba(150,100,255,0.5),0 5px 20px rgba(0,0,0,0.4);}50%{box-shadow:0 0 50px rgba(150,100,255,0.7),0 5px 30px rgba(0,0,0,0.5);}}</style></body>
</html>