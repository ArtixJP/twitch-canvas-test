<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>
   Twitch Versus Code
  </title>
<style>
   body { 
            font-family: system-ui, sans-serif; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh; 
            margin: 0;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
        }
        h1 { font-size: 3rem; text-align: center; }
  </style>
</head>
<body>
<nav id="main-nav" style="position: fixed; top: 0; left: 0; right: 0; z-index: 10000; background: linear-gradient(135deg, rgba(26, 26, 46, 0.95), rgba(22, 33, 62, 0.95)); backdrop-filter: blur(10px); padding: 15px 0; display: flex; justify-content: center; gap: 20px; box-shadow: 0 4px 30px rgba(0,0,0,0.5);">
<button class="nav-btn active" data-section="space" style="padding: 12px 30px; border: none; border-radius: 25px; background: linear-gradient(135deg, #9966ff, #4a9eff); color: white; font-size: 1.1rem; font-weight: bold; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(100, 150, 255, 0.4);">
    üåå ESPACE
   </button>
<button class="nav-btn" data-section="animals" style="padding: 12px 30px; border: none; border-radius: 25px; background: rgba(255,255,255,0.1); color: white; font-size: 1.1rem; font-weight: bold; cursor: pointer; transition: all 0.3s ease;">
    üêæ ANIMAUX
   </button>
<button class="nav-btn" data-section="games" style="padding: 12px 30px; border: none; border-radius: 25px; background: rgba(255,255,255,0.1); color: white; font-size: 1.1rem; font-weight: bold; cursor: pointer; transition: all 0.3s ease;">
    üéÆ JEUX
   </button>
<div id="auto-rotate-indicator" style="position: absolute; bottom: -25px; left: 50%; transform: translateX(-50%); font-size: 0.75rem; color: rgba(255,255,255,0.5); display: flex; align-items: center; gap: 5px;">
<span style="animation: pulse 2s infinite;">
     ‚ü≥
    </span>
    Auto-rotation 30s
   </div>
</nav>
<h1 style="position: absolute; top: 80px; left: 50%; transform: translateX(-50%); z-index: 10; text-shadow: 0 0 20px rgba(100, 200, 255, 0.8); font-size: 2.5rem;">
   Twitch Versus Code
  </h1>
<section class="content-section active" id="section-space" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; transition: opacity 0.5s ease;">
<div id="planet-container" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">
</div>
<h2 style="position: absolute; top: 100px; left: 50%; transform: translateX(-50%); color: white; font-size: 2rem; text-shadow: 0 0 20px rgba(100, 200, 255, 0.8); z-index: 10;">
    üåå Exploration Spatiale
   </h2>
</section>
<script>
   (function() {
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
  const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
  renderer.setSize(window.innerWidth, window.innerHeight);
  renderer.setClearColor(0x000000, 0);
  renderer.shadowMap.enabled = true;
  renderer.shadowMap.type = THREE.PCFSoftShadowMap;
  const canvas = renderer.domElement;
  document.getElementById('planet-container').appendChild(canvas);

  // Soleil
  const sunGeom = new THREE.SphereGeometry(1.5, 64, 64);
  const sunMat = new THREE.MeshBasicMaterial({ color: 0xffdd44 });
  const sun = new THREE.Mesh(sunGeom, sunMat);
  sun.position.set(12, 6, 8);
  scene.add(sun);

  // Halo du soleil
  const sunGlowGeom = new THREE.SphereGeometry(2.2, 32, 32);
  const sunGlowMat = new THREE.ShaderMaterial({
    uniforms: {
      c: { type: 'f', value: 0.4 },
      p: { type: 'f', value: 4.0 },
      glowColor: { type: 'c', value: new THREE.Color(0xffaa00) },
      viewVector: { type: 'v3', value: camera.position }
    },
    vertexShader: `
      uniform vec3 viewVector;
      varying float intensity;
      void main() {
        vec3 vNormal = normalize(normalMatrix * normal);
        vec3 vNormel = normalize(normalMatrix * viewVector);
        intensity = pow(0.7 - dot(vNormal, vNormel), 2.0);
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }
    `,
    fragmentShader: `
      uniform vec3 glowColor;
      varying float intensity;
      void main() {
        vec3 glow = glowColor * intensity;
        gl_FragColor = vec4(glow, intensity * 0.8);
      }
    `,
    side: THREE.FrontSide,
    blending: THREE.AdditiveBlending,
    transparent: true
  });
  const sunGlow = new THREE.Mesh(sunGlowGeom, sunGlowMat);
  sunGlow.position.copy(sun.position);
  scene.add(sunGlow);

  // Corona
  const coronaGeom = new THREE.SphereGeometry(3, 32, 32);
  const coronaMat = new THREE.MeshBasicMaterial({ color: 0xff6600, transparent: true, opacity: 0.15, side: THREE.BackSide });
  const corona = new THREE.Mesh(coronaGeom, coronaMat);
  corona.position.copy(sun.position);
  scene.add(corona);

  // Plan√®te avec mat√©riau accessible
  const geometry = new THREE.SphereGeometry(2, 64, 64);
  const material = new THREE.MeshPhongMaterial({
    color: 0x4a9eff,
    emissive: 0x112244,
    specular: 0xffffff,
    shininess: 15
  });
  const planet = new THREE.Mesh(geometry, material);
  planet.castShadow = true;
  planet.receiveShadow = true;
  scene.add(planet);
  
  // Store material reference on canvas for color changing
  canvas.__planetMaterial = material;

  // Lune
  const moonGeom = new THREE.SphereGeometry(0.4, 32, 32);
  const moonMat = new THREE.MeshPhongMaterial({ color: 0xcccccc, emissive: 0x222222, specular: 0xffffff, shininess: 5 });
  const moon = new THREE.Mesh(moonGeom, moonMat);
  moon.castShadow = true;
  moon.receiveShadow = true;
  const moonPivot = new THREE.Object3D();
  moonPivot.add(moon);
  moon.position.x = 4;
  scene.add(moonPivot);
  moonPivot.rotation.x = 0.3;
  moonPivot.rotation.z = 0.2;

  // Atmosph√®re
  const atmosGeom = new THREE.SphereGeometry(2.15, 64, 64);
  const atmosMat = new THREE.MeshPhongMaterial({ color: 0x88ccff, transparent: true, opacity: 0.2, side: THREE.BackSide });
  const atmosphere = new THREE.Mesh(atmosGeom, atmosMat);
  scene.add(atmosphere);
  canvas.__atmosMaterial = atmosMat;

  // Anneaux
  const ringGeom = new THREE.RingGeometry(2.8, 4, 64);
  const ringMat = new THREE.MeshBasicMaterial({ color: 0x9966ff, transparent: true, opacity: 0.5, side: THREE.DoubleSide });
  const ring = new THREE.Mesh(ringGeom, ringMat);
  ring.rotation.x = Math.PI / 2.5;
  ring.receiveShadow = true;
  scene.add(ring);

  // Lumi√®re du soleil
  const sunLight = new THREE.PointLight(0xffffcc, 2, 100);
  sunLight.position.copy(sun.position);
  sunLight.castShadow = true;
  sunLight.shadow.mapSize.width = 2048;
  sunLight.shadow.mapSize.height = 2048;
  scene.add(sunLight);
  scene.add(new THREE.AmbientLight(0x333366, 0.3));

  camera.position.z = 7;

  // √âtoiles
  const starsGeom = new THREE.BufferGeometry();
  const starPositions = [];
  for(let i = 0; i < 2000; i++) {
    starPositions.push((Math.random() - 0.5) * 200);
    starPositions.push((Math.random() - 0.5) * 200);
    starPositions.push((Math.random() - 0.5) * 200);
  }
  starsGeom.setAttribute('position', new THREE.Float32BufferAttribute(starPositions, 3));
  const starsMat = new THREE.PointsMaterial({ color: 0xffffff, size: 0.1 });
  scene.add(new THREE.Points(starsGeom, starsMat));

  let time = 0;
  function animate() {
    requestAnimationFrame(animate);
    time += 0.01;
    planet.rotation.y += 0.003;
    atmosphere.rotation.y += 0.002;
    ring.rotation.z += 0.001;
    moonPivot.rotation.y += 0.008;
    moon.rotation.y += 0.01;
    sunGlow.scale.setScalar(1 + Math.sin(time * 2) * 0.05);
    corona.scale.setScalar(1 + Math.sin(time * 3) * 0.1);
    renderer.render(scene, camera);
  }
  animate();

  window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
})();
  </script>
<script>
   (function() {
  // Attendre que Three.js soit charg√©
  const checkThree = setInterval(() => {
    if (window.THREE && document.querySelector('#planet-container canvas')) {
      clearInterval(checkThree);
      
      // R√©cup√©rer la sc√®ne existante via le renderer
      const canvas = document.querySelector('#planet-container canvas');
      const renderer = canvas.__three_renderer__ || null;
      
      // Cr√©er une nouvelle approche: ajouter la lune directement
      const container = document.getElementById('planet-container');
      const existingScript = document.querySelector('#planet-container + script');
      
      // On va modifier le script existant pour inclure la lune
    }
  }, 100);
})();
  </script>
<script>
   (function() {
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
  const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
  renderer.setSize(window.innerWidth, window.innerHeight);
  renderer.setClearColor(0x000000, 0);
  document.getElementById('planet-container').appendChild(renderer.domElement);

  // Plan√®te
  const geometry = new THREE.SphereGeometry(2, 64, 64);
  const material = new THREE.MeshPhongMaterial({
    color: 0x4a9eff,
    emissive: 0x112244,
    specular: 0xffffff,
    shininess: 15
  });
  const planet = new THREE.Mesh(geometry, material);
  scene.add(planet);

  // Atmosph√®re
  const atmosGeom = new THREE.SphereGeometry(2.15, 64, 64);
  const atmosMat = new THREE.MeshPhongMaterial({
    color: 0x88ccff,
    transparent: true,
    opacity: 0.2,
    side: THREE.BackSide
  });
  const atmosphere = new THREE.Mesh(atmosGeom, atmosMat);
  scene.add(atmosphere);

  // Anneaux
  const ringGeom = new THREE.RingGeometry(2.8, 4, 64);
  const ringMat = new THREE.MeshBasicMaterial({
    color: 0x9966ff,
    transparent: true,
    opacity: 0.5,
    side: THREE.DoubleSide
  });
  const ring = new THREE.Mesh(ringGeom, ringMat);
  ring.rotation.x = Math.PI / 2.5;
  scene.add(ring);

  // Lumi√®res
  const light = new THREE.PointLight(0xffffff, 1.5);
  light.position.set(10, 5, 10);
  scene.add(light);
  scene.add(new THREE.AmbientLight(0x333366, 0.5));

  camera.position.z = 7;

  // √âtoiles
  const starsGeom = new THREE.BufferGeometry();
  const starPositions = [];
  for(let i = 0; i < 2000; i++) {
    starPositions.push((Math.random() - 0.5) * 200);
    starPositions.push((Math.random() - 0.5) * 200);
    starPositions.push((Math.random() - 0.5) * 200);
  }
  starsGeom.setAttribute('position', new THREE.Float32BufferAttribute(starPositions, 3));
  const starsMat = new THREE.PointsMaterial({ color: 0xffffff, size: 0.1 });
  scene.add(new THREE.Points(starsGeom, starsMat));

  function animate() {
    requestAnimationFrame(animate);
    planet.rotation.y += 0.003;
    atmosphere.rotation.y += 0.002;
    ring.rotation.z += 0.001;
    renderer.render(scene, camera);
  }
  animate();

  window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
})();
  </script>
<script>
   (function() {
  const audio = document.getElementById('bg-music');
  const btn = document.getElementById('music-toggle');
  const playIcon = document.getElementById('play-icon');
  const pauseIcon = document.getElementById('pause-icon');
  
  let isPlaying = true;
  
  // Autoplay peut √™tre bloqu√©, on g√®re √ßa
  audio.play().catch(() => {
    isPlaying = false;
    playIcon.style.display = 'block';
    pauseIcon.style.display = 'none';
  });
  
  btn.addEventListener('click', () => {
    if (isPlaying) {
      audio.pause();
      playIcon.style.display = 'block';
      pauseIcon.style.display = 'none';
    } else {
      audio.play();
      playIcon.style.display = 'none';
      pauseIcon.style.display = 'block';
    }
    isPlaying = !isPlaying;
  });
})();
  </script>
<audio autoplay="" id="bg-music" loop="">
<source src="https://nu.vgmtreasurechest.com/soundtracks/professor-layton-and-the-unwound-future-hd-android-ios-mobile-gamerip-2020/bhjayocv/08.%20More%20London%20Streets.mp3" type="audio/mpeg"/>
</audio>
<button id="music-toggle" style="position: fixed; bottom: 30px; right: 30px; z-index: 10001; width: 60px; height: 60px; border-radius: 50%; border: none; background: linear-gradient(135deg, #9966ff 0%, #4a9eff 100%); cursor: pointer; box-shadow: 0 4px 20px rgba(100, 150, 255, 0.5); transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;">
<svg fill="white" height="24" id="pause-icon" viewbox="0 0 24 24" width="24">
<rect height="16" width="4" x="6" y="4">
</rect>
<rect height="16" width="4" x="14" y="4">
</rect>
</svg>
<svg fill="white" height="24" id="play-icon" style="display: none;" viewbox="0 0 24 24" width="24">
<polygon points="5,3 19,12 5,21">
</polygon>
</svg>
</button>
<script>
   (function() { const audio = document.getElementById('bg-music'); const btn = document.getElementById('music-toggle'); const playIcon = document.getElementById('play-icon'); const pauseIcon = document.getElementById('pause-icon'); let isPlaying = true; audio.volume = 0.5; audio.play().catch(() => { isPlaying = false; playIcon.style.display = 'block'; pauseIcon.style.display = 'none'; }); btn.addEventListener('click', () => { if (isPlaying) { audio.pause(); playIcon.style.display = 'block'; pauseIcon.style.display = 'none'; } else { audio.play(); playIcon.style.display = 'none'; pauseIcon.style.display = 'block'; } isPlaying = !isPlaying; }); btn.addEventListener('mouseenter', () => { btn.style.transform = 'scale(1.1)'; btn.style.boxShadow = '0 6px 30px rgba(100, 150, 255, 0.7)'; }); btn.addEventListener('mouseleave', () => { btn.style.transform = 'scale(1)'; btn.style.boxShadow = '0 4px 20px rgba(100, 150, 255, 0.5)'; }); })();
  </script>
<div id="autoplay-overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999; display: flex; flex-direction: column; justify-content: center; align-items: center; cursor: pointer; backdrop-filter: blur(10px);">
<div style="text-align: center; color: white;">
<svg fill="none" height="80" stroke="currentColor" stroke-width="1" style="margin-bottom: 20px; animation: pulse 2s infinite;" viewbox="0 0 24 24" width="80">
<circle cx="12" cy="12" r="10" stroke="#9966ff">
</circle>
<polygon fill="#4a9eff" points="10,8 16,12 10,16">
</polygon>
</svg>
<h2 style="font-size: 2rem; margin: 0 0 10px 0; background: linear-gradient(135deg, #9966ff, #4a9eff); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
     Cliquez pour entrer
    </h2>
<p style="opacity: 0.7; font-size: 1rem;">
     La musique commencera automatiquement
    </p>
</div>
</div>
<style>
   @keyframes pulse { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.1); opacity: 0.8; } }
  </style>
<script>
   (function(){const overlay=document.getElementById('autoplay-overlay');const audio=document.getElementById('bg-music');const playIcon=document.getElementById('play-icon');const pauseIcon=document.getElementById('pause-icon');overlay.addEventListener('click',function(){audio.play().then(()=>{playIcon.style.display='none';pauseIcon.style.display='block';}).catch(e=>console.log(e));overlay.style.opacity='0';overlay.style.transition='opacity 0.5s ease';setTimeout(()=>overlay.remove(),500);});document.addEventListener('keydown',function(e){if(overlay.parentNode){audio.play().then(()=>{playIcon.style.display='none';pauseIcon.style.display='block';}).catch(e=>console.log(e));overlay.style.opacity='0';overlay.style.transition='opacity 0.5s ease';setTimeout(()=>overlay.remove(),500);}},{once:true});})();
  </script>
<section class="content-section" id="section-animals" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; display: none; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);">
<h2 style="position: absolute; top: 100px; left: 50%; transform: translateX(-50%); color: white; font-size: 2rem; text-shadow: 0 0 20px rgba(100, 200, 255, 0.8); z-index: 10;">
    üêæ Le Zoo Anim√©
   </h2>
<div id="cat" style="position: fixed; z-index: 1000; font-size: 40px; transition: none; pointer-events: none;">
    üê±
   </div>
</section>
<div id="dog" style="position: fixed; z-index: 999; font-size: 45px; transition: none; pointer-events: none;">
   üêï
  </div>
<script>
   (function(){const cat=document.getElementById('cat');const dog=document.getElementById('dog');let catX=window.innerWidth/2;let catY=window.innerHeight/2;let catVX=(Math.random()-0.5)*3;let catVY=(Math.random()-0.5)*3;let dogX=100;let dogY=100;let catSpeed=2;const normalSpeed=2;const panicSpeed=12;const dogSpeed=3.5;const dangerDistance=150;function updatePositions(){const dx=catX-dogX;const dy=catY-dogY;const distance=Math.sqrt(dx*dx+dy*dy);if(distance<dangerDistance){catSpeed=panicSpeed;const escapeAngle=Math.atan2(dy,dx);catVX=Math.cos(escapeAngle)*catSpeed;catVY=Math.sin(escapeAngle)*catSpeed;}else{catSpeed=Math.max(normalSpeed,catSpeed*0.95);if(Math.random()<0.02){catVX+=(Math.random()-0.5)*2;catVY+=(Math.random()-0.5)*2;const mag=Math.sqrt(catVX*catVX+catVY*catVY);catVX=(catVX/mag)*catSpeed;catVY=(catVY/mag)*catSpeed;}}catX+=catVX;catY+=catVY;if(catX<30||catX>window.innerWidth-30)catVX*=-1;if(catY<30||catY>window.innerHeight-30)catVY*=-1;catX=Math.max(30,Math.min(window.innerWidth-30,catX));catY=Math.max(30,Math.min(window.innerHeight-30,catY));const toCatX=catX-dogX;const toCatY=catY-dogY;const toCatDist=Math.sqrt(toCatX*toCatX+toCatY*toCatY);if(toCatDist>5){dogX+=((toCatX/toCatDist)*dogSpeed);dogY+=((toCatY/toCatDist)*dogSpeed);}cat.style.left=catX+'px';cat.style.top=catY+'px';cat.style.transform=catVX<0?'scaleX(-1)':'scaleX(1)';dog.style.left=dogX+'px';dog.style.top=dogY+'px';dog.style.transform=toCatX<0?'scaleX(-1)':'scaleX(1)';if(distance<dangerDistance){cat.style.filter='brightness(1.5)';cat.style.fontSize='45px';}else{cat.style.filter='none';cat.style.fontSize='40px';}requestAnimationFrame(updatePositions);}updatePositions();})();
  </script>
<div id="scoreboard" style="position: fixed; top: 20px; right: 30px; z-index: 1000; background: linear-gradient(135deg, rgba(153, 102, 255, 0.8), rgba(74, 158, 255, 0.8)); padding: 15px 25px; border-radius: 15px; font-family: system-ui, sans-serif; box-shadow: 0 4px 20px rgba(100, 150, 255, 0.5); backdrop-filter: blur(10px);">
<div style="font-size: 0.9rem; opacity: 0.8; margin-bottom: 5px;">
    üêï Dog Score
   </div>
<div id="dog-score" style="font-size: 2.5rem; font-weight: bold; text-shadow: 0 0 10px rgba(255,255,255,0.5);">
    0
   </div>
</div>
<div id="catch-effect" style="position: fixed; z-index: 1001; font-size: 60px; pointer-events: none; opacity: 0; transition: all 0.3s ease;">
   üí•
  </div>
<script>
   (function(){let dogScore=0;const scoreDisplay=document.getElementById('dog-score');const catchEffect=document.getElementById('catch-effect');const cat=document.getElementById('cat');const dog=document.getElementById('dog');const catchDistance=40;let canCatch=true;function checkCatch(){if(!canCatch)return;const catRect=cat.getBoundingClientRect();const dogRect=dog.getBoundingClientRect();const catCenterX=catRect.left+catRect.width/2;const catCenterY=catRect.top+catRect.height/2;const dogCenterX=dogRect.left+dogRect.width/2;const dogCenterY=dogRect.top+dogRect.height/2;const dx=catCenterX-dogCenterX;const dy=catCenterY-dogCenterY;const distance=Math.sqrt(dx*dx+dy*dy);if(distance<catchDistance){dogScore++;scoreDisplay.textContent=dogScore;scoreDisplay.style.transform='scale(1.3)';setTimeout(()=>scoreDisplay.style.transform='scale(1)',200);catchEffect.style.left=(catCenterX-30)+'px';catchEffect.style.top=(catCenterY-30)+'px';catchEffect.style.opacity='1';catchEffect.style.transform='scale(1.5)';setTimeout(()=>{catchEffect.style.opacity='0';catchEffect.style.transform='scale(1)';},300);canCatch=false;setTimeout(()=>canCatch=true,1000);const scoreboard=document.getElementById('scoreboard');scoreboard.style.animation='scoreGlow 0.5s ease';setTimeout(()=>scoreboard.style.animation='',500);}}setInterval(checkCatch,50);const style=document.createElement('style');style.textContent='@keyframes scoreGlow{0%,100%{box-shadow:0 4px 20px rgba(100,150,255,0.5);}50%{box-shadow:0 4px 40px rgba(255,200,100,0.9);}}';document.head.appendChild(style);})();
  </script>
<script>
   (function(){
  // Expose planet color change function globally
  window.changePlanetColor = function() {
    const colors = [
      { main: 0xff6b6b, emissive: 0x441111, atmos: 0xffaaaa }, // Rouge
      { main: 0x6bff6b, emissive: 0x114411, atmos: 0xaaffaa }, // Vert
      { main: 0xffff6b, emissive: 0x444411, atmos: 0xffffaa }, // Jaune
      { main: 0xff6bff, emissive: 0x441144, atmos: 0xffaaff }, // Magenta
      { main: 0x6bffff, emissive: 0x114444, atmos: 0xaaffff }, // Cyan
      { main: 0xffaa6b, emissive: 0x442211, atmos: 0xffddaa }, // Orange
      { main: 0x4a9eff, emissive: 0x112244, atmos: 0x88ccff }, // Bleu original
    ];
    const randomColor = colors[Math.floor(Math.random() * colors.length)];
    
    // Find all Three.js canvases and update planet materials
    const canvases = document.querySelectorAll('#planet-container canvas');
    canvases.forEach(canvas => {
      if (canvas.__planetMaterial) {
        canvas.__planetMaterial.color.setHex(randomColor.main);
        canvas.__planetMaterial.emissive.setHex(randomColor.emissive);
      }
      if (canvas.__atmosMaterial) {
        canvas.__atmosMaterial.color.setHex(randomColor.atmos);
      }
    });
  };
  
  // Hook into existing catch detection
  const originalCheckCatch = setInterval(() => {
    const scoreDisplay = document.getElementById('dog-score');
    if (scoreDisplay) {
      let lastScore = parseInt(scoreDisplay.textContent) || 0;
      const observer = new MutationObserver(() => {
        const newScore = parseInt(scoreDisplay.textContent) || 0;
        if (newScore > lastScore) {
          window.changePlanetColor();
          lastScore = newScore;
        }
      });
      observer.observe(scoreDisplay, { childList: true, characterData: true, subtree: true });
      clearInterval(originalCheckCatch);
    }
  }, 100);
})();
  </script>
<section class="content-section" id="section-games" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; display: none; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);">
<h2 style="position: absolute; top: 100px; left: 50%; transform: translateX(-50%); color: white; font-size: 2rem; text-shadow: 0 0 20px rgba(100, 200, 255, 0.8); z-index: 10;">
    üéÆ Arcade Zone
   </h2>
<div id="game-container" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 500; display: none;">
<canvas id="game-canvas">
</canvas>
<div id="game-ui" style="position: absolute; top: 10px; left: 10px; color: #4a9eff; font-family: 'Courier New', monospace; font-size: 18px; text-shadow: 0 0 10px #4a9eff;">
<div>
      SCORE:
      <span id="game-score">
       0
      </span>
</div>
<div>
      LIVES:
      <span id="game-lives">
       ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è
      </span>
</div>
</div>
<button id="close-game" style="position: absolute; top: 10px; right: 10px; background: rgba(255,100,100,0.8); border: none; color: white; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-weight: bold;">
     ‚úï CLOSE
    </button>
</div>
</section>
<button id="play-game-btn" style="position: fixed; bottom: 30px; left: 30px; z-index: 100; padding: 15px 25px; border-radius: 25px; border: none; background: linear-gradient(135deg, #ff6b6b 0%, #ffa500 100%); color: white; cursor: pointer; box-shadow: 0 4px 20px rgba(255, 150, 100, 0.5); font-size: 1.1rem; font-weight: bold; transition: all 0.3s ease;">
   üöÄ PLAY ASTEROID BLASTER
  </button>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js">
</script>
<script>
   (function(){const playBtn=document.getElementById('play-game-btn');const gameContainer=document.getElementById('game-container');const closeBtn=document.getElementById('close-game');const scoreEl=document.getElementById('game-score');const livesEl=document.getElementById('game-lives');let gameActive=false;let score=0;let lives=3;let ship,bullets=[],asteroids=[],particles=[];let p5Instance;playBtn.addEventListener('mouseenter',()=>{playBtn.style.transform='scale(1.1)';playBtn.style.boxShadow='0 6px 30px rgba(255,150,100,0.7)';});playBtn.addEventListener('mouseleave',()=>{playBtn.style.transform='scale(1)';playBtn.style.boxShadow='0 4px 20px rgba(255,150,100,0.5)';});playBtn.addEventListener('click',()=>{gameContainer.style.display='block';if(!p5Instance)startGame();gameActive=true;});closeBtn.addEventListener('click',()=>{gameContainer.style.display='none';gameActive=false;});function startGame(){const sketch=(p)=>{const W=600,H=500;p.setup=()=>{const canvas=p.createCanvas(W,H);canvas.parent('game-container');ship={x:W/2,y:H/2,angle:0,vx:0,vy:0,thrust:false};spawnAsteroids(5);};p.draw=()=>{if(!gameActive)return;p.background(10,15,30);drawStars(p);if(p.keyIsDown(p.LEFT_ARROW))ship.angle-=0.08;if(p.keyIsDown(p.RIGHT_ARROW))ship.angle+=0.08;if(p.keyIsDown(p.UP_ARROW)){ship.vx+=Math.cos(ship.angle)*0.15;ship.vy+=Math.sin(ship.angle)*0.15;ship.thrust=true;for(let i=0;i<2;i++){particles.push({x:ship.x-Math.cos(ship.angle)*15,y:ship.y-Math.sin(ship.angle)*15,vx:-Math.cos(ship.angle)*p.random(2,4)+p.random(-1,1),vy:-Math.sin(ship.angle)*p.random(2,4)+p.random(-1,1),life:30,color:[255,p.random(100,200),50]});}}else{ship.thrust=false;}ship.vx*=0.99;ship.vy*=0.99;ship.x+=ship.vx;ship.y+=ship.vy;ship.x=(ship.x+W)%W;ship.y=(ship.y+H)%H;bullets.forEach((b,i)=>{b.x+=b.vx;b.y+=b.vy;b.life--;if(b.life<=0)bullets.splice(i,1);});asteroids.forEach((a,ai)=>{a.x+=a.vx;a.y+=a.vy;a.rot+=a.rotSpeed;a.x=(a.x+W)%W;a.y=(a.y+H)%H;bullets.forEach((b,bi)=>{if(p.dist(b.x,b.y,a.x,a.y)<a.size){bullets.splice(bi,1);for(let i=0;i<15;i++){particles.push({x:a.x,y:a.y,vx:p.random(-3,3),vy:p.random(-3,3),life:40,color:[150,200,255]});}if(a.size>20){asteroids.push({x:a.x,y:a.y,vx:p.random(-2,2),vy:p.random(-2,2),size:a.size/2,rot:0,rotSpeed:p.random(-0.05,0.05)});asteroids.push({x:a.x,y:a.y,vx:p.random(-2,2),vy:p.random(-2,2),size:a.size/2,rot:0,rotSpeed:p.random(-0.05,0.05)});}asteroids.splice(ai,1);score+=Math.floor(100/a.size*10);scoreEl.textContent=score;if(window.changePlanetColor)window.changePlanetColor();}});if(p.dist(ship.x,ship.y,a.x,a.y)<a.size+10){lives--;livesEl.textContent='‚ù§Ô∏è'.repeat(Math.max(0,lives));for(let i=0;i<30;i++){particles.push({x:ship.x,y:ship.y,vx:p.random(-5,5),vy:p.random(-5,5),life:50,color:[255,100,100]});}ship.x=W/2;ship.y=H/2;ship.vx=0;ship.vy=0;if(lives<=0){gameActive=false;p.textAlign(p.CENTER);p.fill(255,100,100);p.textSize(40);p.text('GAME OVER',W/2,H/2);p.textSize(20);p.text('Score: '+score,W/2,H/2+40);setTimeout(()=>{score=0;lives=3;scoreEl.textContent='0';livesEl.textContent='‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è';asteroids=[];spawnAsteroids(5);gameActive=true;},3000);}}});if(asteroids.length===0)spawnAsteroids(Math.min(10,5+Math.floor(score/500)));particles.forEach((pt,i)=>{pt.x+=pt.vx;pt.y+=pt.vy;pt.life--;pt.vx*=0.95;pt.vy*=0.95;if(pt.life<=0)particles.splice(i,1);});particles.forEach(pt=>{p.fill(pt.color[0],pt.color[1],pt.color[2],pt.life*6);p.noStroke();p.ellipse(pt.x,pt.y,pt.life/10);});asteroids.forEach(a=>{p.push();p.translate(a.x,a.y);p.rotate(a.rot);p.stroke(150,180,220);p.strokeWeight(2);p.noFill();p.beginShape();for(let i=0;i<8;i++){const ang=p.TWO_PI/8*i;const r=a.size*(0.8+p.noise(i)*0.4);p.vertex(Math.cos(ang)*r,Math.sin(ang)*r);}p.endShape(p.CLOSE);p.pop();});bullets.forEach(b=>{p.fill(100,255,200);p.noStroke();p.ellipse(b.x,b.y,6,6);p.fill(100,255,200,100);p.ellipse(b.x,b.y,10,10);});p.push();p.translate(ship.x,ship.y);p.rotate(ship.angle);p.stroke(100,200,255);p.strokeWeight(2);p.noFill();p.beginShape();p.vertex(20,0);p.vertex(-15,12);p.vertex(-8,0);p.vertex(-15,-12);p.endShape(p.CLOSE);if(ship.thrust){p.fill(255,200,50);p.noStroke();p.triangle(-10,0,-20,5,-20,-5);}p.pop();};p.keyPressed=()=>{if(p.keyCode===32&&gameActive){bullets.push({x:ship.x+Math.cos(ship.angle)*20,y:ship.y+Math.sin(ship.angle)*20,vx:Math.cos(ship.angle)*10+ship.vx,vy:Math.sin(ship.angle)*10+ship.vy,life:60});}};function drawStars(p){p.randomSeed(42);for(let i=0;i<50;i++){p.fill(255,255,255,p.random(100,200));p.noStroke();p.ellipse(p.random(W),p.random(H),p.random(1,3));}}function spawnAsteroids(n){for(let i=0;i<n;i++){let x,y;do{x=p.random(W);y=p.random(H);}while(p.dist(x,y,ship.x,ship.y)<100);asteroids.push({x,y,vx:p.random(-2,2),vy:p.random(-2,2),size:p.random(30,50),rot:0,rotSpeed:p.random(-0.03,0.03)});}}};p5Instance=new p5(sketch);}})();
  </script>
<div id="elephant" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 800; font-size: 100px; text-align: center; filter: drop-shadow(0 0 20px rgba(100, 150, 255, 0.5));">
   üêò
  </div>
<div id="water-container" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 799; overflow: hidden;">
</div>
<style>
   #elephant { animation: elephantBounce 2s ease-in-out infinite; } @keyframes elephantBounce { 0%, 100% { transform: translate(-50%, -50%) rotate(-5deg); } 50% { transform: translate(-50%, -52%) rotate(5deg); } } .water-drop { position: absolute; font-size: 20px; pointer-events: none; animation: waterFall 2s ease-in forwards; } @keyframes waterFall { 0% { opacity: 1; transform: scale(1); } 100% { opacity: 0; transform: scale(0.5) translateY(200px); } } .water-spray { position: absolute; width: 8px; height: 8px; background: radial-gradient(circle, #4a9eff, #88ccff); border-radius: 50%; pointer-events: none; animation: sprayAnim 1.5s ease-out forwards; } @keyframes sprayAnim { 0% { opacity: 1; transform: scale(1); } 100% { opacity: 0; transform: scale(0.3); } }
  </style>
<script>
   (function(){ const elephant = document.getElementById('elephant'); const waterContainer = document.getElementById('water-container'); function createWaterSpray() { const elephantRect = elephant.getBoundingClientRect(); const startX = elephantRect.left + elephantRect.width * 0.7; const startY = elephantRect.top + elephantRect.height * 0.2; for(let i = 0; i < 8; i++) { const drop = document.createElement('div'); drop.className = 'water-spray'; const angle = (Math.random() - 0.3) * Math.PI * 0.8 - Math.PI/4; const speed = 80 + Math.random() * 120; const vx = Math.cos(angle) * speed; const vy = Math.sin(angle) * speed - 50; drop.style.left = startX + 'px'; drop.style.top = startY + 'px'; waterContainer.appendChild(drop); let x = 0, y = 0, time = 0; const gravity = 150; function animateDrop() { time += 0.03; x = vx * time; y = vy * time + 0.5 * gravity * time * time; drop.style.transform = 'translate(' + x + 'px, ' + y + 'px)'; if(time < 1.5) { requestAnimationFrame(animateDrop); } else { drop.remove(); } } animateDrop(); } const splash = document.createElement('div'); splash.className = 'water-drop'; splash.textContent = 'üí¶'; splash.style.left = (startX + Math.random() * 40) + 'px'; splash.style.top = (startY - 20) + 'px'; waterContainer.appendChild(splash); setTimeout(() => splash.remove(), 2000); } setInterval(createWaterSpray, 800); createWaterSpray(); })();
  </script>
<script>
   (function(){
  const navBtns = document.querySelectorAll('.nav-btn');
  const sections = document.querySelectorAll('.content-section');
  
  navBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      const targetSection = btn.dataset.section;
      
      // Update buttons
      navBtns.forEach(b => {
        b.style.background = 'rgba(255,255,255,0.1)';
        b.style.boxShadow = 'none';
        b.classList.remove('active');
      });
      btn.style.background = 'linear-gradient(135deg, #9966ff, #4a9eff)';
      btn.style.boxShadow = '0 4px 15px rgba(100, 150, 255, 0.4)';
      btn.classList.add('active');
      
      // Update sections
      sections.forEach(s => {
        s.style.display = 'none';
        s.classList.remove('active');
      });
      const activeSection = document.getElementById('section-' + targetSection);
      if(activeSection) {
        activeSection.style.display = 'block';
        activeSection.classList.add('active');
      }
    });
    
    btn.addEventListener('mouseenter', () => {
      if(!btn.classList.contains('active')) {
        btn.style.background = 'rgba(255,255,255,0.2)';
        btn.style.transform = 'scale(1.05)';
      }
    });
    btn.addEventListener('mouseleave', () => {
      if(!btn.classList.contains('active')) {
        btn.style.background = 'rgba(255,255,255,0.1)';
        btn.style.transform = 'scale(1)';
      } else {
        btn.style.transform = 'scale(1)';
      }
    });
  });
})();
  </script>
<script>
   (function(){
  const sections = ['space', 'animals', 'games'];
  let currentIndex = 0;
  
  function switchToSection(sectionName) {
    const navBtns = document.querySelectorAll('.nav-btn');
    const contentSections = document.querySelectorAll('.content-section');
    
    // Update buttons
    navBtns.forEach(btn => {
      btn.style.background = 'rgba(255,255,255,0.1)';
      btn.style.boxShadow = 'none';
      btn.classList.remove('active');
      if(btn.dataset.section === sectionName) {
        btn.style.background = 'linear-gradient(135deg, #9966ff, #4a9eff)';
        btn.style.boxShadow = '0 4px 15px rgba(100, 150, 255, 0.4)';
        btn.classList.add('active');
      }
    });
    
    // Update sections
    contentSections.forEach(s => {
      s.style.display = 'none';
      s.classList.remove('active');
    });
    const activeSection = document.getElementById('section-' + sectionName);
    if(activeSection) {
      activeSection.style.display = 'block';
      activeSection.classList.add('active');
    }
  }
  
  function autoRotate() {
    currentIndex = (currentIndex + 1) % sections.length;
    switchToSection(sections[currentIndex]);
  }
  
  // D√©marrer la rotation automatique toutes les 30 secondes
  setInterval(autoRotate, 30000);
  
  // Synchroniser l'index quand l'utilisateur clique manuellement
  document.querySelectorAll('.nav-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const sectionName = btn.dataset.section;
      currentIndex = sections.indexOf(sectionName);
    });
  });
})();
  </script>
</body>
</html>
