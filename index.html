<!DOCTYPE html>

<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>
   Hello World - Mode Dual
  </title>
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;700&amp;family=Orbitron:wght@400;900&amp;display=swap" rel="stylesheet"/>
<style>
   *{margin:0;padding:0;box-sizing:border-box;transition:all .3s}
body{min-height:100vh;display:flex;flex-direction:column;align-items:center;font-family:'Comfortaa',cursive;position:relative;overflow-x:hidden;padding:2rem 0}
body.warm-mode{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;background-attachment:fixed}
body.warm-mode::before{content:'';position:fixed;top:0;left:0;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 1px,transparent 1px);background-size:50px 50px;animation:drift 20s linear infinite;pointer-events:none}
body.twitch-mode{background:#0e0e10;color:#efeff1;font-family:'Orbitron',monospace}
body.twitch-mode::before{content:'';position:fixed;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(147,51,234,.03) 2px,rgba(147,51,234,.03) 4px),repeating-linear-gradient(90deg,transparent,transparent 2px,rgba(147,51,234,.03) 2px,rgba(147,51,234,.03) 4px);animation:scanlines 8s linear infinite;pointer-events:none}
body.twitch-mode::after{content:'';position:fixed;inset:0;background:linear-gradient(180deg,transparent,rgba(147,51,234,.2) 50%,transparent);animation:scan 4s linear infinite;pointer-events:none}
.container{text-align:center;z-index:10;padding:2rem;width:100%;max-width:1200px;margin:0 auto;margin-left:80px}
h1{font-size:clamp(2rem,8vw,4rem);margin-bottom:2rem}
body.warm-mode h1{text-shadow:0 0 30px rgba(255,255,255,.5);animation:float 3s ease-in-out infinite}
body.twitch-mode h1{text-transform:uppercase;letter-spacing:.2em;background:linear-gradient(45deg,#9333ea,#ec4899,#f59e0b,#9333ea);background-size:300% 300%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:gradient 3s ease infinite,glitch 2s ease-in-out infinite alternate}
.subtitle{font-size:1.2rem;opacity:.8;margin-bottom:3rem}
body.twitch-mode .subtitle{font-family:monospace;color:#bf94ff;text-shadow:0 0 10px #9333ea}
.theme-toggle,.confetti-btn,.music-btn{background:rgba(255,255,255,.2);border:none;padding:1rem 2rem;border-radius:50px;cursor:pointer;font-size:1rem;color:inherit;backdrop-filter:blur(10px);position:relative;overflow:hidden;margin:.5rem}
body.twitch-mode .theme-toggle{background:#1f1f23;border:2px solid #9333ea;color:#efeff1;text-transform:uppercase;letter-spacing:.1em;font-family:'Orbitron',monospace}
.theme-toggle:hover,.confetti-btn:hover,.music-btn:hover{transform:translateY(-2px) scale(1.05);box-shadow:0 10px 30px rgba(0,0,0,.2)}
.confetti-btn{background:linear-gradient(45deg,#ff6b35,#f7931e,#ffcc00);color:#fff;box-shadow:0 0 20px rgba(255,107,53,.5);animation:firePulse 1.5s ease-in-out infinite}
.music-btn{background:linear-gradient(45deg,#7dd3c0,#5cb8a5,#3d9d8b);color:#fff;box-shadow:0 0 20px rgba(93,184,165,.5);animation:musicPulse 2s ease-in-out infinite}
.music-btn.playing{background:linear-gradient(45deg,#ff9a9e,#fecfef);animation:musicPulse 2s ease-in-out infinite,gradient 3s ease infinite}
.sidebar{position:fixed;left:0;top:0;height:100vh;width:70px;background:rgba(255,255,255,.1);backdrop-filter:blur(20px);border-right:1px solid rgba(255,255,255,.2);display:flex;flex-direction:column;align-items:center;padding:2rem 0;z-index:1000;transition:width .4s cubic-bezier(.4,0,.2,1);box-shadow:4px 0 30px rgba(0,0,0,.1)}
body.twitch-mode .sidebar{background:rgba(14,14,16,.9);border-right:1px solid #9333ea;box-shadow:4px 0 30px rgba(147,51,234,.2)}
.sidebar:hover{width:200px}
.sidebar-logo{font-size:2rem;margin-bottom:3rem;animation:float 3s ease-in-out infinite}
.sidebar-nav{display:flex;flex-direction:column;gap:.5rem;width:100%}
.sidebar-item{display:flex;align-items:center;padding:1rem;color:inherit;text-decoration:none;border-radius:0 25px 25px 0;margin-right:10px;cursor:pointer;position:relative;overflow:hidden}
.sidebar-item::before{content:'';position:absolute;left:0;top:0;height:100%;width:3px;background:linear-gradient(180deg,#9333ea,#ec4899);transform:scaleY(0);transition:transform .3s}
.sidebar-item:hover::before,.sidebar-item.active::before{transform:scaleY(1)}
.sidebar-item:hover{background:rgba(255,255,255,.1);transform:translateX(5px)}
body.twitch-mode .sidebar-item:hover{background:rgba(147,51,234,.2);box-shadow:0 0 20px rgba(147,51,234,.3)}
.sidebar-item.active{background:rgba(255,255,255,.15)}
body.twitch-mode .sidebar-item.active{background:rgba(147,51,234,.3)}
.sidebar-icon{font-size:1.5rem;min-width:40px;text-align:center;transition:transform .3s}
.sidebar-item:hover .sidebar-icon{transform:scale(1.2) rotate(10deg)}
.sidebar-label{white-space:nowrap;opacity:0;transform:translateX(-10px);transition:all .3s;font-size:.9rem}
.sidebar:hover .sidebar-label{opacity:1;transform:translateX(0)}
.sidebar-divider{width:40px;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);margin:1rem 0}
.sidebar:hover .sidebar-divider{width:80%}
.sidebar-footer{margin-top:auto}
.sidebar-theme-btn{width:40px;height:40px;border-radius:50%;border:none;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:1.2rem;cursor:pointer;display:flex;align-items:center;justify-content:center}
.sidebar-theme-btn:hover{transform:scale(1.1) rotate(180deg);box-shadow:0 0 20px rgba(102,126,234,.5)}
body.twitch-mode .sidebar-theme-btn{background:linear-gradient(135deg,#9333ea,#ec4899)}
.main-menu{margin-bottom:3rem;background:rgba(255,255,255,.1);backdrop-filter:blur(10px);border-radius:25px;padding:.5rem;box-shadow:0 8px 32px rgba(0,0,0,.1);position:sticky;top:1rem;z-index:100}
body.twitch-mode .main-menu{background:rgba(31,31,35,.8);border:1px solid #9333ea}
.main-menu ul{list-style:none;display:flex;justify-content:center;gap:1rem;flex-wrap:wrap}
.menu-item{text-decoration:none;color:inherit;padding:.7rem 1.5rem;border-radius:20px;display:inline-block;position:relative;overflow:hidden}
.menu-item.active{background:rgba(255,255,255,.2);box-shadow:0 4px 15px rgba(0,0,0,.1)}
body.twitch-mode .menu-item{text-transform:uppercase;font-family:'Orbitron',monospace;font-size:.9rem}
body.twitch-mode .menu-item.active{background:#9333ea;box-shadow:0 0 20px #9333ea}
.page{display:none;animation:pageTransition .5s ease}
.page.active{display:block}
.games-grid,.art-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:2rem;margin:2rem 0}
.game-card,.stat-card{background:rgba(255,255,255,.1);backdrop-filter:blur(10px);border-radius:15px;padding:1.5rem;cursor:pointer;text-align:center}
body.twitch-mode .game-card,body.twitch-mode .stat-card{background:rgba(31,31,35,.8);border:1px solid #9333ea}
.game-card:hover{transform:translateY(-5px) scale(1.05);box-shadow:0 10px 30px rgba(0,0,0,.3)}
body.twitch-mode .game-card:hover{box-shadow:0 0 30px #9333ea}
.game-card h3{margin-bottom:.5rem;font-size:1.3rem}
.game-card p,.stat-card p{opacity:.7;font-size:.9rem}
.about-content{max-width:600px;margin:0 auto;text-align:center}
.glowing-text{font-size:1.5rem;margin-bottom:1rem;animation:glow 2s ease-in-out infinite}
.stats{display:flex;justify-content:center;gap:2rem;margin-top:3rem;flex-wrap:wrap}
.stat-card h3{font-size:2.5rem;margin-bottom:.5rem;color:#9333ea}
body.warm-mode .stat-card h3{color:#667eea}
.art-piece{height:250px;border-radius:15px;overflow:hidden;position:relative;cursor:pointer}
.art-piece:hover{transform:scale(1.05);box-shadow:0 10px 40px rgba(0,0,0,.3)}
#art1{background:linear-gradient(45deg,#667eea,#764ba2,#f093fb,#4facfe);background-size:400% 400%;animation:gradient 10s ease infinite}
#art2{background:#000;box-shadow:inset 0 0 50px rgba(147,51,234,.5)}
#art3{background:repeating-conic-gradient(from 0deg at 50% 50%,#9333ea 0deg,#ec4899 60deg,#06b6d4 120deg,#9333ea 180deg);animation:spin 20s linear infinite}
#art4{background:radial-gradient(circle at 50% 50%,#fff 0%,transparent 50%),radial-gradient(circle at 80% 20%,#9333ea 0%,transparent 50%),radial-gradient(circle at 20% 80%,#ec4899 0%,transparent 50%),#0e0e10}
#art5{background:linear-gradient(135deg,#ffecd2,#fcb69f);display:flex;align-items:center;justify-content:center;flex-direction:column;font-family:monospace}
#llamaArt{font-size:8px;line-height:1;color:#5d4e37;text-shadow:1px 1px 2px rgba(0,0,0,.2);animation:llamaBounce 2s ease-in-out infinite}
#art5:hover #llamaArt{animation:llamaDance .5s ease-in-out infinite;color:#9333ea}
.mini-monster{position:fixed;bottom:20px;right:20px;width:100px;height:100px;background:#ffcc00;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 20px rgba(0,0,0,.2);animation:bounce 2s infinite;cursor:pointer}
.monster-speech{position:fixed;bottom:120px;right:40px;background:rgba(255,255,255,.9);border-radius:15px;padding:10px;box-shadow:0 4px 20px rgba(0,0,0,.2);animation:fadeIn 1s}
.red-button{margin-top:2rem;background:red;color:#fff;border:none;padding:1rem 2rem;border-radius:50px;cursor:pointer;font-size:1rem}
.red-button:hover{transform:scale(1.05);box-shadow:0 4px 20px rgba(255,0,0,.5)}
#santa-sleigh{position:fixed;top:-100px;left:-200px;z-index:9999;pointer-events:none;font-size:3rem;animation:santaZigzag 12s linear infinite}
#easter-egg-hint{position:fixed;bottom:10px;left:10px;font-size:10px;opacity:.4;font-family:monospace;z-index:50;pointer-events:none;max-width:200px;line-height:1.4}
canvas{border-radius:15px}
#snakeCanvas{border:2px solid #9333ea;background:#1a1a1d;box-shadow:0 0 30px rgba(147,51,234,.5);display:none}
#pongCanvas{border:2px solid #ec4899;background:#1a1a1d;box-shadow:0 0 30px rgba(236,72,153,.5);display:none}
#particlesCanvas{border:2px solid #06b6d4;background:#000;box-shadow:0 0 30px rgba(6,182,212,.5);display:none}
#lutinCanvas{border:2px solid #ffd700;background:linear-gradient(180deg,#87ceeb,#98fb98);box-shadow:0 0 30px rgba(255,215,0,.5);display:none}
#gameControls{margin-top:1rem}
#gameControls p{color:#bf94ff;font-family:'Orbitron',monospace;font-size:.9rem}
.sparkle,.fire-confetti{position:fixed;pointer-events:none;z-index:10000}
@keyframes drift{0%{transform:translate(-50%,-50%) rotate(0)}100%{transform:translate(-50%,-50%) rotate(360deg)}}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}
@keyframes gradient{0%{background-position:0 50%}50%{background-position:100% 50%}100%{background-position:0 50%}}
@keyframes glitch{0%{text-shadow:2px 0 #f59e0b,-2px 0 #06b6d4}50%{text-shadow:2px 0 #06b6d4,-2px 0 #f59e0b}100%{text-shadow:2px 0 #f59e0b,-2px 0 #06b6d4}}
@keyframes scanlines{0%{background-position:0 0}100%{background-position:0 10px}}
@keyframes scan{0%{transform:translateY(-100%)}100%{transform:translateY(100%)}}
@keyframes firePulse{0%,100%{box-shadow:0 0 20px rgba(255,107,53,.5),0 0 40px rgba(247,147,30,.3)}50%{box-shadow:0 0 40px rgba(255,107,53,.8),0 0 60px rgba(247,147,30,.5)}}
@keyframes musicPulse{0%,100%{box-shadow:0 0 20px rgba(93,184,165,.5)}50%{box-shadow:0 0 40px rgba(93,184,165,.8)}}
@keyframes pageTransition{from{opacity:0;transform:translateY(30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}
@keyframes glow{0%,100%{text-shadow:0 0 20px rgba(147,51,234,.5)}50%{text-shadow:0 0 40px rgba(147,51,234,.8)}}
@keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes llamaBounce{0%,100%{transform:translateY(0) rotate(-2deg)}50%{transform:translateY(-10px) rotate(2deg)}}
@keyframes llamaDance{0%,100%{transform:rotate(-5deg) scale(1.1)}50%{transform:rotate(5deg) scale(1.1)}}
@keyframes sparkleAnim{0%{transform:translate(-50%,-50%) scale(0) rotate(0);opacity:1}100%{transform:translate(-50%,-50%) scale(1.5) rotate(180deg);opacity:0}}
@keyframes fireConfettiFall{0%{transform:translateY(0) rotate(0) scale(1);opacity:1}100%{transform:translateY(100vh) rotate(720deg) scale(0);opacity:0}}
@keyframes noteFloat{0%{transform:translateY(0) rotate(0);opacity:1}100%{transform:translateY(-100px) rotate(360deg);opacity:0}}
@keyframes santaZigzag{0%{transform:translateX(-200px);top:10%}25%{top:30%}50%{top:15%}75%{top:40%}100%{transform:translateX(calc(100vw + 200px));top:30%}}
@keyframes sparkleTrail{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.3;transform:scale(.5)}}
@keyframes hohoFloat{0%{opacity:1;transform:translateY(0) scale(1)}100%{opacity:0;transform:translateY(-50px) scale(1.5)}}
@keyframes particlePop{0%{transform:scale(1) translateY(0);opacity:1}100%{transform:scale(1.5) translateY(-50px);opacity:0}}
@keyframes rainbowBg{0%{filter:hue-rotate(0)}50%{filter:hue-rotate(180deg) brightness(1.2)}100%{filter:hue-rotate(360deg)}}
@keyframes unicornRise{0%{transform:translateY(0) rotate(0);opacity:1}100%{transform:translateY(-120vh) rotate(720deg);opacity:0}}
@keyframes secretPop{0%{transform:translate(-50%,-50%) scale(0);opacity:0}50%{transform:translate(-50%,-50%) scale(1.3);opacity:1}100%{transform:translate(-50%,-50%) scale(1);opacity:0}}
@keyframes llamaSpin{0%{transform:translate(-50%,-50%) scale(0) rotate(-180deg)}50%{transform:translate(-50%,-50%) scale(1.2) rotate(10deg)}100%{transform:translate(-50%,-50%) scale(1) rotate(0)}}
@keyframes pulse{0%,100%{transform:translateX(-50%) scale(1);box-shadow:0 0 10px rgba(147,51,234,.5)}50%{transform:translateX(-50%) scale(1.05);box-shadow:0 0 20px rgba(147,51,234,.8)}}
@keyframes fadeOut{to{opacity:0;transform:translateX(-50%) translateY(-20px)}}
@media(max-width:768px){.container{padding:1rem;margin-left:70px}.sidebar{width:60px}.sidebar:hover{width:180px}.main-menu{position:relative;top:0}}
   #santa-sleigh{color:#00ff00 !important;text-shadow:0 0 20px #00ff00, 0 0 40px #32cd32 !important}#santa-sleigh::after{content:'üåø';position:absolute;right:-30px;animation:sparkleTrail 0.8s infinite 0.3s}
   @media(max-width:768px){.container{margin-left:0 !important;}}
   #art6{box-shadow:inset 0 0 50px rgba(168,216,234,0.3)}#art6:hover #yetiArt{animation:yetiRoar 0.3s ease-in-out infinite;color:#fff;text-shadow:0 0 20px #fff,0 0 40px #a8d8ea}@keyframes yetiBreathe{0%,100%{transform:scaleY(1)}50%{transform:scaleY(1.02)}}@keyframes yetiRoar{0%,100%{transform:scale(1) rotate(-1deg)}50%{transform:scale(1.05) rotate(1deg)}}@keyframes snowfall{0%{transform:translateY(-10px) rotate(0deg);opacity:1}100%{transform:translateY(250px) rotate(360deg);opacity:0}}.snowflake{position:absolute;color:#fff;pointer-events:none;animation:snowfall linear infinite;text-shadow:0 0 5px #fff}
   @keyframes hop { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
  </style>
</head>
<body class="warm-mode">
<div id="christmas-tree" style="position:fixed;left:20px;bottom:20px;width:100px;height:150px;background:green;clip-path:polygon(50% 0%, 0% 100%, 100% 100%);">
<div style="position:absolute;left:10px;bottom:10px;width:25px;height:30px;background:brown;">
</div>
<div class="gift" style="position:absolute;left:10px;bottom:50px;width:30px;height:20px;background:red;border:2px solid gold;">
</div>
<div class="gift" style="position:absolute;left:40px;bottom:30px;width:30px;height:20px;background:blue;border:2px solid gold;">
</div>
<div class="gift" style="position:absolute;left:70px;bottom:50px;width:30px;height:20px;background:purple;border:2px solid gold;">
</div>
</div>
<div class="pixels" id="pixelContainer">
</div>
<div class="container" style="margin-left: 0;">
<nav class="main-menu">
<ul>
<li>
<a class="menu-item active" data-page="home" href="#">
       üè† Accueil
      </a>
</li>
<li>
<a class="menu-item" data-page="games" href="#">
       üéÆ Jeux
      </a>
</li>
<li>
<a class="menu-item" data-page="about" href="#">
       ‚ú® √Ä propos
      </a>
</li>
<li>
<a class="menu-item" data-page="gallery" href="#">
       üé® Galerie
      </a>
</li>
<li>
<a class="menu-item" data-page="contact" href="#">
       üìû Contact
      </a>
</li>
</ul>
</nav>
<div class="page-content">
<div class="page active" id="home">
<h1 id="mainTitle" style="background:linear-gradient(90deg,red,orange,yellow,green,blue,indigo,violet);-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:rainbow 5s ease infinite">
      Hello World
     </h1>
<button class="dynamic-button" style="margin-top: 20px; background-color: blue; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;">
      Cliquez pour du r√©confort!
     </button>
<button class="test-btn" style="background: #ffcc00; color: #000; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">
      Test Button
     </button>
<p class="subtitle">
      Bienvenue dans cet espace digital
     </p>
<button class="theme-toggle" onclick="toggleTheme()">
      Changer de dimension
     </button>
<button class="confetti-btn" onclick="explodeFireConfetti()">
      üî• Confettis Enflamm√©s üî•
     </button>
<button class="music-btn" onclick="toggleMusic()">
      üéµ Animal Crossing Vibes üéµ
     </button>
<audio id="acMusic" loop="" muted="">
<source src="https://lambda.vgmtreasurechest.com/soundtracks/animal-crossing-new-horizons-2020-switch-gamerip/apvmuolo/1-09.%209%20a.m.%20%28~Sunny%20Weather~%29.mp3" type="audio/mpeg"/>
</audio>
</div>
<div class="page" id="games">
<h1>
      Zone de Jeux
     </h1>
<p class="subtitle">
      Choisissez votre aventure pixelis√©e
     </p>
<div class="games-grid">
<div class="game-card" onclick="showGame('snake')">
<h3>
        üêç Snake N√©on
       </h3>
<p>
        Le classique revisit√©
       </p>
</div>
<div class="game-card" onclick="showGame('pong')">
<h3>
        üèì Cyber Pong
       </h3>
<p>
        D√©fi r√©tro-futuriste
       </p>
</div>
<div class="game-card" onclick="showGame('particles')">
<h3>
        ‚ú® Particules
       </h3>
<p>
        Cr√©ez votre galaxie
       </p>
</div>
<div class="game-card" onclick="showGame('lutin')">
<h3>
        üßù Lutin Gourmand
       </h3>
<p>
        Muffins &amp; Or!
       </p>
</div>
</div>
<div id="arena-section" style="margin-top:3rem;text-align:center;">
<h2 style="color:#ffd700;font-family:Orbitron,monospace;text-shadow:0 0 20px #ff6b35;margin-bottom:1rem;">
       ‚öîÔ∏è AR√àNE DU DESTIN ‚öîÔ∏è
      </h2>
<p class="subtitle" style="margin-bottom:2rem;">
       Cliquez sur les combattants pour attaquer!
      </p>
<div id="fight-arena" style="position:relative;margin:0 auto;width:500px;height:400px;background:radial-gradient(ellipse at center,#2a1a0a 0%,#1a0a00 50%,#0a0500 100%);border:8px solid #8b4513;border-radius:50%;box-shadow:inset 0 0 100px rgba(255,100,0,0.3),0 0 50px rgba(139,69,19,0.8),0 0 100px rgba(255,69,0,0.4);overflow:hidden;">
<div style="position:absolute;inset:10px;border:4px dashed rgba(255,200,100,0.3);border-radius:50%;">
</div>
<div style="position:absolute;inset:30px;border:2px solid rgba(255,150,50,0.2);border-radius:50%;">
</div>
<div id="arena-flames" style="position:absolute;bottom:-10px;left:0;right:0;height:60px;background:linear-gradient(to top,rgba(255,100,0,0.8),rgba(255,150,0,0.4),transparent);animation:flamesFlicker 0.5s ease-in-out infinite alternate;">
</div>
<div id="crowd" style="position:absolute;top:5px;left:50%;transform:translateX(-50%);font-size:16px;opacity:0.6;animation:crowdCheer 1s ease-in-out infinite;">
        üë•üë•üë•üë•üë•üë•üë•üë•üë•
       </div>
<div id="puppy" style="position:absolute;left:25%;top:50%;transform:translate(-50%,-50%);font-size:80px;cursor:pointer;filter:drop-shadow(0 0 20px #4169e1);transition:all 0.3s;">
        üê∂
        <div id="dog-health" style="position:absolute;bottom:-30px;left:50%;transform:translateX(-50%);width:80px;height:10px;background:#333;border-radius:5px;overflow:hidden;border:2px solid #4169e1;">
<div id="dog-health-bar" style="width:100%;height:100%;background:linear-gradient(90deg,#4169e1,#00bfff);transition:width 0.3s;">
</div>
</div>
<div style="position:absolute;top:-25px;left:50%;transform:translateX(-50%);font-size:14px;color:#4169e1;font-weight:bold;text-shadow:0 0 10px #4169e1;">
         DOGGO
        </div>
</div>
<div id="cat" style="position:absolute;left:75%;top:50%;transform:translate(-50%,-50%);font-size:80px;cursor:pointer;filter:drop-shadow(0 0 20px #ff1493);transition:all 0.3s;">
        üê±
        <div id="cat-health" style="position:absolute;bottom:-30px;left:50%;transform:translateX(-50%);width:80px;height:10px;background:#333;border-radius:5px;overflow:hidden;border:2px solid #ff1493;">
<div id="cat-health-bar" style="width:100%;height:100%;background:linear-gradient(90deg,#ff1493,#ff69b4);transition:width 0.3s;">
</div>
</div>
<div style="position:absolute;top:-25px;left:50%;transform:translateX(-50%);font-size:14px;color:#ff1493;font-weight:bold;text-shadow:0 0 10px #ff1493;">
         KITTY
        </div>
</div>
</div>
<div id="fight-score" style="margin-top:1.5rem;background:linear-gradient(135deg,rgba(0,0,0,0.9),rgba(50,0,0,0.9));color:#fff;padding:20px 40px;border-radius:20px;font-family:Orbitron,monospace;font-size:24px;border:3px solid #ffd700;box-shadow:0 0 30px rgba(255,215,0,0.5);display:inline-block;">
<div style="font-size:14px;color:#ffd700;margin-bottom:10px;">
        üèÜ SCORE üèÜ
       </div>
       üê∂
       <span id="dog-score" style="color:#4169e1;font-size:32px;text-shadow:0 0 10px #4169e1;">
        0
       </span>
<span style="color:#ffd700;">
        VS
       </span>
<span id="cat-score" style="color:#ff1493;font-size:32px;text-shadow:0 0 10px #ff1493;">
        0
       </span>
       üê±
       <br/>
<small id="fight-status" style="color:#aaa;font-size:12px;">
        üîî Premier √† 5 victoires gagne!
       </small>
<br/>
<button id="auto-fight-btn" style="margin-top:10px;padding:8px 20px;background:linear-gradient(45deg,#ff6b35,#ffd700);border:none;border-radius:20px;color:#000;font-family:Orbitron,monospace;font-weight:bold;cursor:pointer;font-size:12px;transition:all 0.3s;">
        ‚öîÔ∏è AUTO-COMBAT ‚öîÔ∏è
       </button>
</div>
<div id="fight-effects" style="pointer-events:none;">
</div>
</div>
<script>
      const messagesContainer = document.getElementById('messages');const chatInput = document.getElementById('chat-input');const sendButton = document.getElementById('send-message');sendButton.addEventListener('click', () => {const message = chatInput.value; if (message.trim()) {const messageElement = document.createElement('div');messageElement.textContent = message;messageElement.style.margin = '5px 0';messagesContainer.appendChild(messageElement);chatInput.value = '';messagesContainer.scrollTop = messagesContainer.scrollHeight;}});

(function() {
  const firebaseConfig = {
    apiKey: "AIzaSyDemoKeyForTesting123",
    authDomain: "twitch-collab-chat.firebaseapp.com",
    databaseURL: "https://twitch-collab-chat-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "twitch-collab-chat"
  };
  const messagesDiv = document.getElementById('messages');
  const chatInput = document.getElementById('chat-input');
  const usernameInput = document.getElementById('username-input');
  const sendBtn = document.getElementById('send-message');
  let userId = localStorage.getItem('chat-user-id');
  if (!userId) { userId = 'user_' + Math.random().toString(36).substr(2, 9); localStorage.setItem('chat-user-id', userId); }
  let username = localStorage.getItem('chat-username') || '';
  usernameInput.value = username;
  const colors = ['#ff6b6b','#4ecdc4','#45b7d1','#96ceb4','#ffeaa7','#dfe6e9','#fd79a8','#a29bfe','#00b894','#e17055'];
  const userColor = colors[Math.abs(userId.split('').reduce((a,b) => a + b.charCodeAt(0), 0)) % colors.length];
  let messages = JSON.parse(localStorage.getItem('realtime-chat') || '[]');
  function renderMessages() { ... } // Reste inchang√©
  function sendMessage() { ... } // Reste inchang√©
  sendBtn.addEventListener('click', sendMessage);
  chatInput.addEventListener('keypress', e => { if (e.key === 'Enter') sendMessage(); });
})();
     </script>
<div id="gameContainer">
<canvas height="400" id="snakeCanvas" width="400">
</canvas>
<canvas height="400" id="pongCanvas" width="600">
</canvas>
<canvas height="400" id="particlesCanvas" width="600">
</canvas>
<canvas height="400" id="lutinCanvas" width="600">
</canvas>
<div id="gameControls">
<p>
<span id="gameInstructions">
         S√©lectionnez un jeu
        </span>
        | Score:
        <span id="score">
         0
        </span>
</p>
</div>
</div>
</div>
<div class="page" id="about">
<h1>
      √Ä propos
     </h1>
<div class="about-content">
<p class="glowing-text">
       Cet espace est une exp√©rience collaborative en temps r√©el
      </p>
<p>
       Chaque pixel raconte une histoire, chaque ligne de code est une aventure.
      </p>
<div class="stats">
<div class="stat-card">
<h3>
         ‚àû
        </h3>
<p>
         Possibilit√©s
        </p>
</div>
<div class="stat-card">
<h3>
         42
        </h3>
<p>
         R√©ponses
        </p>
</div>
<div class="stat-card">
<h3>
         1337
        </h3>
<p>
         Lignes de magie
        </p>
</div>
</div>
</div>
</div>
<div class="page" id="gallery">
<h1>
      Galerie Digitale
     </h1>
<p class="subtitle">
      Art g√©n√©ratif et cr√©ations algorithmiques
     </p>
<div class="art-grid">
<div class="art-piece" id="art1">
</div>
<div class="art-piece" id="art2">
</div>
<div class="art-piece" id="art3">
</div>
<div class="art-piece" id="art4">
</div>
<div class="art-piece" id="art5">
<pre id="llamaArt">       .=*=.
      /  6 6\
     |  (_)  |
     /`-._.-'`\
    /    |    \
   /     |     \
  |  |   |   |  |
  |  |   |   |  |
  |__|   |   |__|
   LL    |    LL
         |
    ~~ LLAMA ~~</pre>
<div class="llama-sparkles">
</div>
<p style="margin-top:10px;font-size:12px;color:#8b5a2b">
        ü¶ô Pixel Llama ü¶ô
       </p>
</div>
<div class="art-piece" id="art6" style="background:linear-gradient(180deg,#1a1a2e,#16213e,#0f3460);display:flex;align-items:center;justify-content:center;flex-direction:column;position:relative;overflow:hidden">
<pre id="yetiArt" style="font-size:7px;line-height:1;color:#e8f4f8;text-shadow:0 0 10px rgba(255,255,255,0.5);font-family:monospace;animation:yetiBreathe 3s ease-in-out infinite">        .-"""""-.        
       /  .--.  \       
      |  /    \  |      
      | | (‚óâ)(‚óâ)| |      
      |  \  __  /  |      
       \  '-..-'  /       
    .-'|   ||   |'-.    
   /   |  /__\  |   \   
  |    | |    | |    |  
  |   /  |    |  \   |  
   \_/   |    |   \_/   
    |    |    |    |    
    |   /|    |\   |    
   /|  / |    | \  |\   
  |_| /  |____|  \ |_|  
     (____)  (____)</pre>
<div class="yeti-snow" style="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none">
</div>
<p style="margin-top:10px;font-size:12px;color:#a8d8ea;text-shadow:0 0 10px #a8d8ea">
        ‚ùÑÔ∏è Pixel Y√©ti ‚ùÑÔ∏è
       </p>
</div>
</div>
</div>
<div id="foucault-avatar" style="position:fixed;top:20px;right:20px;cursor:pointer;z-index:1000;transition:transform 0.3s">
<div style="width:80px;height:80px;background:linear-gradient(135deg,#2c2c2c,#1a1a1a);border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 20px rgba(0,0,0,0.4);border:3px solid #8b7355;position:relative">
<div style="font-size:40px;filter:grayscale(0.3)">
       üë®‚Äçü¶≤
      </div>
<div style="position:absolute;top:-5px;left:50%;transform:translateX(-50%);width:60px;height:20px;background:#2c2c2c;border-radius:50% 50% 0 0">
</div>
<div style="position:absolute;top:5px;width:50px;height:8px;background:linear-gradient(90deg,transparent,#555,transparent);border-radius:50%">
</div>
</div>
<div style="text-align:center;margin-top:5px;font-size:10px;color:#8b7355;font-family:Georgia,serif;font-weight:bold">
      M. Foucault
     </div>
</div>
<div id="foucault-speech" style="position:fixed;top:110px;right:20px;background:rgba(255,255,255,0.95);border-radius:15px;padding:15px;max-width:280px;box-shadow:0 4px 20px rgba(0,0,0,0.3);z-index:999;opacity:0;transform:translateY(10px);transition:all 0.4s ease;pointer-events:none;border-left:4px solid #8b7355">
<p style="margin:0;font-family:Georgia,serif;font-size:13px;color:#333;line-height:1.5;font-style:italic">
      ¬´L'√©cole est devenue une machine √† examiner, √† classer, √† normaliser les individus.¬ª
     </p>
<p style="margin:8px 0 0;font-size:10px;color:#666;text-align:right">
      ‚Äî Surveiller et punir, 1975
     </p>
<div style="position:absolute;top:40px;right:-10px;width:0;height:0;border-top:10px solid transparent;border-bottom:10px solid transparent;border-left:10px solid rgba(255,255,255,0.95)">
</div>
</div>
<style>
     #foucault-avatar:hover{transform:scale(1.1)}#foucault-avatar:hover~#foucault-speech,#foucault-avatar:hover+#foucault-speech{opacity:1;transform:translateY(0)}#foucault-speech{animation:none}@keyframes foucaultPulse{0%,100%{box-shadow:0 4px 20px rgba(0,0,0,0.4)}50%{box-shadow:0 4px 30px rgba(139,115,85,0.6)}}
    </style>
<script>
     (function(){const avatar=document.getElementById('foucault-avatar');const speech=document.getElementById('foucault-speech');const citations=[{text:'¬´L\'√©cole est devenue une machine √† examiner, √† classer, √† normaliser les individus.¬ª',source:'‚Äî Surveiller et punir, 1975'},{text:'¬´L\'examen combine les techniques de la hi√©rarchie qui surveille et celles de la sanction qui normalise.¬ª',source:'‚Äî Surveiller et punir, 1975'},{text:'¬´L\'√©cole tend √† constituer des appareils de savoir continu sur les individus.¬ª',source:'‚Äî Surveiller et punir, 1975'},{text:'¬´Le pouvoir disciplinaire s\'exerce en se rendant invisible; en revanche il impose √† ceux qu\'il soumet un principe de visibilit√© obligatoire.¬ª',source:'‚Äî Surveiller et punir, 1975'},{text:'¬´L\'examen fait entrer l\'individualit√© dans un champ documentaire.¬ª',source:'‚Äî Surveiller et punir, 1975'}];let currentIndex=0;avatar.addEventListener('click',function(){currentIndex=(currentIndex+1)%citations.length;const citation=citations[currentIndex];speech.querySelector('p:first-child').textContent=citation.text;speech.querySelector('p:last-of-type').textContent=citation.source;speech.style.opacity='1';speech.style.transform='translateY(0)';setTimeout(()=>{speech.style.opacity='0';speech.style.transform='translateY(10px)';},5000);});avatar.addEventListener('mouseenter',()=>{speech.style.opacity='1';speech.style.transform='translateY(0)';});avatar.addEventListener('mouseleave',()=>{speech.style.opacity='0';speech.style.transform='translateY(10px)';});})();
     function startFight(){ const cat = document.getElementById('cat'); const dog = document.getElementById('puppy'); cat.style.transform = 'translateY(-50%) scale(1.2)'; dog.style.transform = 'translateY(-50%) scale(1.2)'; setTimeout(() => { cat.style.transform = 'translateY(-50%) scale(1)'; dog.style.transform = 'translateY(-50%) scale(1)'; }, 500); }
    </script>
<div class="page" id="contact" style="display:none;">
<h1>
      Contactez-nous
     </h1>
<p>
      Pour toute question, veuillez nous contacter √† l'adresse suivante:
     </p>
<p>
<a href="mailto:support@example.com">
       support@example.com
      </a>
</p>
<button class="theme-toggle">
      Retour √† l'accueil
     </button>
</div>
<div id="chat-container" style="margin-top: 2rem; max-width: 600px; border: 2px solid #9333ea; border-radius: 15px; padding: 1.5rem; background: linear-gradient(135deg, rgba(147,51,234,0.1), rgba(236,72,153,0.1)); box-shadow: 0 0 30px rgba(147,51,234,0.3);">
<h2 style="text-align: center; color: #9333ea; margin-bottom: 1rem; text-shadow: 0 0 10px rgba(147,51,234,0.5);">
      üí¨ Chat en Direct Multi-Joueurs
     </h2>
<div id="chat-status" style="text-align:center;font-size:12px;color:#bf94ff;margin-bottom:10px;">
      üîÑ Connexion...
     </div>
<div id="online-users" style="text-align:center;font-size:11px;color:#ec4899;margin-bottom:10px;">
      üë• Utilisateurs en ligne:
      <span id="user-count">
       1
      </span>
</div>
<div id="messages" style="max-height: 350px; overflow-y: auto; margin-bottom: 1rem; background: rgba(0,0,0,0.3); border-radius: 10px; padding: 10px; scroll-behavior: smooth;">
</div>
<div style="display:flex;gap:10px;align-items:center;">
<input id="username-input" maxlength="15" placeholder="Ton pseudo..." style="width: 100px; padding: 10px; border-radius: 20px; border: 2px solid #ec4899; background: rgba(0,0,0,0.3); color: #fff; font-family: inherit;" type="text"/>
<input id="chat-input" maxlength="200" placeholder="√âcris un message..." style="flex:1; padding: 10px; border-radius: 20px; border: 2px solid #9333ea; background: rgba(0,0,0,0.3); color: #fff; font-family: inherit;" type="text"/>
<button id="send-message" style="padding: 10px 20px; background: linear-gradient(45deg, #9333ea, #ec4899); color: white; border: none; border-radius: 20px; cursor: pointer; font-family: inherit; font-weight: bold; transition: all 0.3s;">
       üöÄ
      </button>
</div>
<div style="margin-top:10px;text-align:center;font-size:10px;color:#666;">
      üí° Les messages sont synchronis√©s en temps r√©el!
     </div>
</div>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js">
</script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js">
</script>
<script>
     (function(){
  const firebaseConfig = {
    apiKey: "AIzaSyDemoKeyForTesting123",
    authDomain: "twitch-collab-chat.firebaseapp.com",
    databaseURL: "https://twitch-collab-chat-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "twitch-collab-chat"
  };
  
  // Fallback: utiliser localStorage + BroadcastChannel pour la d√©mo
  const useFallback = true; // Firebase n√©cessite une vraie config
  
  const messagesDiv = document.getElementById('messages');
  const chatInput = document.getElementById('chat-input');
  const usernameInput = document.getElementById('username-input');
  const sendBtn = document.getElementById('send-message');
  const statusEl = document.getElementById('chat-status');
  const userCountEl = document.getElementById('user-count');
  
  // G√©n√©rer un ID utilisateur unique
  let odatauserid = localStorage.getItem('chat-user-id');
  if(!userId) { userId = 'user_' + Math.random().toString(36).substr(2,9); localStorage.setItem('chat-user-id', odatauserid); }
  
  // R√©cup√©rer ou g√©n√©rer un pseudo
  let username = localStorage.getItem('chat-username') || '';
  usernameInput.value = username;
  
  const colors = ['#ff6b6b','#4ecdc4','#45b7d1','#96ceb4','#ffeaa7','#dfe6e9','#fd79a8','#a29bfe','#00b894','#e17055'];
  const userColor = colors[Math.abs(userId.split('').reduce((a,b)=>a+b.charCodeAt(0),0)) % colors.length];
  
  // BroadcastChannel pour communication entre onglets
  let bc;
  try { bc = new BroadcastChannel('twitch-collab-chat'); } catch(e) {}
  
  // Stockage des messages
  let messages = JSON.parse(localStorage.getItem('realtime-chat') || '[]');
  
  function renderMessages() {
    messagesDiv.innerHTML = '';
    const recentMessages = messages.slice(-50); // Garder les 50 derniers
    recentMessages.forEach(msg => {
      const div = document.createElement('div');
      div.style.cssText = 'margin:8px 0;padding:8px 12px;background:rgba(255,255,255,0.05);border-radius:10px;border-left:3px solid '+msg.color+';animation:fadeIn 0.3s ease';
      const time = new Date(msg.timestamp).toLocaleTimeString('fr-FR',{hour:'2-digit',minute:'2-digit'});
      div.innerHTML = '<span style="color:'+msg.color+';font-weight:bold;font-size:12px;">'+escapeHtml(msg.username)+'</span> <span style="color:#666;font-size:10px;">'+time+'</span><br><span style="color:#fff;">'+escapeHtml(msg.text)+'</span>';
      messagesDiv.appendChild(div);
    });
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
  }
  
  function escapeHtml(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
  }
  
  function sendMessage() {
    const text = chatInput.value.trim();
    username = usernameInput.value.trim() || 'Anonyme';
    localStorage.setItem('chat-username', username);
    
    if(!text) return;
    
    const msg = {
      id: Date.now() + '_' + userId,
      odatauserid,
      username,
      text,
      color: userColor,
      timestamp: Date.now()
    };
    
    messages.push(msg);
    if(messages.length > 100) messages = messages.slice(-100);
    localStorage.setItem('realtime-chat', JSON.stringify(messages));
    
    // Notifier les autres onglets
    if(bc) bc.postMessage({type:'new-message', msg});
    
    renderMessages();
    chatInput.value = '';
    
    // Effet visuel
    sendBtn.style.transform = 'scale(1.2)';
    setTimeout(() => sendBtn.style.transform = 'scale(1)', 200);
  }
  
  sendBtn.addEventListener('click', sendMessage);
  chatInput.addEventListener('keypress', e => { if(e.key === 'Enter') sendMessage(); });
  
  // √âcouter les messages des autres onglets
  if(bc) {
    bc.onmessage = e => {
      if(e.data.type === 'new-message') {
        const exists = messages.find(m => m.id === e.data.msg.id);
        if(!exists) {
          messages.push(e.data.msg);
          localStorage.setItem('realtime-chat', JSON.stringify(messages));
          renderMessages();
        }
      } else if(e.data.type === 'user-ping') {
        bc.postMessage({type:'user-pong', odatauserid});
      }
    };
    
    // Ping pour compter les utilisateurs
    setInterval(() => {
      bc.postMessage({type:'user-ping', odatauserid});
    }, 5000);
  }
  
  // Sync avec localStorage (pour autres navigateurs)
  window.addEventListener('storage', e => {
    if(e.key === 'realtime-chat') {
      messages = JSON.parse(e.newValue || '[]');
      renderMessages();
    }
  });
  
  // Initialisation
  statusEl.innerHTML = '‚úÖ Connect√©! (mode local multi-onglets)';
  statusEl.style.color = '#00ff88';
  renderMessages();
  
  // Message de bienvenue si premier message
  if(messages.length === 0) {
    messages.push({
      id: 'welcome',
      odatauserid: 'system',
      username: 'ü§ñ Syst√®me',
      text: 'Bienvenue dans le chat! Les messages sont partag√©s entre tous les onglets ouverts.',
      color: '#ffd700',
      timestamp: Date.now()
    });
    localStorage.setItem('realtime-chat', JSON.stringify(messages));
    renderMessages();
  }
  
  // Style du bouton
  sendBtn.addEventListener('mouseenter', () => sendBtn.style.boxShadow = '0 0 20px rgba(147,51,234,0.8)');
  sendBtn.addEventListener('mouseleave', () => sendBtn.style.boxShadow = 'none');
})();
    </script>
</div>
</div>
<audio id="robotSound" preload="auto" src="https://www.soundjay.com/button/sounds/button-16.mp3">
</audio>
<audio id="redButtonSound" preload="auto" src="https://cdn.freesound.org/previews/642/642431_14147481-lq.mp3">
</audio>
<div id="easter-egg-hint">
   ü•ö Secrets: Konami Code ‚Üë‚Üë‚Üì‚Üì‚Üê‚Üí‚Üê‚ÜíBA | Triple-clic sur le titre | Tape "llama"
  </div>
<div id="santa-sleigh" style="position:fixed;top:100px;left:100px;z-index:9999;pointer-events:none;font-size:3rem;color:#00ff00;filter:hue-rotate(100deg) saturate(1.5);text-shadow:0 0 15px #00ff00, 0 0 30px #32cd32;transition:none">
   ü¶åü¶åüõ∑üéÖ
   <span style="position:absolute;animation:sparkleTrail .5s infinite;font-size:1rem;color:#00ff00">
    ‚ú®
   </span>
<span style="position:absolute;left:-20px;top:10px;animation:sparkleTrail .7s infinite .2s;font-size:.8rem;color:#32cd32">
    ‚≠ê
   </span>
<span style="position:absolute;left:-40px;top:-5px;animation:sparkleTrail .6s infinite .4s;font-size:1.2rem;color:#90ee90">
    ‚ùÑÔ∏è
   </span>
</div>
<script>
   let currentMode='warm',musicPlaying=false,currentGame=null;
const $=s=>document.querySelector(s),$$=s=>document.querySelectorAll(s);
const acAudio=$('#acMusic'),musicBtn=$('.music-btn');

// Theme
function toggleTheme(){const b=document.body,s=$('.subtitle'),btn=$('.theme-toggle');
if(currentMode==='warm'){b.classList.replace('warm-mode','twitch-mode');s.textContent='< WELCOME TO THE MATRIX >';btn.textContent='[ RETOUR AU CALME ]';currentMode='twitch';generatePixels()}
else{b.classList.replace('twitch-mode','warm-mode');s.textContent='Bienvenue dans cet espace digital';btn.textContent='Changer de dimension';currentMode='warm';$('#pixelContainer').innerHTML=''}}
function generatePixels(){const c=$('#pixelContainer');for(let i=0;i<20;i++)setTimeout(()=>{const p=document.createElement('div');p.className='pixel';p.style.cssText=`position:absolute;width:4px;height:4px;background:#9333ea;box-shadow:0 0 10px #9333ea;left:${Math.random()*100}%;animation:pixelFloat ${10+Math.random()*10}s linear infinite;animation-delay:${Math.random()*10}s`;c.appendChild(p)},i*100)}

// Navigation
$$('.menu-item,.sidebar-item[data-page]').forEach(i=>i.addEventListener('click',e=>{e.preventDefault();const p=i.dataset.page;if(!p)return;
$$('.menu-item,.sidebar-item').forEach(x=>x.classList.remove('active'));
$$(`[data-page="${p}"]`).forEach(x=>x.classList.add('active'));
$$('.page').forEach(x=>{x.classList.remove('active');if(x.id===p)x.classList.add('active')});
if(p!=='games')$$('#gameContainer canvas').forEach(c=>c.style.display='none')}));

// Music
function toggleMusic(){if(musicPlaying){acAudio.pause();musicBtn.textContent='üéµ Animal Crossing Vibes üéµ';musicBtn.classList.remove('playing')}
else{acAudio.muted=false;acAudio.volume=0.5;acAudio.play();musicBtn.textContent='üé∂ Now Playing... üé∂';musicBtn.classList.add('playing');spawnNotes()}musicPlaying=!musicPlaying}
function spawnNotes(){if(!musicPlaying)return;const n=document.createElement('div');n.textContent=['üéµ','üé∂','‚ô™','‚ô´','üå∏','üçÉ'][Math.floor(Math.random()*6)];
n.style.cssText=`position:fixed;bottom:20%;left:${Math.random()*80+10}%;font-size:${Math.random()*20+20}px;pointer-events:none;z-index:9999;animation:noteFloat 3s ease-out forwards`;
document.body.appendChild(n);setTimeout(()=>n.remove(),3000);setTimeout(spawnNotes,800)}

// Confetti
function explodeFireConfetti(){const colors=['#ff6b35','#f7931e','#ffcc00','#ff4500'],shapes=['üî•','‚ú®','üí•','‚≠ê'];
for(let i=0;i<80;i++)setTimeout(()=>{const c=document.createElement('div');c.className='fire-confetti';
if(Math.random()>.5){c.textContent=shapes[Math.floor(Math.random()*shapes.length)];c.style.fontSize=(Math.random()*20+15)+'px'}
else{c.style.cssText+=`width:${Math.random()*15+8}px;height:${Math.random()*15+8}px;background:linear-gradient(${Math.random()*360}deg,${colors[Math.floor(Math.random()*colors.length)]},${colors[Math.floor(Math.random()*colors.length)]});border-radius:${Math.random()>.5?'50%':'2px'}`}
c.style.cssText+=`left:${Math.random()*100}vw;top:-50px;animation:fireConfettiFall ${Math.random()*2+2}s ease-out forwards`;
document.body.appendChild(c);setTimeout(()=>c.remove(),4000)},i*30)}

// Sparkles
function spawnSparkles(e){const emojis=['‚ú®','‚≠ê','üåü','üí´','üíñ'],rect=e.currentTarget.getBoundingClientRect(),cx=rect.left+rect.width/2,cy=rect.top+rect.height/2;
for(let i=0;i<25;i++)setTimeout(()=>{const s=document.createElement('div');s.className='sparkle';s.textContent=emojis[Math.floor(Math.random()*emojis.length)];
s.style.cssText=`font-size:${Math.random()*20+15}px;left:${cx}px;top:${cy}px`;
const a=(Math.PI*2*i)/25,d=Math.random()*100+50,ex=cx+Math.cos(a)*d,ey=cy+Math.sin(a)*d;
s.animate([{left:cx+'px',top:cy+'px',opacity:1,transform:'scale(0) rotate(0)'},{left:ex+'px',top:ey+'px',opacity:0,transform:'scale(1.2) rotate(360deg)'}],{duration:Math.random()*500+800,easing:'ease-out',fill:'forwards'});
document.body.appendChild(s);setTimeout(()=>s.remove(),1500)},i*20);
const sp=$('.monster-speech'),msgs=['Woohoo! ‚ú®','Sparkles! üåü','Magique! üí´'];sp.textContent=msgs[Math.floor(Math.random()*msgs.length)];
setTimeout(()=>sp.textContent='Clique encore! üëæ',1000)}

// Sounds
function playSound(t){$('#'+(t==='robot'?'robotSound':'redButtonSound')).play()}

// Games
function showGame(g){$$('#gameContainer canvas').forEach(c=>c.style.display='none');currentGame=g;
switch(g){case'snake':$('#snakeCanvas').style.display='block';$('#gameInstructions').textContent='‚Üë‚Üì‚Üê‚Üí pour jouer';break;
case'pong':$('#pongCanvas').style.display='block';$('#gameInstructions').textContent='W/S et ‚Üë/‚Üì pour jouer';initPong();break;
case'particles':$('#particlesCanvas').style.display='block';$('#gameInstructions').textContent='Cliquez pour cr√©er';initParticles();break;
case'lutin':$('#lutinCanvas').style.display='block';$('#gameInstructions').textContent='ESPACE pour commencer!';initLutinPrompt();break}}

// Snake
let snake=[{x:200,y:200}],dx=20,dy=0,foodX,foodY,score=0,gameRunning=false,gameInterval;
const snakeCanvas=$('#snakeCanvas'),snakeCtx=snakeCanvas.getContext('2d');
function initSnake(){snake=[{x:200,y:200}];dx=20;dy=0;score=0;$('#score').textContent=score;foodX=Math.floor(Math.random()*20)*20;foodY=Math.floor(Math.random()*20)*20;gameRunning=true}
function snakeLoop(){if(!gameRunning)return;for(let i=4;i<snake.length;i++)if(snake[i].x===snake[0].x&&snake[i].y===snake[0].y){gameRunning=false;clearInterval(gameInterval);snakeCtx.fillStyle='#bf94ff';snakeCtx.font='30px Orbitron';snakeCtx.textAlign='center';snakeCtx.fillText('GAME OVER',200,200);snakeCtx.font='16px Orbitron';snakeCtx.fillText('Press SPACE to restart',200,240);return}
snakeCtx.fillStyle='#1a1a1d';snakeCtx.fillRect(0,0,400,400);snakeCtx.fillStyle='#ec4899';snakeCtx.shadowBlur=15;snakeCtx.shadowColor='#ec4899';snakeCtx.fillRect(foodX,foodY,18,18);snakeCtx.shadowBlur=0;
const head={x:snake[0].x+dx,y:snake[0].y+dy};if(head.x<0)head.x=380;if(head.x>=400)head.x=0;if(head.y<0)head.y=380;if(head.y>=400)head.y=0;snake.unshift(head);
if(snake[0].x===foodX&&snake[0].y===foodY){score+=10;$('#score').textContent=score;foodX=Math.floor(Math.random()*20)*20;foodY=Math.floor(Math.random()*20)*20}else snake.pop();
snakeCtx.fillStyle='#9333ea';snakeCtx.shadowBlur=10;snakeCtx.shadowColor='#9333ea';snake.forEach(p=>snakeCtx.fillRect(p.x,p.y,18,18));snakeCtx.shadowBlur=0}

// Pong
let pongRunning=false,paddle1Y=150,paddle2Y=150,ballX=300,ballY=200,ballDX=4,ballDY=3,pongScore1=0,pongScore2=0;
const pongCanvas=$('#pongCanvas'),pongCtx=pongCanvas.getContext('2d');
function initPong(){if(!pongRunning){pongRunning=true;pongLoop()}}
function pongLoop(){if(!pongRunning||currentGame!=='pong')return;pongCtx.fillStyle='#1a1a1d';pongCtx.fillRect(0,0,600,400);
pongCtx.fillStyle='#ec4899';pongCtx.shadowBlur=10;pongCtx.shadowColor='#ec4899';pongCtx.fillRect(20,paddle1Y,10,100);pongCtx.fillRect(570,paddle2Y,10,100);
pongCtx.beginPath();pongCtx.arc(ballX,ballY,10,0,Math.PI*2);pongCtx.fill();ballX+=ballDX;ballY+=ballDY;
if(ballY<=10||ballY>=390)ballDY=-ballDY;if(ballX<=40&&ballY>=paddle1Y&&ballY<=paddle1Y+100&&ballDX<0)ballDX=-ballDX*1.1;
if(ballX>=560&&ballY>=paddle2Y&&ballY<=paddle2Y+100&&ballDX>0)ballDX=-ballDX*1.1;
if(ballX<0){pongScore2++;ballX=300;ballY=200;ballDX=4;ballDY=3}if(ballX>600){pongScore1++;ballX=300;ballY=200;ballDX=-4;ballDY=3}
if(ballY>paddle2Y+50)paddle2Y+=3;if(ballY<paddle2Y+50)paddle2Y-=3;
pongCtx.strokeStyle='#9333ea';pongCtx.setLineDash([5,15]);pongCtx.beginPath();pongCtx.moveTo(300,0);pongCtx.lineTo(300,400);pongCtx.stroke();
$('#score').textContent=pongScore1+' - '+pongScore2;requestAnimationFrame(pongLoop)}

// Particles
let particles=[];
const particlesCanvas=$('#particlesCanvas'),particlesCtx=particlesCanvas.getContext('2d');
function initParticles(){particlesCanvas.onclick=e=>{const rect=particlesCanvas.getBoundingClientRect(),x=e.clientX-rect.left,y=e.clientY-rect.top;
for(let i=0;i<30;i++)particles.push({x,y,vx:(Math.random()-.5)*8,vy:(Math.random()-.5)*8,size:Math.random()*3+1,color:`hsl(${Math.random()*360},100%,50%)`,life:1})};animateParticles()}
function animateParticles(){if(currentGame!=='particles')return;particlesCtx.fillStyle='rgba(0,0,0,0.05)';particlesCtx.fillRect(0,0,600,400);
particles=particles.filter(p=>p.life>0);particles.forEach(p=>{p.x+=p.vx;p.y+=p.vy;p.vy+=0.1;p.life-=0.01;particlesCtx.fillStyle=p.color;particlesCtx.globalAlpha=p.life;particlesCtx.beginPath();particlesCtx.arc(p.x,p.y,p.size,0,Math.PI*2);particlesCtx.fill()});
particlesCtx.globalAlpha=1;requestAnimationFrame(animateParticles)}

// Lutin
let lutin={x:50,y:300,vy:0,jumping:false},muffins=[],goldCoins=[],traps=[],lutinScore=0,lutinRunning=false,gameSpeed=3;
const lutinCanvas=$('#lutinCanvas'),lutinCtx=lutinCanvas.getContext('2d'),groundY=350;
function initLutinPrompt(){lutinCtx.fillStyle='#228b22';lutinCtx.font='20px Orbitron';lutinCtx.textAlign='center';lutinCtx.fillText('üßù Appuie sur ESPACE! üßù',300,200)}
function initLutin(){lutin={x:50,y:groundY-50,vy:0,jumping:false};muffins=[];goldCoins=[];traps=[];lutinScore=0;gameSpeed=3;lutinRunning=true;$('#gameInstructions').textContent='ESPACE/‚Üë pour sauter!';lutinLoop()}
function lutinLoop(){if(!lutinRunning||currentGame!=='lutin')return;
const g=lutinCtx.createLinearGradient(0,0,0,400);g.addColorStop(0,'#87ceeb');g.addColorStop(1,'#98fb98');lutinCtx.fillStyle=g;lutinCtx.fillRect(0,0,600,400);
lutinCtx.fillStyle='#8b4513';lutinCtx.fillRect(0,groundY,600,50);lutinCtx.fillStyle='#228b22';lutinCtx.fillRect(0,groundY-5,600,10);
lutin.vy+=0.8;lutin.y+=lutin.vy;if(lutin.y>=groundY-50){lutin.y=groundY-50;lutin.vy=0;lutin.jumping=false}
if(Math.random()<0.02)muffins.push({x:620,y:groundY-30-Math.random()*100,size:25});
if(Math.random()<0.015)goldCoins.push({x:620,y:groundY-50-Math.random()*80,size:20,angle:0});
if(Math.random()<0.01)traps.push({x:620,y:groundY-25,width:40,height:25});
const col=(a,b)=>a.x<b.x+(b.width||b.size)&&a.x+40>b.x-(b.size||0)&&a.y<b.y+(b.height||b.size)&&a.y+50>b.y-(b.size||0);
muffins=muffins.filter(m=>{m.x-=gameSpeed;if(col(lutin,{x:m.x-m.size,y:m.y-m.size,width:m.size*2,height:m.size*2})){lutinScore+=15;return false}lutinCtx.fillStyle='#deb887';lutinCtx.fillRect(m.x-10,m.y+5,20,15);lutinCtx.fillStyle='#ff6b6b';lutinCtx.beginPath();lutinCtx.arc(m.x,m.y,m.size/2,0,Math.PI*2);lutinCtx.fill();return m.x>-30});
goldCoins=goldCoins.filter(g=>{g.x-=gameSpeed;g.angle+=0.1;if(col(lutin,{x:g.x-g.size,y:g.y-g.size,width:g.size*2,height:g.size*2})){lutinScore+=25;return false}lutinCtx.fillStyle='#ffd700';lutinCtx.shadowBlur=15;lutinCtx.shadowColor='#ffd700';lutinCtx.beginPath();lutinCtx.arc(g.x,g.y,g.size/2,0,Math.PI*2);lutinCtx.fill();lutinCtx.shadowBlur=0;return g.x>-30});
traps=traps.filter(t=>{t.x-=gameSpeed;if(col(lutin,t)){lutinRunning=false;lutinCtx.fillStyle='rgba(0,0,0,0.7)';lutinCtx.fillRect(0,0,600,400);lutinCtx.fillStyle='#ffd700';lutinCtx.font='bold 40px Orbitron';lutinCtx.textAlign='center';lutinCtx.fillText('GAME OVER',300,180);lutinCtx.font='20px Orbitron';lutinCtx.fillStyle='#fff';lutinCtx.fillText('Score: '+lutinScore,300,220);lutinCtx.fillText('ESPACE pour rejouer',300,260);return false}lutinCtx.fillStyle='#4a4a4a';for(let i=0;i<4;i++){lutinCtx.beginPath();lutinCtx.moveTo(t.x+i*10,t.y+t.height);lutinCtx.lineTo(t.x+i*10+5,t.y);lutinCtx.lineTo(t.x+i*10+10,t.y+t.height);lutinCtx.fill()}return t.x>-50});
lutinCtx.fillStyle='#228b22';lutinCtx.beginPath();lutinCtx.ellipse(lutin.x+20,lutin.y+35,15,20,0,0,Math.PI*2);lutinCtx.fill();lutinCtx.fillStyle='#ffdab9';lutinCtx.beginPath();lutinCtx.arc(lutin.x+20,lutin.y+12,12,0,Math.PI*2);lutinCtx.fill();lutinCtx.fillStyle='#ff4500';lutinCtx.beginPath();lutinCtx.moveTo(lutin.x+8,lutin.y+5);lutinCtx.lineTo(lutin.x+20,lutin.y-15);lutinCtx.lineTo(lutin.x+32,lutin.y+5);lutinCtx.fill();
$('#score').textContent=lutinScore;gameSpeed+=0.001;requestAnimationFrame(lutinLoop)}

// Controls
const keys={};
document.addEventListener('keydown',e=>{keys[e.key]=true;
if(currentGame==='snake'){if(!gameRunning&&e.code==='Space'){initSnake();gameInterval=setInterval(snakeLoop,100);return}if(!gameRunning)return;const gu=dy===-20,gd=dy===20,gr=dx===20,gl=dx===-20;if(e.key==='ArrowLeft'&&!gr){dx=-20;dy=0}if(e.key==='ArrowUp'&&!gd){dx=0;dy=-20}if(e.key==='ArrowRight'&&!gl){dx=20;dy=0}if(e.key==='ArrowDown'&&!gu){dx=0;dy=20}}
if(currentGame==='pong'){if(keys['w']||keys['W'])paddle1Y=Math.max(0,paddle1Y-20);if(keys['s']||keys['S'])paddle1Y=Math.min(300,paddle1Y+20)}
if(currentGame==='lutin'&&(e.code==='Space'||e.key==='ArrowUp')){e.preventDefault();if(!lutinRunning)initLutin();else if(!lutin.jumping){lutin.vy=-15;lutin.jumping=true}}});
document.addEventListener('keyup',e=>keys[e.key]=false);

// Easter Eggs
let konamiCode=['ArrowUp','ArrowUp','ArrowDown','ArrowDown','ArrowLeft','ArrowRight','ArrowLeft','ArrowRight','b','a'],konamiIndex=0,typedKeys='',titleClicks=0,titleTimer=null;
document.addEventListener('keydown',e=>{if(e.key===konamiCode[konamiIndex]){konamiIndex++;if(konamiIndex===konamiCode.length){$('h1').style.animation='glitch 0.3s ease-in-out 5';setTimeout(()=>$('h1').style.animation='',1500);konamiIndex=0}}else konamiIndex=0});
document.addEventListener('keypress',e=>{typedKeys+=e.key.toLowerCase();if(typedKeys.length>10)typedKeys=typedKeys.slice(-10);if(typedKeys.includes('llama')){typedKeys='';summonLlama()}});
$('#mainTitle').onclick=()=>{titleClicks++;clearTimeout(titleTimer);titleTimer=setTimeout(()=>titleClicks=0,500);if(titleClicks>=3){titleClicks=0;activateRainbow()}};
function activateRainbow(){document.body.style.animation='rainbowBg 2s ease';for(let i=0;i<15;i++)setTimeout(()=>{const u=document.createElement('div');u.textContent=['ü¶Ñ','üåà','‚≠ê'][Math.floor(Math.random()*3)];u.style.cssText=`position:fixed;font-size:${Math.random()*30+20}px;left:${Math.random()*100}vw;top:100vh;z-index:10000;pointer-events:none;animation:unicornRise 3s ease-out forwards`;document.body.appendChild(u);setTimeout(()=>u.remove(),3000)},i*100);
const m=document.createElement('div');m.innerHTML='ü¶Ñ MODE LICORNE ACTIV√â! üåà';m.style.cssText='position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2rem;color:#fff;text-shadow:0 0 20px #ff69b4,0 0 40px #9333ea;z-index:10001;animation:secretPop 2s ease-out forwards;pointer-events:none';document.body.appendChild(m);setTimeout(()=>m.remove(),2000)}
function summonLlama(){const l=document.createElement('div');l.innerHTML='<pre style="font-size:6px;line-height:1;color:#9333ea">   .=*=.\n  /  ^ ^\\\n |  (o)  |\nü¶ô LLAMA! ü¶ô</pre>';l.style.cssText='position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(255,255,255,.95);padding:2rem;border-radius:20px;z-index:10002;animation:llamaSpin 1s ease;box-shadow:0 0 50px rgba(147,51,234,.8)';document.body.appendChild(l);for(let i=0;i<20;i++)setTimeout(()=>{const m=document.createElement('span');m.textContent='ü¶ô';m.style.cssText=`position:fixed;font-size:30px;left:${Math.random()*100}vw;top:${Math.random()*100}vh;z-index:10001;animation:llamaBounce .5s ease infinite;pointer-events:none`;document.body.appendChild(m);setTimeout(()=>m.remove(),2000)},i*50);setTimeout(()=>l.remove(),2500)}

// Art2 dynamic
setInterval(()=>{if($('#gallery').classList.contains('active'))$('#art2').style.background=`radial-gradient(circle at ${Math.random()*100}% ${Math.random()*100}%,rgba(147,51,234,${Math.random()}),rgba(236,72,153,${Math.random()}),rgba(6,182,212,${Math.random()}),#000)`},2000);

// Llama hover
$('#art5').onmouseenter=()=>{const c=$('#art5 .llama-sparkles');for(let i=0;i<10;i++)setTimeout(()=>{const s=document.createElement('span');s.textContent=['‚ú®','üåü','üíú','ü¶ô'][Math.floor(Math.random()*4)];s.style.cssText=`position:absolute;left:${Math.random()*80+10}%;top:${Math.random()*80+10}%;font-size:${Math.random()*15+10}px;animation:sparkleAnim 1s ease-out forwards;pointer-events:none`;c.appendChild(s);setTimeout(()=>s.remove(),1000)},i*100)};

// Santa
setInterval(()=>{const s=$('#santa-sleigh');if(s&&Math.random()>.7){const h=document.createElement('div');h.textContent='Ho Ho Ho! üéÑ';h.style.cssText='position:fixed;font-size:1rem;color:#f00;font-weight:bold;text-shadow:0 0 10px #fff;z-index:10000;animation:hohoFloat 2s ease-out forwards;pointer-events:none';const r=s.getBoundingClientRect();h.style.left=r.left+'px';h.style.top=(r.top+50)+'px';document.body.appendChild(h);setTimeout(()=>h.remove(),2000)}},3000);

// Audio hint
(function(){let hi=false;const enable=()=>{if(!hi){hi=true;acAudio.muted=false;acAudio.volume=0.5;acAudio.play().then(()=>{musicPlaying=true;musicBtn.textContent='üé∂ Now Playing... üé∂';musicBtn.classList.add('playing');spawnNotes()}).catch(()=>{})}};['click','touchstart','keydown'].forEach(e=>document.addEventListener(e,enable,{once:true,passive:true}));
const h=document.createElement('div');h.id='audio-hint';h.innerHTML='üéµ Cliquez pour activer la musique!';h.style.cssText='position:fixed;top:20px;left:50%;transform:translateX(-50%);background:rgba(147,51,234,.9);color:#fff;padding:10px 20px;border-radius:25px;z-index:10000;font-size:14px;animation:pulse 2s infinite;cursor:pointer';document.body.appendChild(h);const rm=()=>{const x=$('#audio-hint');if(x){x.style.animation='fadeOut .5s forwards';setTimeout(()=>x.remove(),500)}};document.addEventListener('click',rm,{once:true});setTimeout(rm,5000)})();
  </script>
<script>
   (function(){ setTimeout(function(){ const board = document.getElementById('chess-board'); if(board) { const squares = board.querySelectorAll('div'); for(let i=0; i<64; i++) { if(squares[i].textContent === '‚ôï') squares[i].textContent = ''; } if(squares[3]) squares[3].textContent = '‚ôï'; squares[3].style.background = 'linear-gradient(45deg, #ffd700, #ff6b6b)'; squares[3].style.animation = 'pulse 0.5s infinite'; squares[4].style.background = 'rgba(255,0,0,0.5)'; const status = document.getElementById('chess-status'); if(status) { status.innerHTML = 'üèÜüëë COSMO WON! üëëüèÜ'; status.style.color = '#ffd700'; status.style.fontSize = '14px'; status.style.fontWeight = 'bold'; status.style.textShadow = '0 0 10px #ffd700'; status.style.animation = 'pulse 1s infinite'; } const log = document.getElementById('chess-log'); if(log) log.innerHTML = 'üéâ √âCHEC ET MAT! COSMO WINS! üéâ<br>‚ôï Dame en d8 - Roi pi√©g√©!<br>' + log.innerHTML; } const victory = document.createElement('div'); victory.innerHTML = 'üèÜ COSMO WON! üèÜ'; victory.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:4rem;color:#ffd700;text-shadow:0 0 30px #ffd700,0 0 60px #ff6b6b;z-index:99999;animation:secretPop 3s ease-out forwards;pointer-events:none;font-family:Orbitron,monospace'; document.body.appendChild(victory); for(let i=0;i<50;i++) { setTimeout(()=>{ const confetti = document.createElement('div'); confetti.textContent = ['üëë','üèÜ','‚≠ê','‚ú®','üéâ'][Math.floor(Math.random()*5)]; confetti.style.cssText = 'position:fixed;font-size:'+(Math.random()*30+20)+'px;left:'+Math.random()*100+'vw;top:-50px;z-index:99998;animation:fireConfettiFall '+(Math.random()*2+2)+'s ease-out forwards;pointer-events:none'; document.body.appendChild(confetti); setTimeout(()=>confetti.remove(),4000); }, i*50); } setTimeout(()=>victory.remove(),3000); }, 500); })();
  </script>
<script>
   (function(){
const initialBoard = [
  ['‚ôú','‚ôû','‚ôù','‚ôõ','‚ôö','‚ôù','‚ôû','‚ôú'],
  ['‚ôü','‚ôü','‚ôü','‚ôü','‚ôü','‚ôü','‚ôü','‚ôü'],
  ['','','','','','','',''],
  ['','','','','','','',''],
  ['','','','','','','',''],
  ['','','','','','','',''],
  ['‚ôô','‚ôô','‚ôô','‚ôô','‚ôô','‚ôô','‚ôô','‚ôô'],
  ['‚ôñ','‚ôò','‚ôó','‚ôï','‚ôî','‚ôó','‚ôò','‚ôñ']
];
let board = JSON.parse(JSON.stringify(initialBoard));
let whiteTurn = true;
let moveHistory = [];

const whitePieces = ['‚ôî','‚ôï','‚ôñ','‚ôó','‚ôò','‚ôô'];
const blackPieces = ['‚ôö','‚ôõ','‚ôú','‚ôù','‚ôû','‚ôü'];

function renderBoard() {
  const container = document.getElementById('chess-board');
  if(!container) return;
  container.innerHTML = '';
  for(let r=0; r<8; r++) {
    for(let c=0; c<8; c++) {
      const sq = document.createElement('div');
      sq.style.cssText = `width:28px;height:28px;display:flex;align-items:center;justify-content:center;font-size:20px;cursor:pointer;background:${(r+c)%2===0?'#f0d9b5':'#b58863'};transition:background 0.2s`;
      sq.dataset.row = r;
      sq.dataset.col = c;
      sq.textContent = board[r][c];
      sq.onmouseenter = () => sq.style.boxShadow = 'inset 0 0 10px rgba(147,51,234,0.8)';
      sq.onmouseleave = () => sq.style.boxShadow = 'none';
      container.appendChild(sq);
    }
  }
}

function parseMove(moveStr) {
  const clean = moveStr.replace('!move','').trim().toLowerCase();
  if(clean.length < 4) return null;
  const fromCol = clean.charCodeAt(0) - 97;
  const fromRow = 8 - parseInt(clean[1]);
  const toCol = clean.charCodeAt(2) - 97;
  const toRow = 8 - parseInt(clean[3]);
  if(fromCol<0||fromCol>7||toCol<0||toCol>7||fromRow<0||fromRow>7||toRow<0||toRow>7) return null;
  return {fromRow, fromCol, toRow, toCol};
}

function isValidMove(move) {
  const piece = board[move.fromRow][move.fromCol];
  if(!piece) return false;
  const isWhite = whitePieces.includes(piece);
  if(whiteTurn && !isWhite) return false;
  if(!whiteTurn && isWhite) return false;
  const target = board[move.toRow][move.toCol];
  if(target) {
    const targetIsWhite = whitePieces.includes(target);
    if(isWhite === targetIsWhite) return false;
  }
  return true;
}

function makeMove(moveStr) {
  const move = parseMove(moveStr);
  if(!move) {
    addLog('‚ùå Format invalide! Ex: e2e4');
    return false;
  }
  if(!isValidMove(move)) {
    addLog('‚ùå Coup ill√©gal!');
    return false;
  }
  const piece = board[move.fromRow][move.fromCol];
  const captured = board[move.toRow][move.toCol];
  board[move.toRow][move.toCol] = piece;
  board[move.fromRow][move.fromCol] = '';
  whiteTurn = !whiteTurn;
  const notation = String.fromCharCode(97+move.fromCol)+(8-move.fromRow)+String.fromCharCode(97+move.toCol)+(8-move.toRow);
  moveHistory.push(notation);
  addLog((whiteTurn?'‚¨õ':'‚¨ú')+' '+piece+' '+notation+(captured?' x'+captured:''));
  updateStatus();
  renderBoard();
  highlightMove(move);
  return true;
}

function highlightMove(move) {
  setTimeout(() => {
    const squares = document.querySelectorAll('#chess-board div');
    const fromIdx = move.fromRow*8+move.fromCol;
    const toIdx = move.toRow*8+move.toCol;
    if(squares[fromIdx]) squares[fromIdx].style.background = 'rgba(147,51,234,0.5)';
    if(squares[toIdx]) squares[toIdx].style.background = 'rgba(236,72,153,0.5)';
    setTimeout(() => renderBoard(), 1500);
  }, 50);
}

function updateStatus() {
  const status = document.getElementById('chess-status');
  if(status) status.textContent = 'Tour: '+(whiteTurn?'‚¨ú Blancs':'‚¨õ Noirs');
}

function addLog(msg) {
  const log = document.getElementById('chess-log');
  if(log) {
    log.innerHTML = msg+'<br>'+log.innerHTML;
    if(log.children.length > 10) log.innerHTML = log.innerHTML.split('<br>').slice(0,10).join('<br>');
  }
}

function handleInput() {
  const input = document.getElementById('chess-input');
  if(input && input.value) {
    makeMove(input.value);
    input.value = '';
  }
}

document.getElementById('chess-send')?.addEventListener('click', handleInput);
document.getElementById('chess-input')?.addEventListener('keypress', e => { if(e.key==='Enter') handleInput(); });

window.twitchChessMove = makeMove;
renderBoard();
addLog('üéÆ !move e2e4 pour jouer');

setInterval(() => {
  if(Math.random() > 0.95 && !whiteTurn) {
    const moves = ['e7e5','d7d5','g8f6','b8c6','f8c5'];
    const randomMove = moves[Math.floor(Math.random()*moves.length)];
  }
}, 5000);
})();
  </script>
<script>
   (function(){ setTimeout(function(){ if(window.twitchChessMove) { window.twitchChessMove('e2e4'); } else { const board = document.getElementById('chess-board'); if(board) { const squares = board.querySelectorAll('div'); if(squares[52]) squares[52].textContent = ''; if(squares[36]) squares[36].textContent = '‚ôô'; const status = document.getElementById('chess-status'); if(status) status.textContent = 'Tour: ‚¨õ Noirs'; const log = document.getElementById('chess-log'); if(log) log.innerHTML = '‚¨õ ‚ôô e2e4<br>' + log.innerHTML; } } }, 500); })();
  </script>
<script>
   (function(){ setTimeout(function(){ if(window.twitchChessMove) { window.twitchChessMove('e7e5'); } else { const board = document.getElementById('chess-board'); if(board) { const squares = board.querySelectorAll('div'); if(squares[12]) squares[12].textContent = ''; if(squares[28]) squares[28].textContent = '‚ôü'; const status = document.getElementById('chess-status'); if(status) status.textContent = 'Tour: ‚¨ú Blancs'; const log = document.getElementById('chess-log'); if(log) log.innerHTML = '‚¨ú ‚ôü e7e5<br>' + log.innerHTML; } } }, 500); })();
  </script>
<script>
   (function(){setTimeout(function(){const board=document.getElementById('chess-board');if(board){const squares=board.querySelectorAll('div');for(let i=0;i<64;i++){if(squares[i].textContent==='‚ôï')squares[i].textContent='';if(squares[i].textContent==='‚ôö')squares[i].textContent='';}if(squares[3]){squares[3].textContent='‚ôö';squares[3].style.background='linear-gradient(45deg,#00ff88,#00ffff)';squares[3].style.animation='pulse 0.5s infinite';squares[3].style.fontSize='24px';squares[3].style.textShadow='0 0 15px #00ff88';}const status=document.getElementById('chess-status');if(status){status.innerHTML='üèÜüëë ARTIX WINS! üëëüèÜ';status.style.color='#00ff88';status.style.fontSize='14px';status.style.fontWeight='bold';status.style.textShadow='0 0 15px #00ff88';status.style.animation='pulse 1s infinite';}const log=document.getElementById('chess-log');if(log)log.innerHTML='üéâ ‚ôö CAPTURE ‚ôï! ARTIX WINS! üéâ<br>Roi en d8 - Dame captur√©e!<br>'+log.innerHTML;}const victory=document.createElement('div');victory.innerHTML='üèÜ ARTIX WINS! üèÜ<br><span style="font-size:2rem">üëë LE ROI TRIOMPHE! üëë</span>';victory.style.cssText='position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:4rem;color:#00ff88;text-shadow:0 0 30px #00ff88,0 0 60px #00ffff,0 0 90px #ff00ff;z-index:99999;animation:secretPop 4s ease-out forwards;pointer-events:none;font-family:Orbitron,monospace;text-align:center;background:rgba(0,0,0,0.8);padding:40px;border-radius:30px;border:4px solid #00ff88';document.body.appendChild(victory);for(let i=0;i<100;i++){setTimeout(()=>{const confetti=document.createElement('div');confetti.textContent=['üëë','üèÜ','‚≠ê','‚ú®','üéâ','üíé','üåü','‚ôö','üéä','üíú'][Math.floor(Math.random()*10)];confetti.style.cssText='position:fixed;font-size:'+(Math.random()*40+20)+'px;left:'+Math.random()*100+'vw;top:-50px;z-index:99998;animation:fireConfettiFall '+(Math.random()*3+2)+'s ease-out forwards;pointer-events:none';document.body.appendChild(confetti);setTimeout(()=>confetti.remove(),5000);},i*40);}for(let i=0;i<30;i++){setTimeout(()=>{const firework=document.createElement('div');firework.style.cssText='position:fixed;width:10px;height:10px;border-radius:50%;left:'+(Math.random()*80+10)+'vw;top:'+(Math.random()*50+20)+'vh;z-index:99997;pointer-events:none;box-shadow:0 0 20px 10px hsl('+Math.random()*360+',100%,50%);animation:secretPop 1.5s ease-out forwards';document.body.appendChild(firework);for(let j=0;j<15;j++){const spark=document.createElement('div');spark.style.cssText='position:fixed;width:5px;height:5px;border-radius:50%;background:hsl('+Math.random()*360+',100%,60%);left:'+firework.style.left+';top:'+firework.style.top+';z-index:99996;pointer-events:none;box-shadow:0 0 10px currentColor';const angle=Math.random()*Math.PI*2;const distance=Math.random()*150+50;spark.animate([{transform:'translate(0,0) scale(1)',opacity:1},{transform:'translate('+(Math.cos(angle)*distance)+'px,'+(Math.sin(angle)*distance)+'px) scale(0)',opacity:0}],{duration:1500,easing:'ease-out',fill:'forwards'});document.body.appendChild(spark);setTimeout(()=>spark.remove(),1500);}setTimeout(()=>firework.remove(),1500);},i*200);}document.body.style.animation='rainbowBg 3s ease';setTimeout(()=>{document.body.style.animation='';victory.remove();},5000);},500);})();
  </script>
<div id="dragon-container" style="position:fixed;bottom:50px;left:50%;transform:translateX(-50%);z-index:1000;pointer-events:none;font-size:80px;filter:drop-shadow(0 0 20px #ff6b35);transition:transform 0.3s">
   üêâ
  </div>
<style>
   #dragon-container{animation:dragonFloat 3s ease-in-out infinite}@keyframes dragonFloat{0%,100%{transform:translateX(-50%) translateY(0) scaleX(-1)}50%{transform:translateX(-50%) translateY(-15px) scaleX(-1)}}@keyframes fireBreath{0%{transform:scale(0) translateY(0);opacity:1}50%{transform:scale(1.5) translateY(-30px);opacity:0.8}100%{transform:scale(2) translateY(-60px);opacity:0}}@keyframes dragonRoar{0%{transform:translateX(-50%) scale(1) scaleX(-1)}25%{transform:translateX(-50%) scale(1.2) scaleX(-1)}50%{transform:translateX(-50%) scale(1.1) scaleX(-1)}100%{transform:translateX(-50%) scale(1) scaleX(-1)}}.fire-particle{position:fixed;pointer-events:none;z-index:999;animation:fireBreath 1s ease-out forwards}
  </style>
<script>
   (function(){const dragon=document.getElementById('dragon-container');let lastFireTime=0;document.addEventListener('click',function(e){const now=Date.now();if(now-lastFireTime<300)return;lastFireTime=now;dragon.style.animation='none';dragon.offsetHeight;dragon.style.animation='dragonRoar 0.5s ease, dragonFloat 3s ease-in-out infinite 0.5s';const dragonRect=dragon.getBoundingClientRect();const startX=dragonRect.left+dragonRect.width/2;const startY=dragonRect.top;const targetX=e.clientX;const targetY=e.clientY;const angle=Math.atan2(targetY-startY,targetX-startX);for(let i=0;i<25;i++){setTimeout(()=>{const fire=document.createElement('div');fire.className='fire-particle';const fireEmojis=['üî•','üí•','‚ú®','üåü','üí´','‚≠ê'];fire.textContent=fireEmojis[Math.floor(Math.random()*fireEmojis.length)];fire.style.fontSize=(Math.random()*30+20)+'px';fire.style.left=startX+'px';fire.style.top=startY+'px';const spread=(Math.random()-0.5)*1;const distance=Math.random()*200+100;const endX=startX+Math.cos(angle+spread)*distance;const endY=startY+Math.sin(angle+spread)*distance;document.body.appendChild(fire);fire.animate([{left:startX+'px',top:startY+'px',opacity:1,transform:'scale(0.5)'},{left:endX+'px',top:endY+'px',opacity:0,transform:'scale(1.5) rotate('+(Math.random()*360)+'deg)'}],{duration:Math.random()*500+500,easing:'ease-out',fill:'forwards'});setTimeout(()=>fire.remove(),1000);},i*30);}const roar=document.createElement('div');roar.textContent=['ROAAAR!','üî•üî•üî•','GRAAAH!','*crache du feu*'][Math.floor(Math.random()*4)];roar.style.cssText='position:fixed;left:'+(dragonRect.left+dragonRect.width/2)+'px;top:'+(dragonRect.top-30)+'px;transform:translateX(-50%);color:#ff6b35;font-family:Orbitron,monospace;font-size:16px;font-weight:bold;text-shadow:0 0 10px #ff6b35;z-index:1001;pointer-events:none;animation:noteFloat 1.5s ease-out forwards';document.body.appendChild(roar);setTimeout(()=>roar.remove(),1500);});})();
  </script>
<script>
</script>
<script>
   (function(){const sleigh=document.getElementById('santa-sleigh');const scoreEl=document.getElementById('corner-score');const statusEl=document.getElementById('corner-status');if(!sleigh)return;sleigh.style.animation='none';let x=100,y=100;let vx=3,vy=2.5;let cornerHits=0;const sleighWidth=180,sleighHeight=60;const cornerThreshold=15;function checkCorner(){const atLeft=x<=cornerThreshold;const atRight=x>=window.innerWidth-sleighWidth-cornerThreshold;const atTop=y<=cornerThreshold;const atBottom=y>=window.innerHeight-sleighHeight-cornerThreshold;if((atLeft||atRight)&&(atTop||atBottom)){cornerHits++;scoreEl.textContent=cornerHits;sleigh.style.filter='hue-rotate('+(Math.random()*360)+'deg) saturate(2) brightness(1.5)';sleigh.style.textShadow='0 0 30px #ff00ff, 0 0 60px #00ffff, 0 0 90px #ffff00';statusEl.textContent='üéâ CORNER HIT #'+cornerHits+'! üéâ';statusEl.style.color='#ff00ff';celebrateCorner();setTimeout(()=>{sleigh.style.filter='hue-rotate(100deg) saturate(1.5)';sleigh.style.textShadow='0 0 15px #00ff00, 0 0 30px #32cd32';statusEl.style.color='#00ff00';statusEl.textContent='Prochain corner dans...';},2000);return true;}return false;}function celebrateCorner(){for(let i=0;i<30;i++){setTimeout(()=>{const confetti=document.createElement('div');confetti.textContent=['üéÑ','‚≠ê','üéÖ','‚ùÑÔ∏è','üéÅ','‚ú®'][Math.floor(Math.random()*6)];confetti.style.cssText='position:fixed;font-size:'+(Math.random()*30+15)+'px;left:'+x+'px;top:'+y+'px;z-index:10000;pointer-events:none;animation:fireConfettiFall '+(Math.random()*2+1)+'s ease-out forwards';document.body.appendChild(confetti);setTimeout(()=>confetti.remove(),3000);},i*50);}}function animate(){x+=vx;y+=vy;if(x<=0){x=0;vx=-vx;changeColor();}if(x>=window.innerWidth-sleighWidth){x=window.innerWidth-sleighWidth;vx=-vx;changeColor();}if(y<=0){y=0;vy=-vy;changeColor();}if(y>=window.innerHeight-sleighHeight){y=window.innerHeight-sleighHeight;vy=-vy;changeColor();}checkCorner();sleigh.style.left=x+'px';sleigh.style.top=y+'px';sleigh.style.transform=vx>0?'scaleX(1)':'scaleX(-1)';requestAnimationFrame(animate);}function changeColor(){const hue=Math.random()*60+80;sleigh.style.filter='hue-rotate('+hue+'deg) saturate(1.5)';}animate();})();
  </script>
<script>
   (function(){
  const pages = ['home', 'games', 'about', 'gallery'];
  let currentPageIndex = 0;
  let autoRotateInterval;
  
  function rotateToNextPage() {
    currentPageIndex = (currentPageIndex + 1) % pages.length;
    const targetPage = pages[currentPageIndex];
    
    // Mettre √† jour les classes active du menu
    document.querySelectorAll('.menu-item').forEach(item => {
      item.classList.remove('active');
      if(item.dataset.page === targetPage) {
        item.classList.add('active');
      }
    });
    
    // Mettre √† jour les pages visibles avec animation
    document.querySelectorAll('.page').forEach(page => {
      page.classList.remove('active');
      if(page.id === targetPage) {
        page.classList.add('active');
      }
    });
    
    // Cacher les canvas si on quitte la page jeux
    if(targetPage !== 'games') {
      document.querySelectorAll('#gameContainer canvas').forEach(c => c.style.display = 'none');
    }
    
    // Petit effet visuel pour indiquer le changement
    showPageTransitionNotification(targetPage);
  }
  
  function showPageTransitionNotification(pageName) {
    const pageNames = {
      'home': 'üè† Accueil',
      'games': 'üéÆ Jeux',
      'about': '‚ú® √Ä propos',
      'gallery': 'üé® Galerie'
    };
    
    const notif = document.createElement('div');
    notif.innerHTML = pageNames[pageName] || pageName;
    notif.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(147,51,234,0.9);color:#fff;padding:20px 40px;border-radius:30px;font-size:1.5rem;font-family:Orbitron,monospace;z-index:10001;pointer-events:none;box-shadow:0 0 30px rgba(147,51,234,0.8);animation:secretPop 1.5s ease-out forwards';
    document.body.appendChild(notif);
    setTimeout(() => notif.remove(), 1500);
  }
  
  // Synchroniser avec l'index actuel si l'utilisateur clique manuellement
  document.querySelectorAll('.menu-item').forEach(item => {
    item.addEventListener('click', function() {
      const clickedPage = this.dataset.page;
      currentPageIndex = pages.indexOf(clickedPage);
    });
  });
  
  // D√©marrer la rotation automatique
  autoRotateInterval = setInterval(rotateToNextPage, 30000);
  
  // Indicateur visuel de la rotation auto
  const indicator = document.createElement('div');
  indicator.id = 'auto-rotate-indicator';
  indicator.innerHTML = 'üîÑ Auto-rotation: <span id="countdown">30</span>s';
  indicator.style.cssText = 'position:fixed;bottom:10px;right:10px;background:rgba(147,51,234,0.7);color:#fff;padding:8px 15px;border-radius:20px;font-size:12px;font-family:Orbitron,monospace;z-index:1000;cursor:pointer;transition:all 0.3s';
  indicator.title = 'Cliquez pour d√©sactiver';
  document.body.appendChild(indicator);
  
  // Countdown visuel
  let countdown = 30;
  const countdownEl = document.getElementById('countdown');
  const countdownInterval = setInterval(() => {
    countdown--;
    if(countdown <= 0) countdown = 30;
    if(countdownEl) countdownEl.textContent = countdown;
  }, 1000);
  
  // Toggle auto-rotation on click
  let autoRotateEnabled = true;
  indicator.addEventListener('click', function() {
    autoRotateEnabled = !autoRotateEnabled;
    if(autoRotateEnabled) {
      autoRotateInterval = setInterval(rotateToNextPage, 30000);
      indicator.innerHTML = 'üîÑ Auto-rotation: <span id="countdown">30</span>s';
      indicator.style.background = 'rgba(147,51,234,0.7)';
      countdown = 30;
    } else {
      clearInterval(autoRotateInterval);
      indicator.innerHTML = '‚è∏Ô∏è Rotation paus√©e';
      indicator.style.background = 'rgba(100,100,100,0.7)';
    }
  });
  
  indicator.addEventListener('mouseenter', () => indicator.style.transform = 'scale(1.1)');
  indicator.addEventListener('mouseleave', () => indicator.style.transform = 'scale(1)');
})();
  </script>
<script>
   (function(){const yetiBox=document.getElementById('art6');if(!yetiBox)return;const snowContainer=yetiBox.querySelector('.yeti-snow');function createSnowflake(){const flake=document.createElement('span');flake.className='snowflake';flake.textContent=['‚ùÑ','‚ùÖ','‚ùÜ','‚úß','‚ú¶'][Math.floor(Math.random()*5)];flake.style.left=Math.random()*100+'%';flake.style.fontSize=(Math.random()*10+8)+'px';flake.style.animationDuration=(Math.random()*3+2)+'s';flake.style.animationDelay=Math.random()*2+'s';snowContainer.appendChild(flake);setTimeout(()=>flake.remove(),5000);}setInterval(createSnowflake,300);yetiBox.addEventListener('click',function(){const roar=document.createElement('div');roar.textContent=['GROOAARRR!','*grognement*','‚ùÑÔ∏è‚ùÑÔ∏è‚ùÑÔ∏è','Y√âTI!'][Math.floor(Math.random()*4)];roar.style.cssText='position:absolute;top:20%;left:50%;transform:translateX(-50%);color:#a8d8ea;font-family:Orbitron,monospace;font-size:14px;font-weight:bold;text-shadow:0 0 15px #a8d8ea;z-index:10;pointer-events:none;animation:noteFloat 1.5s ease-out forwards';yetiBox.appendChild(roar);setTimeout(()=>roar.remove(),1500);for(let i=0;i<15;i++){setTimeout(()=>{const ice=document.createElement('span');ice.textContent=['‚ùÑ','üßä','üíé','‚ú®'][Math.floor(Math.random()*4)];ice.style.cssText='position:absolute;font-size:'+(Math.random()*20+15)+'px;left:50%;top:50%;z-index:5;pointer-events:none';const angle=Math.random()*Math.PI*2;const dist=Math.random()*80+30;ice.animate([{transform:'translate(-50%,-50%) scale(0)',opacity:1},{transform:'translate('+(Math.cos(angle)*dist-50)+'%,'+(Math.sin(angle)*dist-50)+'%) scale(1.2)',opacity:0}],{duration:800,easing:'ease-out',fill:'forwards'});yetiBox.appendChild(ice);setTimeout(()=>ice.remove(),800);},i*30);}});})();
  </script>
<script>
   const messagesContainer = document.getElementById('messages');const chatInput = document.getElementById('chat-input');const sendButton = document.getElementById('send-message');sendButton.addEventListener('click', () => {const message = chatInput.value; if (message.trim()) {const messageElement = document.createElement('div');messageElement.textContent = message;messageElement.style.margin = '5px 0';messagesContainer.appendChild(messageElement);chatInput.value = '';messagesContainer.scrollTop = messagesContainer.scrollHeight;}});
  </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js">
</script>
<script>
   (function(){const puppy=document.getElementById('puppy');const cat=document.getElementById('cat');const effects=document.getElementById('fight-effects');let dogScore=0;let catScore=0;let fighting=false;const fightSounds=['POW!','BAM!','WOOF!','MEOW!','SCRATCH!','BITE!','*griffe*','*aboie*','üí•','‚ö°','üí´','üåü'];const catAttacks=['üòæ','üôÄ','üòº','üëä','üí¢'];const dogAttacks=['üêï','üò§','üí™','ü¶¥','üí¢'];function spawnEffect(x,y,text){const effect=document.createElement('div');effect.textContent=text;effect.style.cssText='position:fixed;font-size:'+(Math.random()*30+20)+'px;left:'+x+'px;top:'+y+'px;pointer-events:none;z-index:1001;font-family:Orbitron,monospace;font-weight:bold;color:hsl('+(Math.random()*360)+',100%,50%);text-shadow:0 0 10px currentColor';document.body.appendChild(effect);gsap.to(effect,{y:-80,x:(Math.random()-0.5)*100,opacity:0,scale:1.5,rotation:(Math.random()-0.5)*60,duration:1,ease:'power2.out',onComplete:()=>effect.remove()});}function updateScore(){document.getElementById('dog-score').textContent=dogScore;document.getElementById('cat-score').textContent=catScore;}function fight(attacker){if(fighting)return;fighting=true;const isdog=attacker==='dog';const attackerEl=isdog?puppy:cat;const defenderEl=isdog?cat:puppy;const attackerRect=attackerEl.getBoundingClientRect();const defenderRect=defenderEl.getBoundingClientRect();gsap.timeline().to(attackerEl,{x:isdog?80:-80,scale:1.3,duration:0.2,ease:'power2.in'}).to(attackerEl,{x:isdog?120:-120,duration:0.1,ease:'power2.out'}).add(()=>{for(let i=0;i<8;i++){setTimeout(()=>{spawnEffect(defenderRect.left+Math.random()*50,defenderRect.top+Math.random()*50,fightSounds[Math.floor(Math.random()*fightSounds.length)]);},i*50);}attackerEl.textContent=isdog?dogAttacks[Math.floor(Math.random()*dogAttacks.length)]:catAttacks[Math.floor(Math.random()*catAttacks.length)];}).to(defenderEl,{x:isdog?50:-50,rotation:isdog?30:-30,scale:0.8,duration:0.2,ease:'power2.out'}).to(defenderEl,{x:0,rotation:0,scale:1,duration:0.3,ease:'elastic.out(1,0.5)'}).to(attackerEl,{x:0,scale:1,duration:0.3,ease:'elastic.out(1,0.5)'},'-=0.2').add(()=>{attackerEl.textContent=isdog?'üê∂':'üê±';if(Math.random()>0.3){if(isdog)dogScore++;else catScore++;updateScore();const winner=isdog?'üê∂ WOOF!':'üê± MEOW!';spawnEffect(attackerRect.left,attackerRect.top-50,winner);}else{spawnEffect(defenderRect.left,defenderRect.top-50,'ESQUIVE!');}fighting=false;});gsap.to([puppy,cat],{y:()=>(Math.random()-0.5)*20,duration:0.1,repeat:5,yoyo:true,ease:'none'});}puppy.addEventListener('click',()=>fight('dog'));cat.addEventListener('click',()=>fight('cat'));function idleAnimations(){gsap.to(puppy,{y:-10,duration:0.5,repeat:-1,yoyo:true,ease:'power1.inOut'});gsap.to(cat,{rotation:5,duration:0.8,repeat:-1,yoyo:true,ease:'power1.inOut',transformOrigin:'bottom center'});}setTimeout(idleAnimations,100);setInterval(()=>{if(!fighting&&Math.random()>0.7){const taunt=document.createElement('div');taunt.textContent=Math.random()>0.5?'Viens te battre! üê∂':'Approche si tu oses! üê±';taunt.style.cssText='position:fixed;left:8%;top:28%;background:rgba(255,255,255,0.9);padding:8px 15px;border-radius:15px;font-size:12px;z-index:102;pointer-events:none';document.body.appendChild(taunt);gsap.to(taunt,{opacity:0,y:-20,duration:2,delay:1,onComplete:()=>taunt.remove()});}},5000);})();
  </script>
<style>
   @keyframes flamesFlicker{0%{opacity:0.7;transform:scaleY(1)}100%{opacity:1;transform:scaleY(1.2)}}
@keyframes crowdCheer{0%,100%{transform:translateX(-50%) translateY(0)}50%{transform:translateX(-50%) translateY(-5px)}}
@keyframes victoryGlow{0%{box-shadow:0 0 20px currentColor}50%{box-shadow:0 0 60px currentColor,0 0 100px currentColor}100%{box-shadow:0 0 20px currentColor}}
@keyframes knockback{0%{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-50%,-50%) scale(0.7) rotate(20deg)}100%{transform:translate(-50%,-50%) scale(1)}}
@keyframes attackLunge{0%{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-50%,-50%) scale(1.3) translateX(var(--attack-dir))}100%{transform:translate(-50%,-50%) scale(1)}}
#auto-fight-btn:hover{transform:scale(1.1);box-shadow:0 0 20px #ffd700;}
.arena-spark{position:fixed;pointer-events:none;z-index:1002;}
  </style>
<script>
   (function(){
  const puppy=document.getElementById('puppy');
  const cat=document.getElementById('cat');
  const dogHealthBar=document.getElementById('dog-health-bar');
  const catHealthBar=document.getElementById('cat-health-bar');
  const fightStatus=document.getElementById('fight-status');
  const autoFightBtn=document.getElementById('auto-fight-btn');
  
  let dogScore=0,catScore=0;
  let dogHealth=100,catHealth=100;
  let fighting=false;
  let autoFighting=false;
  let autoFightInterval;
  let matchWinner=null;
  
  const WIN_SCORE=5;
  
  function updateHealthBars(){
    dogHealthBar.style.width=Math.max(0,dogHealth)+'%';
    catHealthBar.style.width=Math.max(0,catHealth)+'%';
  }
  
  function updateScores(){
    document.getElementById('dog-score').textContent=dogScore;
    document.getElementById('cat-score').textContent=catScore;
  }
  
  function spawnArenaEffect(x,y,text,color){
    const effect=document.createElement('div');
    effect.className='arena-spark';
    effect.textContent=text;
    effect.style.cssText='font-size:'+(Math.random()*25+20)+'px;left:'+x+'px;top:'+y+'px;color:'+color+';font-family:Orbitron,monospace;font-weight:bold;text-shadow:0 0 15px '+color;
    document.body.appendChild(effect);
    effect.animate([{transform:'translateY(0) scale(1)',opacity:1},{transform:'translateY(-60px) scale(1.5)',opacity:0}],{duration:800,easing:'ease-out'});
    setTimeout(()=>effect.remove(),800);
  }
  
  function declareRoundWinner(winner){
    if(winner==='dog'){
      dogScore++;
      fightStatus.innerHTML='üê∂ DOGGO remporte le round!';
      fightStatus.style.color='#4169e1';
      puppy.style.animation='victoryGlow 0.5s ease-in-out 3';
    }else{
      catScore++;
      fightStatus.innerHTML='üê± KITTY remporte le round!';
      fightStatus.style.color='#ff1493';
      cat.style.animation='victoryGlow 0.5s ease-in-out 3';
    }
    updateScores();
    dogHealth=100;catHealth=100;
    updateHealthBars();
    
    if(dogScore>=WIN_SCORE||catScore>=WIN_SCORE){
      declareMatchWinner(dogScore>=WIN_SCORE?'dog':'cat');
    }
  }
  
  function declareMatchWinner(winner){
    matchWinner=winner;
    autoFighting=false;
    clearInterval(autoFightInterval);
    autoFightBtn.textContent='üîÑ REJOUER';
    
    const winnerName=winner==='dog'?'üê∂ DOGGO':'üê± KITTY';
    const winnerColor=winner==='dog'?'#4169e1':'#ff1493';
    
    fightStatus.innerHTML='üèÜ '+winnerName+' EST LE CHAMPION! üèÜ';
    fightStatus.style.color='#ffd700';
    fightStatus.style.fontSize='16px';
    
    const victory=document.createElement('div');
    victory.innerHTML='üëë '+winnerName+' WINS! üëë';
    victory.style.cssText='position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:60px;color:'+winnerColor+';text-shadow:0 0 30px '+winnerColor+',0 0 60px #ffd700;z-index:10000;font-family:Orbitron,monospace;animation:secretPop 3s ease-out forwards;pointer-events:none';
    document.body.appendChild(victory);
    
    for(let i=0;i<50;i++){
      setTimeout(()=>{
        const confetti=document.createElement('div');
        confetti.textContent=['üèÜ','üëë','‚≠ê','üéâ','üí•',winner==='dog'?'üê∂':'üê±'][Math.floor(Math.random()*6)];
        confetti.style.cssText='position:fixed;font-size:'+(Math.random()*30+20)+'px;left:'+Math.random()*100+'vw;top:-50px;z-index:9999;pointer-events:none;animation:fireConfettiFall '+(Math.random()*2+2)+'s ease-out forwards';
        document.body.appendChild(confetti);
        setTimeout(()=>confetti.remove(),4000);
      },i*50);
    }
    setTimeout(()=>victory.remove(),3000);
  }
  
  function resetMatch(){
    dogScore=0;catScore=0;dogHealth=100;catHealth=100;
    matchWinner=null;
    updateScores();updateHealthBars();
    fightStatus.innerHTML='üîî Premier √† 5 victoires gagne!';
    fightStatus.style.color='#aaa';
    fightStatus.style.fontSize='12px';
    autoFightBtn.textContent='‚öîÔ∏è AUTO-COMBAT ‚öîÔ∏è';
  }
  
  function fight(attacker){
    if(fighting||matchWinner)return;
    fighting=true;
    
    const isdog=attacker==='dog';
    const attackerEl=isdog?puppy:cat;
    const defenderEl=isdog?cat:puppy;
    const attackerRect=attackerEl.getBoundingClientRect();
    const defenderRect=defenderEl.getBoundingClientRect();
    
    const damage=Math.floor(Math.random()*25)+10;
    const critical=Math.random()>0.8;
    const actualDamage=critical?damage*2:damage;
    
    attackerEl.style.setProperty('--attack-dir',isdog?'50px':'-50px');
    attackerEl.style.animation='attackLunge 0.3s ease-out';
    
    setTimeout(()=>{
      defenderEl.style.animation='knockback 0.3s ease-out';
      
      if(isdog){catHealth-=actualDamage;}else{dogHealth-=actualDamage;}
      updateHealthBars();
      
      const effects=critical?['üí•CRIT!','‚ö°'+actualDamage,'üî•']:['POW!',''+actualDamage,'üí´'];
      effects.forEach((e,i)=>{
        setTimeout(()=>spawnArenaEffect(defenderRect.left+Math.random()*60,defenderRect.top+Math.random()*60,e,critical?'#ffd700':'#fff'),i*100);
      });
      
      fightStatus.innerHTML=(isdog?'üê∂':'üê±')+' inflige '+actualDamage+' d√©g√¢ts!'+(critical?' CRITIQUE!':'');
      fightStatus.style.color=critical?'#ffd700':'#fff';
      
      if(dogHealth<=0){declareRoundWinner('cat');}
      else if(catHealth<=0){declareRoundWinner('dog');}
      
      setTimeout(()=>{
        attackerEl.style.animation='';
        defenderEl.style.animation='';
        fighting=false;
      },300);
    },150);
  }
  
  puppy.addEventListener('click',()=>fight('dog'));
  cat.addEventListener('click',()=>fight('cat'));
  
  autoFightBtn.addEventListener('click',function(){
    if(matchWinner){resetMatch();return;}
    autoFighting=!autoFighting;
    if(autoFighting){
      this.textContent='‚è∏Ô∏è PAUSE';
      this.style.background='linear-gradient(45deg,#ff4444,#ff6666)';
      autoFightInterval=setInterval(()=>{
        if(!fighting&&!matchWinner)fight(Math.random()>0.5?'dog':'cat');
      },800);
    }else{
      this.textContent='‚öîÔ∏è AUTO-COMBAT ‚öîÔ∏è';
      this.style.background='linear-gradient(45deg,#ff6b35,#ffd700)';
      clearInterval(autoFightInterval);
    }
  });
  
  // Idle animations
  setInterval(()=>{
    if(!fighting&&!matchWinner){
      puppy.style.transform='translate(-50%,-50%) scale('+(1+Math.sin(Date.now()/500)*0.05)+')';
      cat.style.transform='translate(-50%,-50%) scale('+(1+Math.cos(Date.now()/500)*0.05)+')';
    }
  },50);
})();
  </script>
<div id="rabbit-container" style="position:fixed;bottom:100px;left:50%;transform:translateX(-50%);font-size:50px;pointer-events:none;animation:hop 1s infinite;">
<span>
    üêá
   </span>
</div>
</body>
</html>
